const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/chunk-CbFLysZX.js","assets/chunks/chunk-BvsA8yKF.js"])))=>i.map(i=>d[i]);
import{A as e,B as t,E as n,F as r,G as i,H as a,I as o,L as s,M as c,N as l,O as u,P as d,R as f,T as p,U as m,V as h,W as g,_,b as v,g as y,h as b,j as x,k as S,v as C,y as w}from"./chunk-Cc38kaa7.js";import{t as T}from"./chunk-BvsA8yKF.js";var E=class{tree;values;constructor(e){this.tree=new Float64Array(e+1),this.values=new Float64Array(e)}update(e,t){if(!(e<0||e>=this.values.length))for(this.values[e]=this.values[e]+t,e++;e<this.tree.length;)this.tree[e]=this.tree[e]+t,e+=e&-e}query(e){let t=0;for(;e>0;)t+=this.tree[e]||0,e-=e&-e;return t}set(e,t){e<0||e>=this.values.length||(this.values[e]=t)}get length(){return this.values.length}get(e){return this.values[e]||0}getValues(){return this.values}findLowerBound(e){let t=0,n=this.tree.length,r=1<<Math.floor(Math.log2(n-1));for(;r>0;){let i=t+r;if(i<n){let n=this.tree[i]||0;n<=e&&(t=i,e-=n)}r>>=1}return t}rebuild(){this.tree.fill(0);for(let e=0;e<this.values.length;e++)this.tree[e+1]=this.values[e]||0;for(let e=1;e<this.tree.length;e++){let t=e+(e&-e);t<this.tree.length&&(this.tree[t]=this.tree[t]+this.tree[e])}}resize(e){if(e===this.values.length)return;let t=new Float64Array(e);t.set(this.values.subarray(0,Math.min(e,this.values.length))),this.values=t,this.tree=new Float64Array(e+1),this.rebuild()}shift(e){if(e===0)return;let t=this.values.length,n=new Float64Array(t);e>0?n.set(this.values.subarray(0,Math.min(t-e,this.values.length)),e):n.set(this.values.subarray(-e)),this.values=n,this.rebuild()}};function D(e){return e===null||typeof window<`u`&&e===window}function O(e){return!!e&&typeof e==`object`&&`tagName`in e&&e.tagName===`BODY`}function k(e){return D(e)||O(e)}function A(e){return!!e&&`getBoundingClientRect`in e}function j(e){return!!e&&`scrollLeft`in e}function M(e){return typeof e==`object`&&!!e&&(`align`in e||`behavior`in e||`isCorrection`in e)}function N(e,t){return typeof e==`object`&&e?e.x||0:(t===`horizontal`||t===`both`)&&e||0}function P(e,t){return typeof e==`object`&&e?e.y||0:(t===`vertical`||t===`both`)&&e||0}function F(e){let{rowIndex:t,colIndex:n,options:r,itemsLength:i,columnCount:a,direction:o,usableWidth:s,usableHeight:c,totalWidth:l,totalHeight:u,gap:d,columnGap:f,fixedSize:p,fixedWidth:m,relativeScrollX:h,relativeScrollY:g,getItemSizeY:_,getItemSizeX:v,getItemQueryY:y,getItemQueryX:b,getColumnSize:x,getColumnQuery:S,stickyIndices:C}=e,w;w=M(r)?r.align:r;let T=(typeof w==`object`?w.x:w)||`auto`,E=(typeof w==`object`?w.y:w)||`auto`,D=o===`vertical`||o===`both`,O=o===`horizontal`||o===`both`,k=h,A=g,j=0,N=0,P=T===`auto`?`auto`:T,F=E===`auto`?`auto`:E;if(t!=null){let e=0;if(D&&C&&C.length>0){let n,r=0,i=C.length-1;for(;r<=i;){let e=r+i>>>1;C[e]<t?(n=C[e],r=e+1):i=e-1}n!==void 0&&(e=p===null?_(n)-d:p)}let n=0;if(t>=i?(n=u,N=0):(n=p===null?y(t):t*(p+d),N=p===null?_(t)-d:p),E===`start`)A=n-e;else if(E===`center`)A=n-(c-N)/2;else if(E===`end`)A=n-(c-N);else if(!(N<=c-e?n>=g+e-.5&&n+N<=g+c+.5:n<=g+e+.5&&n+N>=g+c-.5)){let t=n-e,r=n-(c-N);N<=c-e?n<g+e?(A=t,F=`start`):(A=r,F=`end`):Math.abs(t-g)<Math.abs(r-g)?(A=t,F=`start`):(A=r,F=`end`)}}if(n!=null){let e=0;if(O&&C&&C.length>0&&(o===`horizontal`||o===`both`)){let t,r=0,i=C.length-1;for(;r<=i;){let e=r+i>>>1;C[e]<n?(t=C[e],r=e+1):i=e-1}t!==void 0&&(e=o===`horizontal`?p===null?v(t)-f:p:m===null?x(t)-f:m)}let t=0;if(n>=a&&a>0?(t=l,j=0):o===`horizontal`?(t=p===null?b(n):n*(p+f),j=p===null?v(n)-f:p):(t=S(n),j=x(n)-f),T===`start`)k=t-e;else if(T===`center`)k=t-(s-j)/2;else if(T===`end`)k=t-(s-j);else if(!(j<=s-e?t>=h+e-.5&&t+j<=h+s+.5:t<=h+e+.5&&t+j>=h+s-.5)){let n=t-e,r=t-(s-j);j<=s-e?t<h+e?(k=n,P=`start`):(k=r,P=`end`):Math.abs(n-h)<Math.abs(r-h)?(k=n,P=`start`):(k=r,P=`end`)}}return k=Math.max(0,Math.min(k,Math.max(0,l-s))),A=Math.max(0,Math.min(A,Math.max(0,u-c))),{targetX:k,targetY:A,itemWidth:j,itemHeight:N,effectiveAlignX:P,effectiveAlignY:F}}function ee(e){let{direction:t,relativeScrollX:n,relativeScrollY:r,usableWidth:i,usableHeight:a,itemsLength:o,bufferBefore:s,bufferAfter:c,gap:l,columnGap:u,fixedSize:d,findLowerBoundY:f,findLowerBoundX:p,queryY:m,queryX:h}=e,g=t===`vertical`||t===`both`,_=0,v=o;if(g)if(d!==null)_=Math.floor(r/(d+l)),v=Math.ceil((r+a)/(d+l));else{_=f(r);let e=r+a;v=f(e),v<o&&m(v)<e&&v++}else if(d!==null)_=Math.floor(n/(d+u)),v=Math.ceil((n+i)/(d+u));else{_=p(n);let e=n+i;v=p(e),v<o&&h(v)<e&&v++}return{start:Math.max(0,_-s),end:Math.min(o,v+c)}}function te(e){let{columnCount:t,relativeScrollX:n,usableWidth:r,colBuffer:i,fixedWidth:a,columnGap:o,findLowerBound:s,query:c,totalColsQuery:l}=e;if(!t)return{start:0,end:0,padStart:0,padEnd:0};let u=0,d=t;if(a!==null)u=Math.floor(n/(a+o)),d=Math.ceil((n+r)/(a+o));else{u=s(n);let e=n+r;d=s(e),d<t&&c(d)<e&&d++}let f=Math.max(0,u-i),p=Math.min(t,d+i),m=a===null?c(f):f*(a+o),h=a===null?Math.max(0,l()-o):t*(a+o)-o,g=a===null?c(p)-(p>=t?o:0):p*(a+o)-(p>=t?o:0);return{start:f,end:p,padStart:m,padEnd:Math.max(0,h-g)}}function ne(e){let{index:t,isSticky:n,direction:r,relativeScrollX:i,relativeScrollY:a,originalX:o,originalY:s,width:c,height:l,stickyIndices:u,fixedSize:d,fixedWidth:f,gap:p,columnGap:m,getItemQueryY:h,getItemQueryX:g}=e,_=!1,v={x:0,y:0};if(!n)return{isStickyActive:_,stickyOffset:v};if((r===`vertical`||r===`both`)&&a>s){let e,n=0,r=u.length-1;for(;n<=r;){let i=n+r>>>1;u[i]>t?(e=u[i],r=i-1):n=i+1}if(e!==void 0){let t=d===null?h(e):e*(d+p);a>=t?_=!1:(_=!0,v.y=Math.max(0,Math.min(l,t-a))-l)}else _=!0}if((r===`horizontal`||r===`both`&&!_)&&i>o){let e,n=0,a=u.length-1;for(;n<=a;){let r=n+a>>>1;u[r]>t?(e=u[r],a=r-1):n=r+1}if(e!==void 0){let t=r===`horizontal`?d===null?g(e):e*(d+m):f===null?g(e):e*(f+m);i>=t?_=!1:(_=!0,v.x=Math.max(0,Math.min(c,t-i))-c)}else _=!0}return{isStickyActive:_,stickyOffset:v}}function re(e){let{index:t,direction:n,fixedSize:r,gap:i,columnGap:a,usableWidth:o,usableHeight:s,totalWidth:c,queryY:l,queryX:u,getSizeY:d,getSizeX:f}=e,p=0,m=0,h=0,g=0;return n===`horizontal`?(p=r===null?u(t):t*(r+a),h=r===null?f(t)-a:r,g=s):(m=(n===`vertical`||n===`both`)&&r!==null?t*(r+i):l(t),g=r===null?d(t)-i:r,h=n===`both`?c:o),{height:g,width:h,x:p,y:m}}function I(e){let{item:t,direction:n,itemSize:r,containerTag:i,paddingStartX:a,paddingStartY:o,isHydrated:s}=e,c=n===`vertical`,l=n===`horizontal`,u=n===`both`,d=r==null||r===0,f={blockSize:l?`100%`:d?`auto`:`${t.size.height}px`};return c&&i===`table`?f.minInlineSize=`100%`:f.inlineSize=c?`100%`:d?`auto`:`${t.size.width}px`,d&&(c||(f.minInlineSize=`1px`),l||(f.minBlockSize=`1px`)),s&&(t.isStickyActive?((c||u)&&(f.insetBlockStart=`${o}px`),(l||u)&&(f.insetInlineStart=`${a}px`),f.transform=`translate(${t.stickyOffset.x}px, ${t.stickyOffset.y}px)`):f.transform=`translate(${t.offset.x}px, ${t.offset.y}px)`),f}function L(e){let{direction:t,itemsLength:n,columnCount:r,fixedSize:i,fixedWidth:a,gap:o,columnGap:s,usableWidth:c,usableHeight:l,queryY:u,queryX:d,queryColumn:f}=e,p=0,m=0;return t===`both`?(r>0&&(p=a===null?Math.max(0,f(r)-s):r*(a+s)-s),m=i===null?Math.max(0,u(n)-(n>0?o:0)):Math.max(0,n*(i+o)-(n>0?o:0)),p=Math.max(p,c),m=Math.max(m,l)):t===`horizontal`?(p=i===null?Math.max(0,d(n)-(n>0?s:0)):Math.max(0,n*(i+s)-(n>0?s:0)),m=l):(p=c,m=i===null?Math.max(0,u(n)-(n>0?o:0)):Math.max(0,n*(i+o)-(n>0?o:0))),{width:p,height:m}}const R=40,z=100,B=5;function V(e){let r=h(0),i=h(0),a=h(!1),o=h(!1),c=h(!1),l=h(!1),d=h(0),f=h(0),p=t({x:0,y:0}),m,g=h(!1),_=new E(e.value.items?.length||0),v=new E(e.value.items?.length||0),b=new E(e.value.columnCount||0),C=h(0),w=new Uint8Array,T=new Uint8Array,D=new Uint8Array,O=h(null),k=h(!1),I=[],R=y(()=>e.value.itemSize===void 0||e.value.itemSize===null||e.value.itemSize===0),z=y(()=>e.value.columnWidth===void 0||e.value.columnWidth===null||e.value.columnWidth===0),B=y(()=>typeof e.value.itemSize==`number`&&e.value.itemSize>0?e.value.itemSize:null),V=y(()=>typeof e.value.columnWidth==`number`&&e.value.columnWidth>0?e.value.columnWidth:null),ie=y(()=>e.value.defaultItemSize||B.value||40),H=y(()=>[...e.value.stickyIndices||[]].sort((e,t)=>e-t)),U=y(()=>new Set(H.value)),W=y(()=>N(e.value.scrollPaddingStart,e.value.direction)),ae=y(()=>N(e.value.scrollPaddingEnd,e.value.direction)),oe=y(()=>P(e.value.scrollPaddingStart,e.value.direction)),G=y(()=>P(e.value.scrollPaddingEnd,e.value.direction)),K=y(()=>{let t=e.value.direction===`horizontal`||e.value.direction===`both`;return d.value-(t?W.value+ae.value:0)}),q=y(()=>{let t=e.value.direction===`vertical`||e.value.direction===`both`;return f.value-(t?oe.value+G.value:0)}),J=y(()=>{if(C.value,!o.value&&e.value.ssrRange&&!l.value){let{start:t=0,end:n=0,colStart:r=0,colEnd:i=0}=e.value.ssrRange,a=e.value.columnCount||0,o=e.value.gap||0,s=e.value.columnGap||0,c=e.value.direction||`vertical`,l=0,u=0;if(c===`both`){if(a>0){let e=i||a,t=b.query(e)-b.query(r);l=Math.max(0,t-(e>r?s:0))}if(B.value!==null){let e=n-t;u=Math.max(0,e*(B.value+o)-(e>0?o:0))}else{let e=v.query(n)-v.query(t);u=Math.max(0,e-(n>t?o:0))}}else if(c===`horizontal`){if(B.value!==null){let e=n-t;l=Math.max(0,e*(B.value+s)-(e>0?s:0))}else{let e=_.query(n)-_.query(t);l=Math.max(0,e-(n>t?s:0))}u=q.value}else if(l=K.value,B.value!==null){let e=n-t;u=Math.max(0,e*(B.value+o)-(e>0?o:0))}else{let e=v.query(n)-v.query(t);u=Math.max(0,e-(n>t?o:0))}return{width:Math.max(l,K.value),height:Math.max(u,q.value)}}return L({direction:e.value.direction||`vertical`,itemsLength:e.value.items.length,columnCount:e.value.columnCount||0,fixedSize:B.value,fixedWidth:V.value,gap:e.value.gap||0,columnGap:e.value.columnGap||0,usableWidth:K.value,usableHeight:q.value,queryY:e=>v.query(e),queryX:e=>_.query(e),queryColumn:e=>b.query(e)})}),Y=y(()=>J.value.width),X=y(()=>J.value.height),Z=y(()=>{let t=e.value.direction===`horizontal`||e.value.direction===`both`?N(e.value.scrollPaddingStart,e.value.direction):0;return Math.max(0,r.value+t-p.x)}),Q=y(()=>{let t=e.value.direction===`vertical`||e.value.direction===`both`?P(e.value.scrollPaddingStart,e.value.direction):0;return Math.max(0,i.value+t-p.y)}),se=t=>{C.value;let n=e.value.columnWidth;if(typeof n==`number`&&n>0)return n;if(Array.isArray(n)&&n.length>0){let r=n[t%n.length];return r!=null&&r>0?r:e.value.defaultColumnWidth||100}return typeof n==`function`?n(t):b.get(t)||e.value.defaultColumnWidth||100},ce=(t,n,a)=>{let o=typeof a==`object`&&a&&`isCorrection`in a?a.isCorrection:!1,s=e.value.container||window,c=e.value.direction===`vertical`||e.value.direction===`both`,l=e.value.direction===`horizontal`||e.value.direction===`both`,{targetX:u,targetY:d,effectiveAlignX:f,effectiveAlignY:m}=F({rowIndex:t,colIndex:n,options:a,itemsLength:e.value.items.length,columnCount:e.value.columnCount||0,direction:e.value.direction||`vertical`,usableWidth:K.value,usableHeight:q.value,totalWidth:Y.value,totalHeight:X.value,gap:e.value.gap||0,columnGap:e.value.columnGap||0,fixedSize:B.value,fixedWidth:V.value,relativeScrollX:Z.value,relativeScrollY:Q.value,getItemSizeY:e=>v.get(e),getItemSizeX:e=>_.get(e),getItemQueryY:e=>v.query(e),getItemQueryX:e=>_.query(e),getColumnSize:e=>b.get(e),getColumnQuery:e=>b.query(e),stickyIndices:H.value});if(!o){let e=M(a)?a.behavior:void 0;O.value={rowIndex:t,colIndex:n,options:{align:{x:f,y:m},...e==null?{}:{behavior:e}}}}let h=u+p.x-(l?W.value:0),y=d+p.y-(c?oe.value:0),x;M(a)&&(x=a.behavior);let S=o?`auto`:x||`smooth`;if(g.value=!0,typeof window<`u`&&s===window)window.scrollTo({left:n==null?void 0:Math.max(0,h),top:t==null?void 0:Math.max(0,y),behavior:S});else if(j(s)){let e={behavior:S};n!=null&&(e.left=Math.max(0,h)),t!=null&&(e.top=Math.max(0,y)),typeof s.scrollTo==`function`?s.scrollTo(e):(e.left!==void 0&&(s.scrollLeft=e.left),e.top!==void 0&&(s.scrollTop=e.top))}(S===`auto`||S===void 0)&&(n!=null&&(r.value=Math.max(0,h)),t!=null&&(i.value=Math.max(0,y)))},le=(t,n,a)=>{let o=e.value.container||window;g.value=!0;let s=e.value.direction===`vertical`||e.value.direction===`both`,c=e.value.direction===`horizontal`||e.value.direction===`both`,l=t==null?null:c?Math.max(0,Math.min(t,Math.max(0,Y.value-K.value))):Math.max(0,t),u=n==null?null:s?Math.max(0,Math.min(n,Math.max(0,X.value-q.value))):Math.max(0,n),d=typeof window<`u`&&o===window?window.scrollX:o.scrollLeft,f=typeof window<`u`&&o===window?window.scrollY:o.scrollTop,m=l===null?d:l+p.x-(c?W.value:0),h=u===null?f:u+p.y-(s?oe.value:0);if(typeof window<`u`&&o===window)window.scrollTo({left:t==null?void 0:m,top:n==null?void 0:h,behavior:a?.behavior||`auto`});else if(j(o)){let e={behavior:a?.behavior||`auto`};t!=null&&(e.left=m),n!=null&&(e.top=h),typeof o.scrollTo==`function`?o.scrollTo(e):(e.left!==void 0&&(o.scrollLeft=e.left),e.top!==void 0&&(o.scrollTop=e.top))}(a?.behavior===`auto`||a?.behavior===void 0)&&(t!=null&&(r.value=m),n!=null&&(i.value=h))},ue=(e,t)=>{if(_.resize(e),v.resize(e),b.resize(t),T.length!==e){let t=new Uint8Array(e);t.set(T.subarray(0,Math.min(e,T.length))),T=t}if(D.length!==e){let t=new Uint8Array(e);t.set(D.subarray(0,Math.min(e,D.length))),D=t}if(w.length!==t){let e=new Uint8Array(t);e.set(w.subarray(0,Math.min(t,w.length))),w=e}},de=()=>{let t=e.value.items.length,n=e.value.columnCount||0,r=e.value.gap||0,i=e.value.columnGap||0,a=e.value.columnWidth,o=!1,s=!1;if(n>0)for(let t=0;t<n;t++){let n=b.get(t),r=w[t]===1;if(!z.value||!r&&n===0){let r=0;r=typeof a==`number`&&a>0?a:Array.isArray(a)&&a.length>0?a[t%a.length]||e.value.defaultColumnWidth||100:typeof a==`function`?a(t):e.value.defaultColumnWidth||100;let s=r+i;Math.abs(n-s)>.5?(b.set(t,s),w[t]=z.value?0:1,o=!0):z.value||(w[t]=1)}}let c=e.value.direction===`vertical`,l=e.value.direction===`horizontal`,u=e.value.direction===`both`;for(let n=0;n<t;n++){let t=e.value.items[n],a=_.get(n),o=v.get(n),d=T[n]===1,f=D[n]===1;if(l){if(!R.value||!d&&a===0){let r=(typeof e.value.itemSize==`function`?e.value.itemSize(t,n):ie.value)+i;Math.abs(a-r)>.5?(_.set(n,r),T[n]=R.value?0:1,s=!0):R.value||(T[n]=1)}}else a!==0&&(_.set(n,0),T[n]=0,s=!0);if(c||u){if(!R.value||!f&&o===0){let i=(typeof e.value.itemSize==`function`?e.value.itemSize(t,n):ie.value)+r;Math.abs(o-i)>.5?(v.set(n,i),D[n]=R.value?0:1,s=!0):R.value||(D[n]=1)}}else o!==0&&(v.set(n,0),D[n]=0,s=!0)}o&&b.rebuild(),s&&(_.rebuild(),v.rebuild())},fe=()=>{let t=e.value.items,n=t.length;ue(n,e.value.columnCount||0);let r=0;if(e.value.restoreScrollOnPrepend&&I.length>0&&n>I.length){let e=I[0];if(e!==void 0){for(let i=1;i<=n-I.length;i++)if(t[i]===e){r=i;break}}}if(r>0){_.shift(r),v.shift(r),O.value&&O.value.rowIndex!==null&&O.value.rowIndex!==void 0&&(O.value.rowIndex+=r);let i=new Uint8Array(n),a=new Uint8Array(n);i.set(T.subarray(0,Math.min(n-r,T.length)),r),a.set(D.subarray(0,Math.min(n-r,D.length)),r),T=i,D=a;let o=e.value.gap||0,s=e.value.columnGap||0,c=0,l=0;for(let n=0;n<r;n++){let r=typeof e.value.itemSize==`function`?e.value.itemSize(t[n],n):ie.value;e.value.direction===`horizontal`?c+=r+s:l+=r+o}(c>0||l>0)&&u(()=>{le(c>0?Z.value+c:null,l>0?Q.value+l:null,{behavior:`auto`})})}de(),I=[...t],k.value=!0,C.value++},$=()=>{if(e.value.hostElement&&typeof window<`u`){let t=e.value.hostElement.getBoundingClientRect(),n=e.value.container||window,r=0,i=0;if(n===window)r=t.left+window.scrollX,i=t.top+window.scrollY;else if(n===e.value.hostElement)r=0,i=0;else if(A(n)){let e=n.getBoundingClientRect();r=t.left-e.left+n.scrollLeft,i=t.top-e.top+n.scrollTop}(Math.abs(p.x-r)>.1||Math.abs(p.y-i)>.1)&&(p.x=r,p.y=i)}};s([()=>e.value.items,()=>e.value.items.length,()=>e.value.direction,()=>e.value.columnCount,()=>e.value.columnWidth,()=>e.value.itemSize,()=>e.value.gap,()=>e.value.columnGap,()=>e.value.defaultItemSize,()=>e.value.defaultColumnWidth],fe,{immediate:!0}),s(()=>[e.value.container,e.value.hostElement],()=>{$()});let pe=t=>{let n=e.value.direction===`horizontal`,r=e.value.gap||0,i=e.value.columnGap||0,a=B.value;return n?a===null?_.findLowerBound(t):Math.floor(t/(a+i)):a===null?v.findLowerBound(t):Math.floor(t/(a+r))},me=(t,n)=>e.value.direction===`both`?b.findLowerBound(t):e.value.direction===`horizontal`?n:0,he=y(()=>{if(C.value,(!o.value||c.value)&&e.value.ssrRange)return{start:e.value.ssrRange.start,end:e.value.ssrRange.end};let t=e.value.ssrRange&&!a.value?0:e.value.bufferBefore??5,n=e.value.bufferAfter??5;return ee({direction:e.value.direction||`vertical`,relativeScrollX:Z.value,relativeScrollY:Q.value,usableWidth:K.value,usableHeight:q.value,itemsLength:e.value.items.length,bufferBefore:t,bufferAfter:n,gap:e.value.gap||0,columnGap:e.value.columnGap||0,fixedSize:B.value,findLowerBoundY:e=>v.findLowerBound(e),findLowerBoundX:e=>_.findLowerBound(e),queryY:e=>v.query(e),queryX:e=>_.query(e)})}),ge=y(()=>(C.value,pe((e.value.direction||`vertical`)===`horizontal`?Z.value:Q.value))),_e=[],ve=y(()=>{C.value;let{start:t,end:n}=he.value,r=[],i=B.value,a=e.value.gap||0,s=e.value.columnGap||0,c=H.value,l=U.value,u=[];if(o.value||!e.value.ssrRange){let e=ge.value,n,r=0,i=c.length-1;for(;r<=i;){let t=r+i>>>1;c[t]<e?(n=c[t],r=t+1):i=t-1}n!==void 0&&n<t&&u.push(n)}for(let e=t;e<n;e++)u.push(e);let d=e.value.ssrRange?.start||0,f=e.value.ssrRange?.colStart||0,p=0,m=0;!o.value&&e.value.ssrRange&&(m=e.value.direction===`vertical`||e.value.direction===`both`?i===null?v.query(d):d*(i+a):0,e.value.direction===`horizontal`?p=i===null?_.query(f):f*(i+s):e.value.direction===`both`&&(p=b.query(f)));let h=new Map(_e.map(e=>[e.index,e]));for(let t of u){let n=e.value.items[t];if(n===void 0)continue;let{x:i,y:a,width:o,height:s}=re({index:t,direction:e.value.direction||`vertical`,fixedSize:B.value,gap:e.value.gap||0,columnGap:e.value.columnGap||0,usableWidth:K.value,usableHeight:q.value,totalWidth:Y.value,queryY:e=>v.query(e),queryX:e=>_.query(e),getSizeY:e=>v.get(e),getSizeX:e=>_.get(e)}),u=l.has(t),d=i,f=a,{isStickyActive:g,stickyOffset:y}=ne({index:t,isSticky:u,direction:e.value.direction||`vertical`,relativeScrollX:Z.value,relativeScrollY:Q.value,originalX:d,originalY:f,width:o,height:s,stickyIndices:c,fixedSize:B.value,fixedWidth:V.value,gap:e.value.gap||0,columnGap:e.value.columnGap||0,getItemQueryY:e=>v.query(e),getItemQueryX:e=>_.query(e)}),b=d-p,x=f-m,S=h.get(t);S&&S.item===n&&S.offset.x===b&&S.offset.y===x&&S.size.width===o&&S.size.height===s&&S.isSticky===u&&S.isStickyActive===g&&S.stickyOffset.x===y.x&&S.stickyOffset.y===y.y?r.push(S):r.push({item:n,index:t,offset:{x:b,y:x},size:{width:o,height:s},originalX:d,originalY:f,isSticky:u,isStickyActive:g,stickyOffset:y})}return _e=r,r}),ye=y(()=>{C.value;let t=e.value.columnCount||0;if(!t)return{start:0,end:0,padStart:0,padEnd:0};if((!o.value||c.value)&&e.value.ssrRange){let{colStart:n=0,colEnd:r=0}=e.value.ssrRange;return{start:Math.max(0,n),end:Math.min(t,r||t),padStart:0,padEnd:0}}let n=e.value.ssrRange&&!a.value?0:2;return te({columnCount:t,relativeScrollX:Z.value,usableWidth:K.value,colBuffer:n,fixedWidth:V.value,columnGap:e.value.columnGap||0,findLowerBound:e=>b.findLowerBound(e),query:e=>b.query(e),totalColsQuery:()=>b.query(t)})}),be=y(()=>{C.value;let e=me(Z.value,ge.value);return{items:ve.value,currentIndex:ge.value,currentColIndex:e,scrollOffset:{x:Z.value,y:Q.value},viewportSize:{width:d.value,height:f.value},totalSize:{width:Y.value,height:X.value},isScrolling:a.value,isProgrammaticScroll:g.value,range:he.value,columnRange:ye.value}}),xe=()=>{g.value=!1,O.value=null},Se=e=>{let t=e.target;typeof window>`u`||(t===window||t===document?(r.value=window.scrollX,i.value=window.scrollY,d.value=document.documentElement.clientWidth,f.value=document.documentElement.clientHeight):j(t)&&(r.value=t.scrollLeft,i.value=t.scrollTop,d.value=t.clientWidth,f.value=t.clientHeight),a.value||=(g.value||(O.value=null),!0),clearTimeout(m),m=setTimeout(()=>{a.value=!1,g.value=!1},250))},Ce=t=>{let n=!1,r=0,i=0,a=e.value.gap||0,o=e.value.columnGap||0,s=Z.value,c=Q.value,l=pe(e.value.direction===`horizontal`?s:c),u=me(s,l),d=e.value.direction===`horizontal`,f=e.value.direction===`vertical`,p=e.value.direction===`both`,m=new Set,h=new Set;for(let{index:s,inlineSize:c,blockSize:g,element:y}of t){if(c<=0&&g<=0)continue;let t=R.value||typeof e.value.itemSize==`function`;if(s>=0&&!m.has(s)&&t&&g>0){if(m.add(s),d&&c>0){let e=_.get(s),t=c+o;if(!T[s]||Math.abs(t-e)>.1){let i=t-e;_.update(s,i),T[s]=1,n=!0,s<l&&(r+=i)}}if(f||p){let e=v.get(s),t=g+a;if(!D[s]||Math.abs(t-e)>.1){let r=t-e;v.update(s,r),D[s]=1,n=!0,s<l&&(i+=r)}}}let x=z.value||typeof e.value.columnWidth==`function`;if(p&&y&&e.value.columnCount&&x&&(c>0||y.dataset.colIndex===void 0)){let t=y.dataset.colIndex;if(t!=null){let i=Number.parseInt(t,10);if(i>=0&&i<(e.value.columnCount||0)&&!h.has(i)){h.add(i);let e=b.get(i),t=c+o;if(!w[i]||Math.abs(e-t)>.1){let a=t-e;Math.abs(a)>.1&&(b.update(i,a),n=!0,i<u&&(r+=a)),w[i]=1}}}else{let t=y.dataset.colIndex===void 0?Array.from(y.querySelectorAll(`[data-col-index]`)):[y];for(let i of t){let t=Number.parseInt(i.dataset.colIndex,10);if(t>=0&&t<(e.value.columnCount||0)&&!h.has(t)){h.add(t);let e=i.getBoundingClientRect().width,a=b.get(t),s=e+o;if(!w[t]||Math.abs(a-s)>.1){let e=s-a;Math.abs(e)>.1&&(b.update(t,e),n=!0,t<u&&(r+=e)),w[t]=1}}}}}}n&&(C.value++,!(O.value!==null||g.value)&&(r!==0||i!==0)&&le(r===0?null:s+r,i===0?null:c+i,{behavior:`auto`}))},we=(e,t,n,r)=>{Ce([{index:e,inlineSize:t,blockSize:n,element:r}])},Te=()=>{if(O.value&&!c.value){let{rowIndex:t,colIndex:n,options:r}=O.value;if(M(r)&&r.behavior===`smooth`&&a.value)return;let{targetX:i,targetY:o}=F({rowIndex:t,colIndex:n,options:r,itemsLength:e.value.items.length,columnCount:e.value.columnCount||0,direction:e.value.direction||`vertical`,usableWidth:K.value,usableHeight:q.value,totalWidth:Y.value,totalHeight:X.value,gap:e.value.gap||0,columnGap:e.value.columnGap||0,fixedSize:B.value,fixedWidth:V.value,relativeScrollX:Z.value,relativeScrollY:Q.value,getItemSizeY:e=>v.get(e),getItemSizeX:e=>_.get(e),getItemQueryY:e=>v.query(e),getItemQueryX:e=>_.query(e),getColumnSize:e=>b.get(e),getColumnQuery:e=>b.query(e),stickyIndices:H.value}),s=n==null||Math.abs(Z.value-i)<1,c=t==null||Math.abs(Q.value-o)<1,l=n==null||n===void 0||w[n]===1,u=t==null||t===void 0||D[t]===1;s&&c?l&&u&&(O.value=null):ce(t,n,M(r)?{...r,isCorrection:!0}:{align:r,isCorrection:!0})}};s([C,d,f],Te),s(a,e=>{e||Te()});let Ee=null,De=e=>{if(!e||typeof window>`u`)return;let t=e===window?document:e;if(t.addEventListener(`scroll`,Se,{passive:!0}),e===window){d.value=document.documentElement.clientWidth,f.value=document.documentElement.clientHeight,r.value=window.scrollX,i.value=window.scrollY;let e=()=>{d.value=document.documentElement.clientWidth,f.value=document.documentElement.clientHeight,$()};return window.addEventListener(`resize`,e),()=>{t.removeEventListener(`scroll`,Se),window.removeEventListener(`resize`,e)}}else return d.value=e.clientWidth,f.value=e.clientHeight,r.value=e.scrollLeft,i.value=e.scrollTop,Ee=new ResizeObserver(t=>{for(let n of t)n.target===e&&(d.value=e.clientWidth,f.value=e.clientHeight,$())}),Ee.observe(e),()=>{t.removeEventListener(`scroll`,Se),Ee?.disconnect()}},Oe;return n()&&(S(()=>{l.value=!0,s(()=>e.value.container,e=>{Oe?.(),Oe=De(e||null)},{immediate:!0}),$(),e.value.ssrRange||e.value.initialScrollIndex!==void 0?u(()=>{$();let t=e.value.initialScrollIndex===void 0?e.value.ssrRange?.start:e.value.initialScrollIndex,n=e.value.initialScrollAlign||`start`;t!=null&&ce(t,e.value.ssrRange?.colStart,{align:n,behavior:`auto`}),o.value=!0,c.value=!0,u(()=>{c.value=!1})}):o.value=!0}),x(()=>{Oe?.()})),{renderedItems:ve,totalWidth:Y,totalHeight:X,scrollDetails:be,scrollToIndex:ce,scrollToOffset:le,stopProgrammaticScroll:xe,updateItemSize:we,updateItemSizes:Ce,updateHostOffset:$,columnRange:ye,getColumnWidth:se,refresh:()=>{_.resize(0),v.resize(0),b.resize(0),w.fill(0),T.fill(0),D.fill(0),fe()},isHydrated:o}}var ie={key:0,class:`virtual-scroll-debug-info`},H=p({__name:`VirtualScroll`,props:{items:{},itemSize:{},direction:{default:`vertical`},bufferBefore:{default:5},bufferAfter:{default:5},container:{},ssrRange:{},columnCount:{default:0},columnWidth:{},containerTag:{default:`div`},wrapperTag:{default:`div`},itemTag:{default:`div`},scrollPaddingStart:{default:0},scrollPaddingEnd:{default:0},stickyHeader:{type:Boolean,default:!1},stickyFooter:{type:Boolean,default:!1},gap:{default:0},columnGap:{default:0},stickyIndices:{default:()=>[]},loadDistance:{default:200},loading:{type:Boolean,default:!1},restoreScrollOnPrepend:{type:Boolean,default:!1},initialScrollIndex:{},initialScrollAlign:{},defaultItemSize:{},defaultColumnWidth:{},debug:{type:Boolean,default:!1}},emits:[`scroll`,`load`,`visibleRangeChange`],setup(e,{expose:t,emit:n}){let p=e,T=n,E=o(),D=h(null),O=h(null),A=h(null),j=h(null),M=new Map,N=h(0),P=h(0),F=y(()=>{let e=p.container===void 0?D.value:p.container;return e===D.value||typeof window<`u`&&(e===window||e===null)}),ee=y(()=>{let e=p.scrollPaddingStart,t=p.scrollPaddingEnd;p.items.length;let n=typeof e==`object`?e.x||0:(p.direction===`horizontal`||p.direction===`both`)&&e||0,r=typeof e==`object`?e.y||0:(p.direction===`vertical`||p.direction===`both`)&&e||0,i=typeof t==`object`?t.x||0:(p.direction===`horizontal`||p.direction===`both`)&&t||0,a=typeof t==`object`?t.y||0:(p.direction===`vertical`||p.direction===`both`)&&t||0;return{items:p.items,itemSize:p.itemSize,direction:p.direction,bufferBefore:p.bufferBefore,bufferAfter:p.bufferAfter,container:p.container===void 0?D.value:p.container,hostElement:O.value,ssrRange:p.ssrRange,columnCount:p.columnCount,columnWidth:p.columnWidth,scrollPaddingStart:{x:n,y:r+(p.stickyHeader&&F.value?N.value:0)},scrollPaddingEnd:{x:i,y:a+(p.stickyFooter&&F.value?P.value:0)},gap:p.gap,columnGap:p.columnGap,stickyIndices:p.stickyIndices,loadDistance:p.loadDistance,loading:p.loading,restoreScrollOnPrepend:p.restoreScrollOnPrepend,initialScrollIndex:p.initialScrollIndex,initialScrollAlign:p.initialScrollAlign,defaultItemSize:p.defaultItemSize,defaultColumnWidth:p.defaultColumnWidth,debug:p.debug}}),{isHydrated:te,columnRange:ne,renderedItems:re,scrollDetails:L,totalHeight:R,totalWidth:z,getColumnWidth:B,scrollToIndex:H,scrollToOffset:U,updateHostOffset:W,updateItemSizes:ae,refresh:oe,stopProgrammaticScroll:G}=V(ee);function K(){oe(),u(()=>{let e=[];for(let[t,n]of M.entries())n&&e.push({index:t,inlineSize:n.offsetWidth,blockSize:n.offsetHeight,element:n});e.length>0&&ae(e)})}s(L,(e,t)=>{te.value&&(T(`scroll`,e),(!t||e.range.start!==t.range.start||e.range.end!==t.range.end||e.columnRange.start!==t.columnRange.start||e.columnRange.end!==t.columnRange.end)&&T(`visibleRangeChange`,{start:e.range.start,end:e.range.end,colStart:e.columnRange.start,colEnd:e.columnRange.end}),!p.loading&&(p.direction!==`horizontal`&&e.totalSize.height-(e.scrollOffset.y+e.viewportSize.height)<=p.loadDistance&&T(`load`,`vertical`),p.direction!==`vertical`&&e.totalSize.width-(e.scrollOffset.x+e.viewportSize.width)<=p.loadDistance&&T(`load`,`horizontal`)))}),s(te,e=>{e&&T(`visibleRangeChange`,{start:L.value.range.start,end:L.value.range.end,colStart:L.value.columnRange.start,colEnd:L.value.columnRange.end})},{once:!0});let q=typeof window>`u`?null:new ResizeObserver(W),J=typeof window>`u`?null:new ResizeObserver(e=>{let t=[];for(let n of e){let e=n.target,r=Number(e.dataset.index),i=e.dataset.colIndex,a=n.contentRect.width,o=n.contentRect.height;n.borderBoxSize&&n.borderBoxSize.length>0?(a=n.borderBoxSize[0].inlineSize,o=n.borderBoxSize[0].blockSize):(a=e.offsetWidth,o=e.offsetHeight),i===void 0?Number.isNaN(r)||t.push({index:r,inlineSize:a,blockSize:o,element:e}):t.push({index:-1,inlineSize:a,blockSize:o,element:e})}t.length>0&&ae(t)}),Y=typeof window>`u`?null:new ResizeObserver(()=>{N.value=A.value?.offsetHeight||0,P.value=j.value?.offsetHeight||0,W()});s(A,(e,t)=>{t&&Y?.unobserve(t),e&&Y?.observe(e)},{immediate:!0}),s(j,(e,t)=>{t&&Y?.unobserve(t),e&&Y?.observe(e)},{immediate:!0}),S(()=>{D.value&&q?.observe(D.value);for(let e of M.values())J?.observe(e),p.direction===`both`&&e.querySelectorAll(`[data-col-index]`).forEach(e=>J?.observe(e))}),s([D,O],([e],[t])=>{t&&q?.unobserve(t),e&&q?.observe(e)});function X(e,t){if(e)M.set(t,e),J?.observe(e),p.direction===`both`&&e.querySelectorAll(`[data-col-index]`).forEach(e=>J?.observe(e));else{let e=M.get(t);e&&(J?.unobserve(e),p.direction===`both`&&e.querySelectorAll(`[data-col-index]`).forEach(e=>J?.unobserve(e)),M.delete(t))}}function Z(e){let{viewportSize:t,scrollOffset:n}=L.value,r=p.direction!==`vertical`,i=p.direction!==`horizontal`;switch(e.key){case`Home`:e.preventDefault(),G(),H(0,0,`start`);break;case`End`:{e.preventDefault(),G();let t=p.items.length-1,n=(p.columnCount||0)>0?p.columnCount-1:0;r?i?H(t,n,`end`):H(0,t,`end`):H(t,0,`end`);break}case`ArrowUp`:e.preventDefault(),G(),U(null,n.y-40);break;case`ArrowDown`:e.preventDefault(),G(),U(null,n.y+40);break;case`ArrowLeft`:e.preventDefault(),G(),U(n.x-40,null);break;case`ArrowRight`:e.preventDefault(),G(),U(n.x+40,null);break;case`PageUp`:e.preventDefault(),G(),U(!i&&r?n.x-t.width:null,i?n.y-t.height:null);break;case`PageDown`:e.preventDefault(),G(),U(!i&&r?n.x+t.width:null,i?n.y+t.height:null);break}}x(()=>{q?.disconnect(),J?.disconnect(),Y?.disconnect()});let Q=y(()=>k(p.container)),se=y(()=>Q.value?{...p.direction===`vertical`?{}:{whiteSpace:`nowrap`}}:p.containerTag===`table`?{minInlineSize:p.direction===`vertical`?`100%`:`auto`}:{...p.direction===`vertical`?{}:{whiteSpace:`nowrap`}}),ce=y(()=>({inlineSize:p.direction===`vertical`?`100%`:`${z.value}px`,blockSize:p.direction===`horizontal`?`100%`:`${R.value}px`})),le=y(()=>{let e=p.direction===`horizontal`;return{display:e?`inline-block`:`block`,...e?{blockSize:`100%`,verticalAlign:`top`}:{inlineSize:`100%`}}}),ue=y(()=>({inlineSize:p.direction===`vertical`?`1px`:`${z.value}px`,blockSize:p.direction===`horizontal`?`1px`:`${R.value}px`}));function de(e){return I({containerTag:p.containerTag,direction:p.direction,isHydrated:te.value,item:e,itemSize:p.itemSize,paddingStartX:ee.value.scrollPaddingStart.x,paddingStartY:ee.value.scrollPaddingStart.y})}let fe=y(()=>p.debug),$=y(()=>p.containerTag===`table`),pe=y(()=>$.value?`thead`:`div`),me=y(()=>$.value?`tfoot`:`div`);return t({scrollDetails:L,columnRange:ne,getColumnWidth:B,scrollToIndex:H,scrollToOffset:U,refresh:K,stopProgrammaticScroll:G}),(t,n)=>(c(),C(r(e.containerTag),{ref_key:`hostRef`,ref:D,class:m([`virtual-scroll-container`,[`virtual-scroll--${e.direction}`,{"virtual-scroll--hydrated":a(te),"virtual-scroll--window":Q.value,"virtual-scroll--table":$.value}]]),style:g(se.value),tabindex:`0`,onKeydown:Z,onWheelPassive:a(G),onPointerdownPassive:a(G),onTouchstartPassive:a(G)},{default:f(()=>[E.header?(c(),C(r(pe.value),{key:0,ref_key:`headerRef`,ref:A,class:m([`virtual-scroll-header`,{"virtual-scroll--sticky":e.stickyHeader}])},{default:f(()=>[d(t.$slots,`header`,{},void 0,!0)]),_:3},8,[`class`])):w(`v-if`,!0),(c(),C(r(e.wrapperTag),{ref_key:`wrapperRef`,ref:O,class:`virtual-scroll-wrapper`,style:g(ce.value)},{default:f(()=>[w(` Phantom element to push scroll height `),$.value?(c(),C(r(e.itemTag),{key:0,class:`virtual-scroll-spacer`,style:g(ue.value)},{default:f(()=>[...n[0]||=[_(`td`,{style:{padding:`0`,border:`none`,"block-size":`inherit`}},null,-1)]]),_:1},8,[`style`])):w(`v-if`,!0),(c(!0),v(b,null,l(a(re),n=>(c(),C(r(e.itemTag),{key:n.index,ref_for:!0,ref:e=>X(e,n.index),"data-index":n.index,class:m([`virtual-scroll-item`,{"virtual-scroll--sticky":n.isStickyActive,"virtual-scroll--debug":fe.value}]),style:g(de(n))},{default:f(()=>[d(t.$slots,`item`,{item:n.item,index:n.index,columnRange:a(ne),getColumnWidth:a(B),isSticky:n.isSticky,isStickyActive:n.isStickyActive},void 0,!0),fe.value?(c(),v(`div`,ie,` #`+i(n.index)+` (`+i(Math.round(n.offset.x))+`, `+i(Math.round(n.offset.y))+`) `,1)):w(`v-if`,!0)]),_:2},1032,[`data-index`,`class`,`style`]))),128))]),_:3},8,[`style`])),e.loading&&E.loading?(c(),v(`div`,{key:1,class:`virtual-scroll-loading`,style:g(le.value)},[d(t.$slots,`loading`,{},void 0,!0)],4)):w(`v-if`,!0),E.footer?(c(),C(r(me.value),{key:2,ref_key:`footerRef`,ref:j,class:m([`virtual-scroll-footer`,{"virtual-scroll--sticky":e.stickyFooter}])},{default:f(()=>[d(t.$slots,`footer`,{},void 0,!0)]),_:3},8,[`class`])):w(`v-if`,!0)]),_:3},40,[`class`,`style`,`onWheelPassive`,`onPointerdownPassive`,`onTouchstartPassive`]))}}),U=(e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n},W=U(H,[[`__scopeId`,`data-v-41f32f65`]]),ae=[`innerHTML`],oe=U(p({__name:`CodeBlock`,props:{code:{default:``},lang:{default:`vue`},lineNumbers:{type:Boolean,default:!1}},setup(t){let n=t,r=h(``),i=null;async function a(){if(i)return i;let{getHighlighter:e}=await T(async()=>{let{getHighlighter:e}=await import(`./chunk-CbFLysZX.js`);return{getHighlighter:e}},__vite__mapDeps([0,1])),{createCssVariablesTheme:t}=await T(async()=>{let{createCssVariablesTheme:e}=await import(`./chunk-ChcgYb02.js`);return{createCssVariablesTheme:e}},[]);return i=await e({themes:[t({name:`css-variables`,variablePrefix:`--shiki-`,variableDefaults:{}})],langs:[`vue`,`bash`,`ts`,`js`,`python`,`cpp`]}),i}function o(e){if(!e)return``;let t=e.split(`
`);for(;t.length>0&&t[0].trim()===``;)t.shift();for(;t.length>0&&t[t.length-1].trim()===``;)t.pop();if(t.length===0)return``;let n=t.reduce((e,t)=>{if(t.trim()===``)return e;let n=t.match(/^\\s*/)?.[0].length??0;return Math.min(e,n)},1/0);return t.map(e=>e.slice(n===1/0?0:n)).join(`
`)}function l(e){return e.replace(/&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`).replace(/"/g,`&quot;`).replace(/'/g,`&#039;`)}let u=y(()=>r.value?r.value:`<pre class="shiki px-6 py-3"><code>${l(o(n.code))}</code></pre>`);async function d(){let e=o(n.code);if(!e){r.value=``;return}try{r.value=(await a()).codeToHtml(e,{lang:n.lang,theme:`css-variables`})}catch(t){console.error(`Shikiji highlighting failed:`,t),r.value=`<pre class="shiki px-6 py-3"><code>${l(e)}</code></pre>`}}return e(d),S(()=>{r.value||d()}),s(()=>n.code,d),(e,n)=>(c(),v(`div`,{class:m([`code-block text-sm overflow-auto`,{"has-line-numbers":t.lineNumbers,"is-bash":t.lang===`bash`}]),"data-theme":`dark`},[_(`div`,{class:`shiki-container`,innerHTML:u.value},null,8,ae)],2))}}),[[`__scopeId`,`data-v-866f94f3`]]);export{R as a,z as i,W as n,B as r,oe as t};