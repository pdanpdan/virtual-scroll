const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/chunk-ZUmFetjb.js","assets/chunks/chunk-DR3HwT-S.js"])))=>i.map(i=>d[i]);
import{r as W,A as zt,h as P,I as de,K as kt,j as pe,m as nt,k as ut,d as ct,l as He,o as z,L as We,u as fe,B as Oe,x as Re,w as De,p as H,c as A,M as we,a as f,C as xt,y as I,F as ce,N as dt,O as Rt,s as Mt,e as ie,P as Ct,H as Tt}from"./chunk-e4V5FOSP.js";/* empty css              */import{_ as vt}from"./chunk-DR3HwT-S.js";/* empty css              */class at{tree;values;constructor(a){this.tree=new Float64Array(a+1),this.values=new Float64Array(a)}update(a,u){if(!(a<0||a>=this.values.length))for(this.values[a]=this.values[a]+u,a++;a<this.tree.length;)this.tree[a]=this.tree[a]+u,a+=a&-a}query(a){let u=0;for(;a>0;)u+=this.tree[a]||0,a-=a&-a;return u}set(a,u){a<0||a>=this.values.length||(this.values[a]=u)}get length(){return this.values.length}get(a){return this.values[a]||0}getValues(){return this.values}findLowerBound(a){let u=0;const n=this.tree.length;let w=1<<Math.floor(Math.log2(n-1));for(;w>0;){const c=u+w;if(c<n){const X=this.tree[c]||0;X<=a&&(u=c,a-=X)}w>>=1}return u}rebuild(){this.tree.fill(0);for(let a=0;a<this.values.length;a++)this.tree[a+1]=this.values[a]||0;for(let a=1;a<this.tree.length;a++){const u=a+(a&-a);u<this.tree.length&&(this.tree[u]=this.tree[u]+this.tree[a])}}resize(a){if(a===this.values.length)return;const u=new Float64Array(a);u.set(this.values.subarray(0,Math.min(a,this.values.length))),this.values=u,this.tree=new Float64Array(a+1),this.rebuild()}shift(a){if(a===0)return;const u=this.values.length,n=new Float64Array(u);a>0?n.set(this.values.subarray(0,Math.min(u-a,this.values.length)),a):n.set(this.values.subarray(-a)),this.values=n,this.rebuild()}}function ft(e){return!!e&&"getBoundingClientRect"in e}function ot(e){return!!e&&"scrollLeft"in e}function ht(e){return typeof e=="object"&&e!==null&&("align"in e||"behavior"in e||"isCorrection"in e)}function Ce(e,a){return typeof e=="object"&&e!==null?e.x||0:a==="horizontal"&&e||0}function Te(e,a){return typeof e=="object"&&e!==null?e.y||0:(a==="vertical"||a==="both")&&e||0}const At=50,gt=150,mt=5;function $t(e){const a=W(0),u=W(0),n=W(!1),w=W(!1),c=W(!1),X=W(!1),O=W(0),ee=W(0),q=zt({x:0,y:0});let te;const ue=W(!1),g=new at(e.value.items.length),y=new at(e.value.items.length),M=new at(e.value.columnCount||0),N=W(0);let he=new Uint8Array(0),ne=new Uint8Array(0),Y=new Uint8Array(0);const ae=W(null),be=W(0),Se=W(0),Ae=W(!1);let oe=[];const Ye=P(()=>e.value.itemSize===void 0||e.value.itemSize===null||e.value.itemSize===0),qe=P(()=>e.value.columnWidth===void 0||e.value.columnWidth===null||e.value.columnWidth===0),K=P(()=>typeof e.value.itemSize=="number"&&e.value.itemSize>0?e.value.itemSize:null),ze=P(()=>K.value||e.value.defaultItemSize||At),$e=P(()=>[...e.value.stickyIndices||[]].sort((l,t)=>l-t)),se=P(()=>{if(N.value,!w.value&&e.value.ssrRange&&!X.value){const{start:l=0,end:t=0,colStart:s=0,colEnd:o=0}=e.value.ssrRange,v=e.value.columnCount||0;if(e.value.direction==="both"&&v>0)return M.query(o||v)-M.query(s);if(e.value.direction==="horizontal")return K.value!==null?(t-l)*(K.value+(e.value.columnGap||0)):g.query(t)-g.query(l)}return e.value.direction==="both"&&e.value.columnCount?M.query(e.value.columnCount):e.value.direction==="vertical"?0:K.value!==null?e.value.items.length*(K.value+(e.value.columnGap||0)):g.query(e.value.items.length)}),ge=P(()=>{if(N.value,!w.value&&e.value.ssrRange&&!X.value){const{start:l,end:t}=e.value.ssrRange;if(e.value.direction==="vertical"||e.value.direction==="both")return K.value!==null?(t-l)*(K.value+(e.value.gap||0)):y.query(t)-y.query(l)}return e.value.direction==="horizontal"?0:K.value!==null?e.value.items.length*(K.value+(e.value.gap||0)):y.query(e.value.items.length)}),D=P(()=>{const t=e.value.direction==="horizontal"||e.value.direction==="both"?Ce(e.value.scrollPaddingStart,e.value.direction):0;return Math.max(0,a.value+t-q.x)}),G=P(()=>{const t=e.value.direction==="vertical"||e.value.direction==="both"?Te(e.value.scrollPaddingStart,e.value.direction):0;return Math.max(0,u.value+t-q.y)}),Le=l=>{N.value;const t=e.value.columnWidth;return typeof t=="number"&&t>0?t:Array.isArray(t)&&t.length>0?t[l%t.length]||gt:typeof t=="function"?t(l):M.get(l)||e.value.defaultColumnWidth||gt},Ee=(l,t,s)=>{const o=typeof s=="object"&&s!==null&&"isCorrection"in s?s.isCorrection:!1;o||(ae.value={rowIndex:l,colIndex:t,options:s});const v=e.value.container||window,k=K.value,C=e.value.gap||0,h=e.value.columnGap||0;let m,b;ht(s)?(m=s.align,b=s.behavior):m=s;const x=(typeof m=="object"?m.x:m)||"auto",T=(typeof m=="object"?m.y:m)||"auto",R=Ce(e.value.scrollPaddingStart,e.value.direction),S=Ce(e.value.scrollPaddingEnd,e.value.direction),$=Te(e.value.scrollPaddingStart,e.value.direction),j=Te(e.value.scrollPaddingEnd,e.value.direction),V=e.value.direction==="vertical"||e.value.direction==="both",E=e.value.direction==="horizontal"||e.value.direction==="both",le=O.value-(E?R+S:0),xe=ee.value-(V?$+j:0);let U=D.value,J=G.value,ve=0,me=0;if(l!=null&&(l>=e.value.items.length?(J=ge.value,me=0):(J=k!==null?l*(k+C):y.query(l),me=k!==null?k:y.get(l)-C),T==="start"||(T==="center"?J-=(xe-me)/2:T==="end"?J-=xe-me:J>=G.value&&J+me<=G.value+xe||J<G.value||(J-=xe-me))),t!=null){const _=e.value.columnCount||0;t>=_&&_>0?(U=se.value,ve=0):e.value.direction==="horizontal"?(U=k!==null?t*(k+h):g.query(t),ve=k!==null?k:g.get(t)-h):(U=M.query(t),ve=M.get(t)),x==="start"||(x==="center"?U-=(le-ve)/2:x==="end"?U-=le-ve:U>=D.value&&U+ve<=D.value+le||U<D.value||(U-=le-ve))}U=Math.max(0,Math.min(U,Math.max(0,se.value-le))),J=Math.max(0,Math.min(J,Math.max(0,ge.value-xe)));const p=U+q.x-(E?R:0),re=J+q.y-(V?$:0),F=1;let Q=t==null||Math.abs(D.value-U)<F,ye=l==null||Math.abs(G.value-J)<F;if(!Q||!ye){let _=0,Ie=0,Ne=0,Ke=0,Ze=0,Je=0;if(typeof window<"u"){if(v===window?(_=window.scrollX,Ie=window.scrollY,Ne=document.documentElement.scrollWidth,Ke=document.documentElement.scrollHeight,Ze=window.innerWidth,Je=window.innerHeight):ft(v)&&(_=v.scrollLeft,Ie=v.scrollTop,Ne=v.scrollWidth,Ke=v.scrollHeight,Ze=v.clientWidth,Je=v.clientHeight),!Q&&t!==null&&t!==void 0){const lt=_<=F&&p<=F,it=_>=Ne-Ze-F&&p>=Ne-Ze-F;(lt||it)&&(Q=!0)}if(!ye&&l!==null&&l!==void 0){const lt=Ie<=F&&re<=F,it=Ie>=Ke-Je-F&&re>=Ke-Je-F;(lt||it)&&(ye=!0)}}}const Ue=o?"auto":b||"smooth";if(ue.value=!0,typeof window<"u"&&v===window)window.scrollTo({left:t==null?void 0:Math.max(0,p),top:l==null?void 0:Math.max(0,re),behavior:Ue});else if(ot(v)){const _={behavior:Ue};t!=null&&(_.left=Math.max(0,p)),l!=null&&(_.top=Math.max(0,re)),typeof v.scrollTo=="function"?v.scrollTo(_):(_.left!==void 0&&(v.scrollLeft=_.left),_.top!==void 0&&(v.scrollTop=_.top))}(Ue==="auto"||Ue===void 0)&&(t!=null&&(a.value=Math.max(0,p)),l!=null&&(u.value=Math.max(0,re))),Q&&ye&&!n.value&&(ae.value=null)},Ve=(l,t,s)=>{const o=e.value.container||window;ue.value=!0;const v=e.value.direction==="vertical"||e.value.direction==="both",k=e.value.direction==="horizontal"||e.value.direction==="both",C=Ce(e.value.scrollPaddingStart,e.value.direction),h=Te(e.value.scrollPaddingStart,e.value.direction),m=typeof window<"u"&&o===window?window.scrollX:o.scrollLeft,b=typeof window<"u"&&o===window?window.scrollY:o.scrollTop,x=l!=null?l+q.x-(k?C:0):m,T=t!=null?t+q.y-(v?h:0):b;if(typeof window<"u"&&o===window)window.scrollTo({left:l!=null?x:void 0,top:t!=null?T:void 0,behavior:s?.behavior||"auto"});else if(ot(o)){const R={behavior:s?.behavior||"auto"};l!=null&&(R.left=x),t!=null&&(R.top=T),typeof o.scrollTo=="function"?o.scrollTo(R):(R.left!==void 0&&(o.scrollLeft=R.left),R.top!==void 0&&(o.scrollTop=R.top))}(s?.behavior==="auto"||s?.behavior===void 0)&&(l!=null&&(a.value=x),t!=null&&(u.value=T))},Fe=()=>{const l=e.value.items,t=l.length,s=e.value.columnCount||0;if(g.resize(t),y.resize(t),M.resize(s),ne.length!==t){const h=new Uint8Array(t);h.set(ne.subarray(0,Math.min(t,ne.length))),ne=h}if(Y.length!==t){const h=new Uint8Array(t);h.set(Y.subarray(0,Math.min(t,Y.length))),Y=h}if(he.length!==s){const h=new Uint8Array(s);h.set(he.subarray(0,Math.min(s,he.length))),he=h}let o=0;if(e.value.restoreScrollOnPrepend&&oe.length>0&&t>oe.length){const h=oe[0];if(h!==void 0){for(let m=1;m<=t-oe.length;m++)if(l[m]===h){o=m;break}}}if(o>0){g.shift(o),y.shift(o),ae.value&&ae.value.rowIndex!==null&&ae.value.rowIndex!==void 0&&(ae.value.rowIndex+=o);const h=new Uint8Array(t),m=new Uint8Array(t);h.set(ne.subarray(0,Math.min(t-o,ne.length)),o),m.set(Y.subarray(0,Math.min(t-o,Y.length)),o),ne=h,Y=m;const b=e.value.gap||0,x=e.value.columnGap||0;let T=0,R=0;for(let S=0;S<o;S++){const $=typeof e.value.itemSize=="function"?e.value.itemSize(l[S],S):ze.value;e.value.direction==="horizontal"?T+=$+x:R+=$+b}(T>0||R>0)&&nt(()=>{Ve(T>0?D.value+T:null,R>0?G.value+R:null,{behavior:"auto"})})}if(s>0){const h=e.value.columnGap||0;let m=!1;for(let b=0;b<s;b++){const x=Le(b),T=M.get(b);if(!qe.value||T===0){const R=x+h;Math.abs(T-R)>.5&&(M.set(b,R),m=!0)}}m&&M.rebuild()}const v=e.value.gap||0,k=e.value.columnGap||0;let C=!1;for(let h=0;h<t;h++){const m=e.value.items[h],b=g.get(h),x=y.get(h);if(Ye.value&&(b>0||x>0))continue;const T=typeof e.value.itemSize=="function"?e.value.itemSize(m,h):ze.value,R=e.value.direction==="vertical",S=e.value.direction==="horizontal",$=e.value.direction==="both",j=S?T+k:0,V=R||$?T+v:0;Math.abs(b-j)>.5&&(g.set(h,j),C=!0),Math.abs(x-V)>.5&&(y.set(h,V),C=!0);const E=S?T:$?Math.max(T,O.value):0,le=R||$?T:0;E>be.value&&(be.value=E),le>Se.value&&(Se.value=le)}C&&(g.rebuild(),y.rebuild()),oe=[...l],Ae.value=!0,N.value++},ke=()=>{if(e.value.hostElement&&typeof window<"u"){const l=e.value.hostElement.getBoundingClientRect(),t=e.value.container||window;let s=0,o=0;if(t===window)s=l.left+window.scrollX,o=l.top+window.scrollY;else if(t===e.value.hostElement)s=0,o=0;else if(ft(t)){const v=t.getBoundingClientRect();s=l.left-v.left+t.scrollLeft,o=l.top-v.top+t.scrollTop}(Math.abs(q.x-s)>.1||Math.abs(q.y-o)>.1)&&(q.x=s,q.y=o)}};de([()=>e.value.items.length,()=>e.value.columnCount,()=>e.value.columnWidth,()=>e.value.itemSize,()=>e.value.gap,()=>e.value.columnGap],Fe,{immediate:!0}),de(()=>[e.value.container,e.value.hostElement],()=>{ke()});const Ge=P(()=>{if(N.value,(!w.value||c.value)&&e.value.ssrRange)return{start:e.value.ssrRange.start,end:e.value.ssrRange.end};const l=e.value.direction||"vertical",t=e.value.ssrRange&&!n.value?0:e.value.bufferBefore??mt,s=e.value.bufferAfter??mt,o=e.value.gap||0,v=e.value.columnGap||0,k=K.value,C=Ce(e.value.scrollPaddingStart,l),h=Ce(e.value.scrollPaddingEnd,l),m=Te(e.value.scrollPaddingStart,l),b=Te(e.value.scrollPaddingEnd,l),x=l==="vertical"||l==="both",T=l==="horizontal"||l==="both",R=O.value-(T?C+h:0),S=ee.value-(x?m+b:0);let $=0,j=e.value.items.length;if(x)if(k!==null)$=Math.floor(G.value/(k+o)),j=Math.ceil((G.value+S)/(k+o));else{$=y.findLowerBound(G.value);let V=y.query($),E=$;for(;E<e.value.items.length&&V<G.value+S;)V=y.query(++E);j=E}else if(k!==null)$=Math.floor(D.value/(k+v)),j=Math.ceil((D.value+R)/(k+v));else{$=g.findLowerBound(D.value);let V=g.query($),E=$;for(;E<e.value.items.length&&V<D.value+R;)V=g.query(++E);j=E}return{start:Math.max(0,$-t),end:Math.min(e.value.items.length,j+s)}}),je=P(()=>{N.value;const l=K.value,t=e.value.gap||0,s=e.value.columnGap||0;return e.value.direction==="horizontal"?l!==null?Math.floor(D.value/(l+s)):g.findLowerBound(D.value):l!==null?Math.floor(G.value/(l+t)):y.findLowerBound(G.value)}),i=P(()=>{N.value;const{start:l,end:t}=Ge.value,s=[],o=K.value,v=e.value.gap||0,k=e.value.columnGap||0,C=$e.value,h=new Set;for(let S=l;S<t;S++)h.add(S);if(w.value||!e.value.ssrRange){const S=je.value;let $,j=0,V=C.length-1;for(;j<=V;){const E=j+V>>>1;C[E]<S?($=C[E],j=E+1):V=E-1}$!==void 0&&h.add($);for(const E of C)E>=l&&E<t&&h.add(E)}const m=Array.from(h).sort((S,$)=>S-$),b=e.value.ssrRange?.start||0,x=e.value.ssrRange?.colStart||0;let T=0,R=0;!w.value&&e.value.ssrRange&&(R=e.value.direction==="vertical"||e.value.direction==="both"?o!==null?b*(o+v):y.query(b):0,e.value.direction==="horizontal"?T=o!==null?x*(o+k):g.query(x):e.value.direction==="both"&&(T=M.query(x)));for(const S of m){const $=e.value.items[S];if($===void 0)continue;let j=0,V=0,E=0,le=0;e.value.direction==="horizontal"?(j=o!==null?S*(o+k):g.query(S),E=o!==null?o:g.get(S)-k,le=ee.value):(V=(e.value.direction==="vertical"||e.value.direction==="both")&&o!==null?S*(o+v):y.query(S),le=o!==null?o:y.get(S)-v,E=e.value.direction==="both"?se.value:O.value);const xe=C.includes(S),U=j,J=V;let ve=!1;const me={x:0,y:0};if(xe){if(e.value.direction==="vertical"||e.value.direction==="both"){if(G.value>J){ve=!0;let p,re=0,F=C.length-1;for(;re<=F;){const Q=re+F>>>1;C[Q]>S?(p=C[Q],F=Q-1):re=Q+1}if(p!==void 0){const ye=(o!==null?p*(o+v):y.query(p))-G.value;ye<le&&(me.y=-(le-ye))}}}else if(e.value.direction==="horizontal"&&D.value>U){ve=!0;let p,re=0,F=C.length-1;for(;re<=F;){const Q=re+F>>>1;C[Q]>S?(p=C[Q],F=Q-1):re=Q+1}if(p!==void 0){const ye=(o!==null?p*(o+k):g.query(p))-D.value;ye<E&&(me.x=-(E-ye))}}}s.push({item:$,index:S,offset:{x:U-T,y:J-R},size:{width:E,height:le},originalX:U,originalY:J,isSticky:xe,isStickyActive:ve,stickyOffset:me})}return s}),r=P(()=>{N.value;const l=e.value.columnCount||0;if(!l)return{start:0,end:0,padStart:0,padEnd:0};if((!w.value||c.value)&&e.value.ssrRange){const{colStart:h=0,colEnd:m=0}=e.value.ssrRange,b=Math.max(0,h),x=Math.min(l,m||l);return{start:b,end:x,padStart:0,padEnd:0}}const t=M.findLowerBound(D.value);let s=M.query(t),o=t;for(;o<l&&s<D.value+O.value;)s=M.query(++o);const v=e.value.ssrRange&&!n.value?0:2,k=Math.max(0,t-v),C=Math.min(l,o+v);return{start:k,end:C,padStart:M.query(k),padEnd:M.query(l)-M.query(C)}}),d=P(()=>{N.value;const l=K.value,t=e.value.columnGap||0;let s=0;return(e.value.direction==="horizontal"||e.value.direction==="both")&&(l!==null?s=Math.floor(D.value/(l+t)):s=g.findLowerBound(D.value)),{items:i.value,currentIndex:je.value,currentColIndex:s,scrollOffset:{x:D.value,y:G.value},viewportSize:{width:O.value,height:ee.value},totalSize:{width:se.value,height:ge.value},isScrolling:n.value,isProgrammaticScroll:ue.value,range:Ge.value,columnRange:r.value}}),B=()=>{ue.value=!1,ae.value=null},Z=l=>{const t=l.target;typeof window>"u"||(t===window||t===document?(a.value=window.scrollX,u.value=window.scrollY):ot(t)&&(a.value=t.scrollLeft,u.value=t.scrollTop),n.value||(ue.value||(ae.value=null),n.value=!0),clearTimeout(te),te=setTimeout(()=>{n.value=!1,ue.value=!1},250))},L=l=>{let t=!1;const s=e.value.gap||0,o=e.value.columnGap||0;for(const{index:v,inlineSize:k,blockSize:C,element:h}of l){if(Ye.value){if(k>be.value&&(be.value=k),C>Se.value&&(Se.value=C),e.value.direction==="horizontal"){const m=g.get(v),b=k+o;Math.abs(m-b)>.5&&(b>m||!ne[v])&&(g.update(v,b-m),ne[v]=1,t=!0)}if(e.value.direction==="vertical"||e.value.direction==="both"){const m=y.get(v),b=C+s;e.value.direction==="both"?(b>m||!Y[v])&&(y.update(v,b-m),Y[v]=1,t=!0):Math.abs(m-b)>.5&&(b>m||!Y[v])&&(y.update(v,b-m),Y[v]=1,t=!0)}}if(e.value.direction==="both"&&h&&e.value.columnCount&&qe.value){const m=h.dataset.colIndex!==void 0?[h]:Array.from(h.querySelectorAll("[data-col-index]"));for(const b of m){const x=Number.parseInt(b.dataset.colIndex,10);if(x>=0&&x<(e.value.columnCount||0)){const T=b.offsetWidth,R=M.get(x),S=T+o;(S>R||!he[x])&&(M.update(x,S-R),he[x]=1,t=!0)}}}}t&&N.value++},Me=(l,t,s,o)=>{L([{index:l,inlineSize:t,blockSize:s,element:o}])},Pe=()=>{if(ae.value&&!c.value){const{rowIndex:l,colIndex:t,options:s}=ae.value,o=ht(s)?{...s,isCorrection:!0}:{align:s,isCorrection:!0};Ee(l,t,o)}};de(N,Pe),de(n,l=>{l||Pe()});let et=null;const St=l=>{if(!l||typeof window>"u")return;const t=l===window?document:l;if(t.addEventListener("scroll",Z,{passive:!0}),l===window){O.value=window.innerWidth,ee.value=window.innerHeight,a.value=window.scrollX,u.value=window.scrollY;const s=()=>{O.value=window.innerWidth,ee.value=window.innerHeight,ke()};return window.addEventListener("resize",s),()=>{t.removeEventListener("scroll",Z),window.removeEventListener("resize",s)}}else return O.value=l.clientWidth,ee.value=l.clientHeight,a.value=l.scrollLeft,u.value=l.scrollTop,et=new ResizeObserver(s=>{for(const o of s)o.target===l&&(O.value=l.clientWidth,ee.value=l.clientHeight,ke())}),et.observe(l),()=>{t.removeEventListener("scroll",Z),et?.disconnect()}};let tt;return kt()&&(pe(()=>{X.value=!0,de(()=>e.value.container,l=>{tt?.(),tt=St(l||null)},{immediate:!0}),ke(),e.value.ssrRange||e.value.initialScrollIndex!==void 0?nt(()=>{ke();const l=e.value.initialScrollIndex!==void 0?e.value.initialScrollIndex:e.value.ssrRange?.start,t=e.value.initialScrollAlign||"start";l!=null&&Ee(l,e.value.ssrRange?.colStart,{align:t,behavior:"auto"}),w.value=!0,c.value=!0,nt(()=>{c.value=!1})}):w.value=!0}),ut(()=>{tt?.()})),{renderedItems:i,totalWidth:se,totalHeight:ge,scrollDetails:d,scrollToIndex:Ee,scrollToOffset:Ve,stopProgrammaticScroll:B,updateItemSize:Me,updateItemSizes:L,updateHostOffset:ke,columnRange:r,getColumnWidth:Le,refresh:()=>{g.resize(0),y.resize(0),M.resize(0),he.fill(0),ne.fill(0),Y.fill(0),be.value=0,Se.value=0,Fe()},isHydrated:w}}const Et={key:0,class:"virtual-scroll-debug-info"},Pt=ct({__name:"VirtualScroll",props:{items:{},itemSize:{},direction:{default:"vertical"},bufferBefore:{default:5},bufferAfter:{default:5},container:{},ssrRange:{},columnCount:{default:0},columnWidth:{},containerTag:{default:"div"},wrapperTag:{default:"div"},itemTag:{default:"div"},scrollPaddingStart:{default:0},scrollPaddingEnd:{default:0},stickyHeader:{type:Boolean,default:!1},stickyFooter:{type:Boolean,default:!1},gap:{default:0},columnGap:{default:0},stickyIndices:{default:()=>[]},loadDistance:{default:50},loading:{type:Boolean,default:!1},restoreScrollOnPrepend:{type:Boolean,default:!1},initialScrollIndex:{},initialScrollAlign:{},defaultItemSize:{},defaultColumnWidth:{},debug:{type:Boolean,default:!1}},emits:["scroll","load","visibleRangeChange"],setup(e,{expose:a,emit:u}){const n=e,w=u,c=P(()=>n.debug),X=W(null),O=W(null),ee=W(null),q=W(null),te=new Map,ue=W(0),g=W(0),y=P(()=>{const i=n.container===void 0?X.value:n.container;return i===X.value||typeof window<"u"&&(i===window||i===null)}),M=P(()=>{const i=n.scrollPaddingStart,r=n.scrollPaddingEnd,d=typeof i=="object"?i.x||0:n.direction==="horizontal"&&i||0,B=typeof i=="object"?i.y||0:n.direction!=="horizontal"&&i||0,Z=typeof r=="object"?r.x||0:n.direction==="horizontal"&&r||0,L=typeof r=="object"?r.y||0:n.direction!=="horizontal"&&r||0;return{items:n.items,itemSize:n.itemSize,direction:n.direction,bufferBefore:n.bufferBefore,bufferAfter:n.bufferAfter,container:n.container===void 0?X.value:n.container,hostElement:O.value,ssrRange:n.ssrRange,columnCount:n.columnCount,columnWidth:n.columnWidth,scrollPaddingStart:{x:d,y:B+(n.stickyHeader&&y.value?ue.value:0)},scrollPaddingEnd:{x:Z,y:L+(n.stickyFooter&&y.value?g.value:0)},gap:n.gap,columnGap:n.columnGap,stickyIndices:n.stickyIndices,loadDistance:n.loadDistance,loading:n.loading,restoreScrollOnPrepend:n.restoreScrollOnPrepend,initialScrollIndex:n.initialScrollIndex,initialScrollAlign:n.initialScrollAlign,defaultItemSize:n.defaultItemSize,defaultColumnWidth:n.defaultColumnWidth,debug:c.value}}),{isHydrated:N,columnRange:he,renderedItems:ne,scrollDetails:Y,totalHeight:ae,totalWidth:be,getColumnWidth:Se,scrollToIndex:Ae,scrollToOffset:oe,updateHostOffset:Ye,updateItemSizes:qe,refresh:K,stopProgrammaticScroll:ze}=$t(M);de(Y,(i,r)=>{N.value&&(w("scroll",i),(!r||i.range.start!==r.range.start||i.range.end!==r.range.end||i.columnRange.start!==r.columnRange.start||i.columnRange.end!==r.columnRange.end)&&w("visibleRangeChange",{start:i.range.start,end:i.range.end,colStart:i.columnRange.start,colEnd:i.columnRange.end}),!n.loading&&(n.direction!=="horizontal"&&i.totalSize.height-(i.scrollOffset.y+i.viewportSize.height)<=n.loadDistance&&w("load","vertical"),n.direction!=="vertical"&&i.totalSize.width-(i.scrollOffset.x+i.viewportSize.width)<=n.loadDistance&&w("load","horizontal")))}),de(N,i=>{i&&w("visibleRangeChange",{start:Y.value.range.start,end:Y.value.range.end,colStart:Y.value.columnRange.start,colEnd:Y.value.columnRange.end})},{once:!0});const $e=typeof window>"u"?null:new ResizeObserver(Ye),se=typeof window>"u"?null:new ResizeObserver(i=>{const r=[];for(const d of i){const B=d.target,Z=Number(B.dataset.index);if(B.dataset.colIndex!==void 0)r.push({index:-1,inlineSize:0,blockSize:0,element:B});else if(!Number.isNaN(Z)){let Me=d.contentRect.width,Pe=d.contentRect.height;d.borderBoxSize&&d.borderBoxSize.length>0?(Me=d.borderBoxSize[0].inlineSize,Pe=d.borderBoxSize[0].blockSize):(Me=B.offsetWidth,Pe=B.offsetHeight),r.push({index:Z,inlineSize:Me,blockSize:Pe,element:B})}}r.length>0&&qe(r)}),ge=typeof window>"u"?null:new ResizeObserver(()=>{ue.value=ee.value?.offsetHeight||0,g.value=q.value?.offsetHeight||0,Ye()});de(ee,(i,r)=>{r&&ge?.unobserve(r),i&&ge?.observe(i)},{immediate:!0}),de(q,(i,r)=>{r&&ge?.unobserve(r),i&&ge?.observe(i)},{immediate:!0});const D=P(()=>ne.value[0]?.index);de(D,(i,r)=>{if(n.direction==="both"){if(r!==void 0){const d=te.get(r);d&&d.querySelectorAll("[data-col-index]").forEach(B=>se?.unobserve(B))}if(i!==void 0){const d=te.get(i);d&&d.querySelectorAll("[data-col-index]").forEach(B=>se?.observe(B))}}},{flush:"post"}),pe(()=>{X.value&&$e?.observe(X.value);for(const i of te.values())se?.observe(i);if(D.value!==void 0){const i=te.get(D.value);i&&i.querySelectorAll("[data-col-index]").forEach(r=>se?.observe(r))}}),de([X,O],([i],[r])=>{r&&$e?.unobserve(r),i&&$e?.observe(i)});function G(i,r){if(i)te.set(r,i),se?.observe(i);else{const d=te.get(r);d&&(se?.unobserve(d),te.delete(r))}}function Le(i){ze();const{viewportSize:r,scrollOffset:d}=Y.value,B=n.direction!=="vertical",Z=n.direction!=="horizontal";if(i.key==="Home"){i.preventDefault(),Ae(0,0,"start");return}if(i.key==="End"){i.preventDefault();const L=n.items.length-1,Me=(n.columnCount||0)>0?n.columnCount-1:0;B&&Z?Ae(L,Me,"end"):Ae(0,L,"end");return}if(i.key==="ArrowUp"){i.preventDefault(),oe(null,d.y-40);return}if(i.key==="ArrowDown"){i.preventDefault(),oe(null,d.y+40);return}if(i.key==="ArrowLeft"){i.preventDefault(),oe(d.x-40,null);return}if(i.key==="ArrowRight"){i.preventDefault(),oe(d.x+40,null);return}if(i.key==="PageUp"){i.preventDefault(),oe(B?d.x-r.width:null,Z?d.y-r.height:null);return}i.key==="PageDown"&&(i.preventDefault(),oe(B?d.x+r.width:null,Z?d.y+r.height:null))}ut(()=>{$e?.disconnect(),se?.disconnect(),ge?.disconnect()});const Ee=P(()=>{const i=n.container;return i===null||typeof window<"u"&&i===window?!0:i&&typeof i=="object"&&"tagName"in i?i.tagName==="BODY":!1}),Ve=P(()=>Ee.value?{...n.direction!=="vertical"?{whiteSpace:"nowrap"}:{}}:n.containerTag==="table"?{minInlineSize:n.direction==="vertical"?"100%":"auto"}:{...n.direction!=="vertical"?{whiteSpace:"nowrap"}:{}}),Fe=P(()=>({inlineSize:n.direction==="vertical"?"100%":`${be.value}px`,blockSize:n.direction==="horizontal"?"100%":`${ae.value}px`})),ke=P(()=>{const i=n.direction==="horizontal";return{display:i?"inline-block":"block",...i?{blockSize:"100%",verticalAlign:"top"}:{inlineSize:"100%"}}}),Ge=P(()=>({inlineSize:n.direction==="vertical"?"1px":`${be.value}px`,blockSize:n.direction==="horizontal"?"1px":`${ae.value}px`}));function je(i){const r=n.direction==="vertical",d=n.direction==="horizontal",B=n.direction==="both",Z=n.itemSize===void 0||n.itemSize===null||n.itemSize===0,L={blockSize:d?"100%":Z?"auto":`${i.size.height}px`};return r&&n.containerTag==="table"?L.minInlineSize="100%":L.inlineSize=r?"100%":Z?"auto":`${i.size.width}px`,Z&&(r||(L.minInlineSize=`${i.size.width}px`),d||(L.minBlockSize=`${i.size.height}px`)),N.value&&(i.isStickyActive?((r||B)&&(L.insetBlockStart=`${Te(n.scrollPaddingStart,n.direction)}px`),(d||B)&&(L.insetInlineStart=`${Ce(n.scrollPaddingStart,n.direction)}px`),L.transform=`translate(${i.stickyOffset.x}px, ${i.stickyOffset.y}px)`):L.transform=`translate(${i.offset.x}px, ${i.offset.y}px)`),L}return a({scrollDetails:Y,columnRange:he,getColumnWidth:Se,scrollToIndex:Ae,scrollToOffset:oe,refresh:K,stopProgrammaticScroll:ze}),(i,r)=>(z(),He(We(e.containerTag),{ref_key:"hostRef",ref:X,class:Re(["virtual-scroll-container",[`virtual-scroll--${e.direction}`,{"virtual-scroll--hydrated":fe(N),"virtual-scroll--window":Ee.value,"virtual-scroll--table":e.containerTag==="table"}]]),style:Oe(Ve.value),tabindex:"0",onKeydown:Le,onWheelPassive:fe(ze),onPointerdownPassive:fe(ze),onTouchstartPassive:fe(ze)},{default:De(()=>[i.$slots.header?(z(),He(We(e.containerTag==="table"?"thead":"div"),{key:0,ref_key:"headerRef",ref:ee,class:Re(["virtual-scroll-header",{"virtual-scroll--sticky":e.stickyHeader}])},{default:De(()=>[we(i.$slots,"header",{},void 0,!0)]),_:3},8,["class"])):H("v-if",!0),(z(),He(We(e.wrapperTag),{ref_key:"wrapperRef",ref:O,class:"virtual-scroll-wrapper",style:Oe(Fe.value)},{default:De(()=>[H(" Phantom element to push scroll height "),e.containerTag==="table"?(z(),He(We(e.itemTag),{key:0,class:"virtual-scroll-spacer",style:Oe(Ge.value)},{default:De(()=>[...r[0]||(r[0]=[f("td",{style:{padding:"0",border:"none","block-size":"inherit"}},null,-1)])]),_:1},8,["style"])):H("v-if",!0),(z(!0),A(ce,null,xt(fe(ne),d=>(z(),He(We(e.itemTag),{key:d.index,ref_for:!0,ref:B=>G(B,d.index),"data-index":d.index,class:Re(["virtual-scroll-item",{"virtual-scroll--sticky":d.isStickyActive,"virtual-scroll--debug":c.value}]),style:Oe(je(d))},{default:De(()=>[we(i.$slots,"item",{item:d.item,index:d.index,columnRange:fe(he),getColumnWidth:fe(Se),isSticky:d.isSticky,isStickyActive:d.isStickyActive},void 0,!0),c.value?(z(),A("div",Et," #"+I(d.index)+" ("+I(Math.round(d.offset.x))+", "+I(Math.round(d.offset.y))+") ",1)):H("v-if",!0)]),_:2},1032,["data-index","class","style"]))),128))]),_:3},8,["style"])),e.loading&&i.$slots.loading?(z(),A("div",{key:1,class:"virtual-scroll-loading",style:Oe(ke.value)},[we(i.$slots,"loading",{},void 0,!0)],4)):H("v-if",!0),i.$slots.footer?(z(),He(We(e.containerTag==="table"?"tfoot":"div"),{key:2,ref_key:"footerRef",ref:q,class:Re(["virtual-scroll-footer",{"virtual-scroll--sticky":e.stickyFooter}])},{default:De(()=>[we(i.$slots,"footer",{},void 0,!0)]),_:3},8,["class"])):H("v-if",!0)]),_:3},40,["class","style","onWheelPassive","onPointerdownPassive","onTouchstartPassive"]))}}),wt=(e,a)=>{const u=e.__vccOpts||e;for(const[n,w]of a)u[n]=w;return u},bl=wt(Pt,[["__scopeId","data-v-52f5b60b"]]),Ht={class:"space-y-2 md:space-y-4"},Wt={key:0,class:"prose max-w-none"},Dt={class:"card card-side bg-base-300 shadow-sm border border-base-300"},Bt={key:0,class:"shrink-0 flex items-center justify-center ps-4"},Ot={class:"card-body p-4"},Xt={class:"flex items-center justify-between"},Yt={key:0,class:"text-lg m-0"},It={key:0,class:"opacity-70 m-0"},qt={class:"flex items-center justify-between px-4 py-2"},Lt={class:"tabs tabs-boxed bg-transparent p-0"},Vt={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-4"},Ft={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-4 text-success"},Gt={class:"flex-1 mx-4 mb-4 overflow-auto rounded-box"},jt=["innerHTML"],Ut={key:1},Nt=ct({__name:"ExampleContainer",props:{height:{default:"min(50dvh, 600px)"},minHeight:{default:"min(10dvh, 50px)"},minWidth:{default:"min(10vw, 50px)"},code:{}},setup(e){const a=e,u=W("preview"),n=W(!1),w=W(""),c={blockSize:a.height,minBlockSize:a.minHeight,minInlineSize:a.minWidth};async function X(){a.code&&(await navigator.clipboard.writeText(a.code),n.value=!0,setTimeout(()=>{n.value=!1},2e3))}const O=Rt(),ee=P(()=>dt("/",O.urlPathname)||dt("/index",O.urlPathname));let q=null,te=!1;async function ue(){if(!(!a.code||te)){te=!0;try{const{getHighlighter:g}=await vt(async()=>{const{getHighlighter:M}=await import("./chunk-ZUmFetjb.js");return{getHighlighter:M}},__vite__mapDeps([0,1])),{createCssVariablesTheme:y}=await vt(async()=>{const{createCssVariablesTheme:M}=await import("./chunk-AoYOzXb8.js");return{createCssVariablesTheme:M}},[]);q||(q=await g({themes:[y({name:"css-variables",variablePrefix:"--shiki-",variableDefaults:{}})],langs:["vue"]})),w.value=q.codeToHtml(a.code,{lang:"vue",theme:"css-variables"})}catch(g){console.error("Shikiji highlighting failed:",g),w.value=`<pre><code>${a.code}</code></pre>`}finally{te=!1}}}return pe(ue),de(()=>a.code,ue),(g,y)=>(z(),A("div",Ht,[g.$slots.title||g.$slots.description?(z(),A("div",Wt,[f("div",Dt,[g.$slots.icon?(z(),A("figure",Bt,[we(g.$slots,"icon",{},void 0,!0)])):H("v-if",!0),f("div",Ot,[f("div",Xt,[g.$slots.title?(z(),A("h1",Yt,[we(g.$slots,"title",{},void 0,!0),we(g.$slots,"subtitle",{},void 0,!0)])):H("v-if",!0),ee.value?H("v-if",!0):(z(),A("button",{key:1,class:"btn btn-xs btn-ghost gap-1 opacity-50 hover:opacity-100",onClick:y[0]||(y[0]=M=>fe(Tt)("/","back"))},[...y[3]||(y[3]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-3"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"})],-1),f("span",{class:"max-sm:hidden"},"Back to Welcome",-1)])]))]),g.$slots.description?(z(),A("div",It,[we(g.$slots,"description",{},void 0,!0)])):H("v-if",!0)])])])):H("v-if",!0),we(g.$slots,"controls",{},void 0,!0),f("div",{class:"flex flex-col border border-base-300 rounded-box overflow-auto bg-base-300 resize",style:c},[f("div",qt,[f("div",Lt,[f("button",{class:Re(["tab tab-sm",{"tab-active":u.value==="preview"}]),onClick:y[1]||(y[1]=M=>u.value="preview")}," Preview ",2),f("button",{class:Re(["tab tab-sm",{"tab-active":u.value==="code"}]),onClick:y[2]||(y[2]=M=>u.value="code")}," Code ",2)]),u.value==="code"&&e.code?(z(),A("button",{key:0,class:"btn btn-ghost btn-xs gap-2",onClick:X},[n.value?(z(),A("svg",Ft,[...y[5]||(y[5]=[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"},null,-1)])])):(z(),A("svg",Vt,[...y[4]||(y[4]=[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-2.013.447-2.725 1.212L4.435 7.763a2.25 2.25 0 0 0-.593 1.51V18a2.25 2.25 0 0 0 2.25 2.25h11.25A2.25 2.25 0 0 0 19.5 18v-4.5m-3-10.5 3 3m-3-3h-1.5a2.25 2.25 0 0 0-2.25 2.25v1.5m3-3 3 3m-9-3h2.25A2.25 2.25 0 0 1 15 11.25V18"},null,-1)])])),ie(" "+I(n.value?"Copied!":"Copy"),1)])):H("v-if",!0)]),Mt(f("div",Gt,[we(g.$slots,"default",{},void 0,!0)],512),[[Ct,u.value==="preview"]]),u.value==="code"?(z(),A("div",{key:0,"data-theme":"dark",class:"flex-1 mx-4 mb-4 p-4 bg-base-100 text-base-content overflow-auto font-mono text-sm leading-relaxed rounded-box shiki-container",style:Oe({blockSize:c.blockSize})},[w.value?(z(),A("div",{key:0,innerHTML:w.value},null,8,jt)):(z(),A("pre",Ut,[f("code",null,I(e.code),1)]))],4)):H("v-if",!0)])]))}}),Sl=wt(Nt,[["__scopeId","data-v-025086cf"]]),Be=[],st=[],Kt=60;let yt=!0,rt=0,Qe=null;const _e=W(0),Xe=W(null),Zt=P(()=>!Xe.value||Xe.value===0?0:Math.min(100,Math.round(_e.value/Xe.value*100)));function bt(e){if(rt!==0){const a=e-rt;if(yt&&(st.push(a),st.length>=Kt)){const u=[...st].sort((X,O)=>X-O),n=u[Math.floor(u.length/4)],w=Math.round(1e3/n),c=[60,75,90,120,144,165,240,360];Xe.value=c.reduce((X,O)=>Math.abs(O-w)<Math.abs(X-w)?O:X),yt=!1}if(Be.push(a),Be.length>20&&Be.shift(),Be.length>=5){const u=Be.reduce((w,c)=>w+c,0)/Be.length,n=Math.round(1e3/u);Math.abs(_e.value-n)>.5&&(_e.value=n)}}rt=e,Qe=requestAnimationFrame(bt)}function Jt(){Qe=requestAnimationFrame(bt)}function Qt(){Qe&&cancelAnimationFrame(Qe)}const _t={class:"max-sm:w-full min-w-84 list bg-base-300 rounded-box shadow-md text-sm pointer-events-auto"},pt={class:"list-row py-4 items-center"},el={class:"grid *:[grid-area:1/1]"},tl={key:0,class:"font-bold flex items-center gap-2"},ll={class:"list-row py-1.5 items-center"},il={class:"uppercase font-semibold"},nl={class:"list-row py-1.5 items-center"},al={class:"font-semibold"},ol={class:"list-row py-1.5 items-center"},sl={class:"font-semibold"},rl={class:"list-row py-1.5 items-center"},ul={class:"font-semibold"},cl={class:"list-row py-1.5 items-center"},dl={class:"font-semibold"},vl={class:"list-row py-1.5 items-center"},fl={class:"font-semibold"},zl=ct({__name:"ScrollStatus",props:{scrollDetails:{},direction:{},columnRange:{}},setup(e){const a=e,u=P(()=>({start:a.scrollDetails?.items[0]?.index??0,end:a.scrollDetails?.items[a.scrollDetails?.items.length-1]?.index??0})),n=P(()=>{const w=Zt.value;return w>90?"status-success":w>60?"status-warning":"status-error"});return pe(Jt),ut(Qt),(w,c)=>(z(),A("ul",_t,[f("li",pt,[c[0]||(c[0]=f("div",{class:"opacity-60 tracking-wide uppercase"},"Scroll Status",-1)),f("div",el,[e.scrollDetails?.isScrolling?(z(),A("div",{key:0,class:Re(["status status-lg animate-ping",n.value])},null,2)):H("v-if",!0),f("div",{class:Re(["status status-lg",n.value])},null,2)]),c[1]||(c[1]=f("div",null,null,-1)),fe(Xe)?(z(),A("div",tl,I(fe(_e))+" / "+I(fe(Xe))+" fps ",1)):H("v-if",!0)]),f("li",ll,[c[2]||(c[2]=f("div",{class:"opacity-60"},"Direction",-1)),c[3]||(c[3]=f("div",null,null,-1)),f("div",il,I(e.direction||"vertical"),1)]),f("li",nl,[c[4]||(c[4]=f("div",{class:"opacity-60"},"Total Size (px)",-1)),c[5]||(c[5]=f("div",null,null,-1)),f("div",al,[e.direction!=="vertical"?(z(),A(ce,{key:0},[ie(I(Math.round(e.scrollDetails?.totalSize.width||0)),1)],64)):H("v-if",!0),e.direction==="both"?(z(),A(ce,{key:1},[ie(" × ")],64)):H("v-if",!0),e.direction!=="horizontal"?(z(),A(ce,{key:2},[ie(I(Math.round(e.scrollDetails?.totalSize.height||0)),1)],64)):H("v-if",!0)])]),f("li",ol,[c[6]||(c[6]=f("div",{class:"opacity-60"},"Viewport Size (px)",-1)),c[7]||(c[7]=f("div",null,null,-1)),f("div",sl,[e.direction!=="vertical"?(z(),A(ce,{key:0},[ie(I(Math.round(e.scrollDetails?.viewportSize.width||0)),1)],64)):H("v-if",!0),e.direction==="both"?(z(),A(ce,{key:1},[ie(" × ")],64)):H("v-if",!0),e.direction!=="horizontal"?(z(),A(ce,{key:2},[ie(I(Math.round(e.scrollDetails?.viewportSize.height||0)),1)],64)):H("v-if",!0)])]),f("li",rl,[c[8]||(c[8]=f("div",{class:"opacity-60"},"Scroll Offset (px)",-1)),c[9]||(c[9]=f("div",null,null,-1)),f("div",ul,[e.direction!=="vertical"?(z(),A(ce,{key:0},[ie(I(Math.round(e.scrollDetails?.scrollOffset.x||0)),1)],64)):H("v-if",!0),e.direction==="both"?(z(),A(ce,{key:1},[ie(" × ")],64)):H("v-if",!0),e.direction!=="horizontal"?(z(),A(ce,{key:2},[ie(I(Math.round(e.scrollDetails?.scrollOffset.y||0)),1)],64)):H("v-if",!0)])]),f("li",cl,[c[10]||(c[10]=f("div",{class:"opacity-60"},"Current Item #",-1)),c[11]||(c[11]=f("div",null,null,-1)),f("div",dl,[ie(I(e.scrollDetails?.currentIndex)+" ",1),e.direction==="both"?(z(),A(ce,{key:0},[ie(" × "+I(e.scrollDetails?.currentColIndex),1)],64)):H("v-if",!0)])]),f("li",vl,[c[12]||(c[12]=f("div",{class:"opacity-60"},"Rendered Range #",-1)),c[13]||(c[13]=f("div",null,null,-1)),f("div",fl,[ie(I(u.value.start)+":"+I(u.value.end)+" ",1),e.columnRange?(z(),A(ce,{key:0},[ie(" × "+I(e.columnRange.start)+":"+I(e.columnRange.end),1)],64)):H("v-if",!0)])])]))}});export{Sl as E,bl as V,zl as _,wt as a};
