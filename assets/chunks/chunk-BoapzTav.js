const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/chunk-BGmI8Zh4.js","assets/chunks/chunk-Bm8CIiu7.js"])))=>i.map(i=>d[i]);
import{A as e,B as t,E as n,F as r,G as i,H as a,I as o,L as s,M as c,N as l,O as u,P as d,R as f,T as p,U as m,V as h,W as g,_,b as v,g as y,h as b,j as x,k as S,v as C,y as w}from"./chunk-CZEdwOsv.js";import{t as T}from"./chunk-Bm8CIiu7.js";var E=class{tree;values;constructor(e){this.tree=new Float64Array(e+1),this.values=new Float64Array(e)}update(e,t){if(!(e<0||e>=this.values.length))for(this.values[e]=this.values[e]+t,e++;e<this.tree.length;)this.tree[e]=this.tree[e]+t,e+=e&-e}query(e){let t=0;for(;e>0;)t+=this.tree[e]||0,e-=e&-e;return t}set(e,t){e<0||e>=this.values.length||(this.values[e]=t)}get length(){return this.values.length}get(e){return this.values[e]||0}getValues(){return this.values}findLowerBound(e){let t=0,n=this.tree.length,r=1<<Math.floor(Math.log2(n-1));for(;r>0;){let i=t+r;if(i<n){let n=this.tree[i]||0;n<=e&&(t=i,e-=n)}r>>=1}return t}rebuild(){this.tree.fill(0);for(let e=0;e<this.values.length;e++)this.tree[e+1]=this.values[e]||0;for(let e=1;e<this.tree.length;e++){let t=e+(e&-e);t<this.tree.length&&(this.tree[t]=this.tree[t]+this.tree[e])}}resize(e){if(e===this.values.length)return;let t=new Float64Array(e);t.set(this.values.subarray(0,Math.min(e,this.values.length))),this.values=t,this.tree=new Float64Array(e+1),this.rebuild()}shift(e){if(e===0)return;let t=this.values.length,n=new Float64Array(t);e>0?n.set(this.values.subarray(0,Math.min(t-e,this.values.length)),e):n.set(this.values.subarray(-e)),this.values=n,this.rebuild()}};function D(e){return e===null||typeof window<`u`&&e===window}function O(e){return!!e&&typeof e==`object`&&`tagName`in e&&e.tagName===`BODY`}function ee(e){return D(e)||O(e)}function te(e){return!!e&&`getBoundingClientRect`in e}function k(e){return!!e&&`scrollLeft`in e}function A(e){return typeof e==`object`&&!!e&&(`align`in e||`behavior`in e||`isCorrection`in e)}function j(e,t){return typeof e==`object`&&e?e.x||0:(t===`horizontal`||t===`both`)&&e||0}function M(e,t){return typeof e==`object`&&e?e.y||0:(t===`vertical`||t===`both`)&&e||0}function ne(e){let{rowIndex:t,colIndex:n,options:r,itemsLength:i,columnCount:a,direction:o,viewportWidth:s,viewportHeight:c,totalWidth:l,totalHeight:u,scrollPaddingStart:d,scrollPaddingEnd:f,gap:p,columnGap:m,fixedSize:h,relativeScrollX:g,relativeScrollY:_,getItemSizeY:v,getItemSizeX:y,getItemQueryY:b,getItemQueryX:x,getColumnSize:S,getColumnQuery:C}=e,w;w=A(r)?r.align:r;let T=(typeof w==`object`?w.x:w)||`auto`,E=(typeof w==`object`?w.y:w)||`auto`,D=o===`vertical`||o===`both`,O=o===`horizontal`||o===`both`,ee=j(d,o),te=j(f,o),k=M(d,o),ne=M(f,o),N=s-(O?ee+te:0),P=c-(D?k+ne:0),F=g,I=_,L=0,R=0;if(t!=null){let e=0;if(t>=i?(e=u,R=0):(e=h===null?b(t):t*(h+p),R=h===null?v(t)-p:h),E===`start`)I=e;else if(E===`center`)I=e-(P-R)/2;else if(E===`end`)I=e-(P-R);else if(!(R<=P?e>=_-.5&&e+R<=_+P+.5:e<=_+.5&&e+R>=_+P-.5)){let t=e,n=e-(P-R);I=Math.abs(t-_)<Math.abs(n-_)?t:n}}if(n!=null){let e=0;if(n>=a&&a>0?(e=l,L=0):o===`horizontal`?(e=h===null?x(n):n*(h+m),L=h===null?y(n)-m:h):(e=C(n),L=S(n)-m),T===`start`)F=e;else if(T===`center`)F=e-(N-L)/2;else if(T===`end`)F=e-(N-L);else if(!(L<=N?e>=g-.5&&e+L<=g+N+.5:e<=g+.5&&e+L>=g+N-.5)){let t=e,n=e-(N-L);F=Math.abs(t-g)<Math.abs(n-g)?t:n}}return F=Math.max(0,Math.min(F,Math.max(0,l-N))),I=Math.max(0,Math.min(I,Math.max(0,u-P))),{targetX:F,targetY:I,itemWidth:L,itemHeight:R}}function N(e){let{direction:t,relativeScrollX:n,relativeScrollY:r,viewportWidth:i,viewportHeight:a,itemsLength:o,bufferBefore:s,bufferAfter:c,gap:l,columnGap:u,fixedSize:d,scrollPaddingStart:f,scrollPaddingEnd:p,findLowerBoundY:m,findLowerBoundX:h,queryY:g,queryX:_}=e,v=t===`vertical`||t===`both`,y=t===`horizontal`||t===`both`,b=j(f,t),x=j(p,t),S=M(f,t),C=M(p,t),w=i-(y?b+x:0),T=a-(v?S+C:0),E=0,D=o;if(v)if(d!==null)E=Math.floor(r/(d+l)),D=Math.ceil((r+T)/(d+l));else{E=m(r);let e=g(E),t=E;for(;t<o&&e<r+T;)e=g(++t);D=t}else if(d!==null)E=Math.floor(n/(d+u)),D=Math.ceil((n+w)/(d+u));else{E=h(n);let e=_(E),t=E;for(;t<o&&e<n+w;)e=_(++t);D=t}return{start:Math.max(0,E-s),end:Math.min(o,D+c)}}function P(e){let{columnCount:t,relativeScrollX:n,viewportWidth:r,colBuffer:i,fixedWidth:a,columnGap:o,findLowerBound:s,query:c,totalColsQuery:l}=e;if(!t)return{start:0,end:0,padStart:0,padEnd:0};let u=0,d=t;if(a!==null)u=Math.floor(n/(a+o)),d=Math.ceil((n+r)/(a+o));else{u=s(n);let e=c(u),i=u;for(;i<t&&e<n+r;)e=c(++i);d=i}let f=Math.max(0,u-i),p=Math.min(t,d+i),m=a===null?c(f):f*(a+o),h=a===null?Math.max(0,l()-o):t*(a+o)-o,g=a===null?c(p)-(p>=t?o:0):p*(a+o)-(p>=t?o:0);return{start:f,end:p,padStart:m,padEnd:Math.max(0,h-g)}}function F(e){let{index:t,isSticky:n,direction:r,relativeScrollX:i,relativeScrollY:a,originalX:o,originalY:s,width:c,height:l,stickyIndices:u,fixedSize:d,fixedWidth:f,gap:p,columnGap:m,getItemQueryY:h,getItemQueryX:g}=e,_=!1,v={x:0,y:0};if(!n)return{isStickyActive:_,stickyOffset:v};if((r===`vertical`||r===`both`)&&a>s){let e,n=0,r=u.length-1;for(;n<=r;){let i=n+r>>>1;u[i]>t?(e=u[i],r=i-1):n=i+1}if(e!==void 0){let t=d===null?h(e):e*(d+p);a>=t?_=!1:(_=!0,v.y=Math.max(0,Math.min(l,t-a))-l)}else _=!0}if((r===`horizontal`||r===`both`&&!_)&&i>o){let e,n=0,a=u.length-1;for(;n<=a;){let r=n+a>>>1;u[r]>t?(e=u[r],a=r-1):n=r+1}if(e!==void 0){let t=r===`horizontal`?d===null?g(e):e*(d+m):f===null?g(e):e*(f+m);i>=t?_=!1:(_=!0,v.x=Math.max(0,Math.min(c,t-i))-c)}else _=!0}return{isStickyActive:_,stickyOffset:v}}function I(e){let{index:t,direction:n,fixedSize:r,gap:i,columnGap:a,viewportWidth:o,viewportHeight:s,totalWidth:c,queryY:l,queryX:u,getSizeY:d,getSizeX:f}=e,p=0,m=0,h=0,g=0;return n===`horizontal`?(p=r===null?u(t):t*(r+a),h=r===null?f(t)-a:r,g=s):(m=(n===`vertical`||n===`both`)&&r!==null?t*(r+i):l(t),g=r===null?d(t)-i:r,h=n===`both`?c:o),{height:g,width:h,x:p,y:m}}function L(e){let{item:t,direction:n,itemSize:r,containerTag:i,scrollPaddingStart:a,isHydrated:o}=e,s=n===`vertical`,c=n===`horizontal`,l=n===`both`,u=r==null||r===0,d={blockSize:c?`100%`:u?`auto`:`${t.size.height}px`};return s&&i===`table`?d.minInlineSize=`100%`:d.inlineSize=s?`100%`:u?`auto`:`${t.size.width}px`,u&&(s||(d.minInlineSize=`1px`),c||(d.minBlockSize=`1px`)),o&&(t.isStickyActive?((s||l)&&(d.insetBlockStart=`${M(a,n)}px`),(c||l)&&(d.insetInlineStart=`${j(a,n)}px`),d.transform=`translate(${t.stickyOffset.x}px, ${t.stickyOffset.y}px)`):d.transform=`translate(${t.offset.x}px, ${t.offset.y}px)`),d}function R(e){let{direction:t,itemsLength:n,columnCount:r,fixedSize:i,fixedWidth:a,gap:o,columnGap:s,viewportWidth:c,viewportHeight:l,queryY:u,queryX:d,queryColumn:f}=e,p=0,m=0;return t===`both`?(r>0&&(p=a===null?Math.max(0,f(r)-s):r*(a+s)-s),m=i===null?Math.max(0,u(n)-(n>0?o:0)):Math.max(0,n*(i+o)-(n>0?o:0)),p=Math.max(p,c),m=Math.max(m,l)):t===`horizontal`?(p=i===null?Math.max(0,d(n)-(n>0?s:0)):Math.max(0,n*(i+s)-(n>0?s:0)),m=l):(p=c,m=i===null?Math.max(0,u(n)-(n>0?o:0)):Math.max(0,n*(i+o)-(n>0?o:0))),{width:p,height:m}}const z=40,B=100,V=5;function H(e){let r=h(0),i=h(0),a=h(!1),o=h(!1),c=h(!1),l=h(!1),d=h(0),f=h(0),p=t({x:0,y:0}),m,g=h(!1),_=new E(e.value.items.length),v=new E(e.value.items.length),b=new E(e.value.columnCount||0),C=h(0),w=new Uint8Array,T=new Uint8Array,D=new Uint8Array,O=h(null),ee=h(!1),L=[],z=y(()=>e.value.itemSize===void 0||e.value.itemSize===null||e.value.itemSize===0),B=y(()=>e.value.columnWidth===void 0||e.value.columnWidth===null||e.value.columnWidth===0),V=y(()=>typeof e.value.itemSize==`number`&&e.value.itemSize>0?e.value.itemSize:null),H=y(()=>typeof e.value.columnWidth==`number`&&e.value.columnWidth>0?e.value.columnWidth:null),re=y(()=>e.value.defaultItemSize||V.value||40),U=y(()=>[...e.value.stickyIndices||[]].sort((e,t)=>e-t)),W=y(()=>new Set(U.value)),G=y(()=>{if(C.value,!o.value&&e.value.ssrRange&&!l.value){let{start:t=0,end:n=0,colStart:r=0,colEnd:i=0}=e.value.ssrRange,a=e.value.columnCount||0;if(e.value.direction===`both`){if(a<=0)return 0;let t=i||a,n=b.query(t)-b.query(r);return Math.max(0,n-(t>r&&e.value.columnGap||0))}if(e.value.direction===`horizontal`){if(V.value!==null){let r=n-t;return Math.max(0,r*(V.value+(e.value.columnGap||0))-(r>0&&e.value.columnGap||0))}let r=_.query(n)-_.query(t);return Math.max(0,r-(n>t&&e.value.columnGap||0))}}return R({direction:e.value.direction||`vertical`,itemsLength:e.value.items.length,columnCount:e.value.columnCount||0,fixedSize:V.value,fixedWidth:H.value,gap:e.value.gap||0,columnGap:e.value.columnGap||0,viewportWidth:d.value,viewportHeight:f.value,queryY:e=>v.query(e),queryX:e=>_.query(e),queryColumn:e=>b.query(e)}).width}),K=y(()=>{if(C.value,!o.value&&e.value.ssrRange&&!l.value){let{start:t,end:n}=e.value.ssrRange;if(e.value.direction===`vertical`||e.value.direction===`both`){if(V.value!==null){let r=n-t;return Math.max(0,r*(V.value+(e.value.gap||0))-(r>0&&e.value.gap||0))}let r=v.query(n)-v.query(t);return Math.max(0,r-(n>t&&e.value.gap||0))}}return R({direction:e.value.direction||`vertical`,itemsLength:e.value.items.length,columnCount:e.value.columnCount||0,fixedSize:V.value,fixedWidth:H.value,gap:e.value.gap||0,columnGap:e.value.columnGap||0,viewportWidth:d.value,viewportHeight:f.value,queryY:e=>v.query(e),queryX:e=>_.query(e),queryColumn:e=>b.query(e)}).height}),q=y(()=>{let t=e.value.direction===`horizontal`||e.value.direction===`both`?j(e.value.scrollPaddingStart,e.value.direction):0;return Math.max(0,r.value+t-p.x)}),J=y(()=>{let t=e.value.direction===`vertical`||e.value.direction===`both`?M(e.value.scrollPaddingStart,e.value.direction):0;return Math.max(0,i.value+t-p.y)}),ie=t=>{C.value;let n=e.value.columnWidth;if(typeof n==`number`&&n>0)return n;if(Array.isArray(n)&&n.length>0){let r=n[t%n.length];return r!=null&&r>0?r:e.value.defaultColumnWidth||100}return typeof n==`function`?n(t):b.get(t)||e.value.defaultColumnWidth||100},Y=(t,n,a)=>{let o=typeof a==`object`&&a&&`isCorrection`in a?a.isCorrection:!1;o||(O.value={rowIndex:t,colIndex:n,options:a});let s=e.value.container||window,c=j(e.value.scrollPaddingStart,e.value.direction),l=M(e.value.scrollPaddingStart,e.value.direction),u=e.value.direction===`vertical`||e.value.direction===`both`,m=e.value.direction===`horizontal`||e.value.direction===`both`,{targetX:h,targetY:y}=ne({rowIndex:t,colIndex:n,options:a,itemsLength:e.value.items.length,columnCount:e.value.columnCount||0,direction:e.value.direction||`vertical`,viewportWidth:d.value,viewportHeight:f.value,totalWidth:G.value,totalHeight:K.value,scrollPaddingStart:e.value.scrollPaddingStart,scrollPaddingEnd:e.value.scrollPaddingEnd,gap:e.value.gap||0,columnGap:e.value.columnGap||0,fixedSize:V.value,fixedWidth:H.value,relativeScrollX:q.value,relativeScrollY:J.value,getItemSizeY:e=>v.get(e),getItemSizeX:e=>_.get(e),getItemQueryY:e=>v.query(e),getItemQueryX:e=>_.query(e),getColumnSize:e=>b.get(e),getColumnQuery:e=>b.query(e)}),x=h+p.x-(m?c:0),S=y+p.y-(u?l:0),C;A(a)&&(C=a.behavior);let w=o?`auto`:C||`smooth`;if(g.value=!0,typeof window<`u`&&s===window)window.scrollTo({left:n==null?void 0:Math.max(0,x),top:t==null?void 0:Math.max(0,S),behavior:w});else if(k(s)){let e={behavior:w};n!=null&&(e.left=Math.max(0,x)),t!=null&&(e.top=Math.max(0,S)),typeof s.scrollTo==`function`?s.scrollTo(e):(e.left!==void 0&&(s.scrollLeft=e.left),e.top!==void 0&&(s.scrollTop=e.top))}(w===`auto`||w===void 0)&&(n!=null&&(r.value=Math.max(0,x)),t!=null&&(i.value=Math.max(0,S)))},X=(t,n,a)=>{let o=e.value.container||window;g.value=!0;let s=e.value.direction===`vertical`||e.value.direction===`both`,c=e.value.direction===`horizontal`||e.value.direction===`both`,l=j(e.value.scrollPaddingStart,e.value.direction),u=M(e.value.scrollPaddingStart,e.value.direction),m=j(e.value.scrollPaddingEnd,e.value.direction),h=M(e.value.scrollPaddingEnd,e.value.direction),_=d.value-(c?l+m:0),v=f.value-(s?u+h:0),y=t==null?null:c?Math.max(0,Math.min(t,Math.max(0,G.value-_))):Math.max(0,t),b=n==null?null:s?Math.max(0,Math.min(n,Math.max(0,K.value-v))):Math.max(0,n),x=typeof window<`u`&&o===window?window.scrollX:o.scrollLeft,S=typeof window<`u`&&o===window?window.scrollY:o.scrollTop,C=y===null?x:y+p.x-(c?l:0),w=b===null?S:b+p.y-(s?u:0);if(typeof window<`u`&&o===window)window.scrollTo({left:t==null?void 0:C,top:n==null?void 0:w,behavior:a?.behavior||`auto`});else if(k(o)){let e={behavior:a?.behavior||`auto`};t!=null&&(e.left=C),n!=null&&(e.top=w),typeof o.scrollTo==`function`?o.scrollTo(e):(e.left!==void 0&&(o.scrollLeft=e.left),e.top!==void 0&&(o.scrollTop=e.top))}(a?.behavior===`auto`||a?.behavior===void 0)&&(t!=null&&(r.value=C),n!=null&&(i.value=w))},Z=()=>{let t=e.value.items,n=t.length,r=e.value.columnCount||0;if(_.resize(n),v.resize(n),b.resize(r),T.length!==n){let e=new Uint8Array(n);e.set(T.subarray(0,Math.min(n,T.length))),T=e}if(D.length!==n){let e=new Uint8Array(n);e.set(D.subarray(0,Math.min(n,D.length))),D=e}if(w.length!==r){let e=new Uint8Array(r);e.set(w.subarray(0,Math.min(r,w.length))),w=e}let i=0;if(e.value.restoreScrollOnPrepend&&L.length>0&&n>L.length){let e=L[0];if(e!==void 0){for(let r=1;r<=n-L.length;r++)if(t[r]===e){i=r;break}}}if(i>0){_.shift(i),v.shift(i),O.value&&O.value.rowIndex!==null&&O.value.rowIndex!==void 0&&(O.value.rowIndex+=i);let r=new Uint8Array(n),a=new Uint8Array(n);r.set(T.subarray(0,Math.min(n-i,T.length)),i),a.set(D.subarray(0,Math.min(n-i,D.length)),i),T=r,D=a;let o=e.value.gap||0,s=e.value.columnGap||0,c=0,l=0;for(let n=0;n<i;n++){let r=typeof e.value.itemSize==`function`?e.value.itemSize(t[n],n):re.value;e.value.direction===`horizontal`?c+=r+s:l+=r+o}(c>0||l>0)&&u(()=>{X(c>0?q.value+c:null,l>0?J.value+l:null,{behavior:`auto`})})}if(r>0){let t=e.value.columnGap||0,n=!1,i=e.value.columnWidth;for(let a=0;a<r;a++){let r=b.get(a),o=w[a]===1;if(!B.value||!o&&r===0){let o=0;o=typeof i==`number`&&i>0?i:Array.isArray(i)&&i.length>0?i[a%i.length]||e.value.defaultColumnWidth||100:typeof i==`function`?i(a):e.value.defaultColumnWidth||100;let s=o+t;Math.abs(r-s)>.5?(b.set(a,s),w[a]=B.value?0:1,n=!0):B.value||(w[a]=1)}}n&&b.rebuild()}let a=e.value.gap||0,o=e.value.columnGap||0,s=!1;for(let t=0;t<n;t++){let n=e.value.items[t],r=_.get(t),i=v.get(t),c=e.value.direction===`vertical`,l=e.value.direction===`horizontal`,u=e.value.direction===`both`,d=T[t]===1,f=D[t]===1;if(l){if(!z.value||!d&&r===0){let i=(typeof e.value.itemSize==`function`?e.value.itemSize(n,t):re.value)+o;Math.abs(r-i)>.5?(_.set(t,i),T[t]=z.value?0:1,s=!0):z.value||(T[t]=1)}}else r!==0&&(_.set(t,0),T[t]=0,s=!0);if(c||u){if(!z.value||!f&&i===0){let r=(typeof e.value.itemSize==`function`?e.value.itemSize(n,t):re.value)+a;Math.abs(i-r)>.5?(v.set(t,r),D[t]=z.value?0:1,s=!0):z.value||(D[t]=1)}}else i!==0&&(v.set(t,0),D[t]=0,s=!0)}s&&(_.rebuild(),v.rebuild()),L=[...t],ee.value=!0,C.value++},Q=()=>{if(e.value.hostElement&&typeof window<`u`){let t=e.value.hostElement.getBoundingClientRect(),n=e.value.container||window,r=0,i=0;if(n===window)r=t.left+window.scrollX,i=t.top+window.scrollY;else if(n===e.value.hostElement)r=0,i=0;else if(te(n)){let e=n.getBoundingClientRect();r=t.left-e.left+n.scrollLeft,i=t.top-e.top+n.scrollTop}(Math.abs(p.x-r)>.1||Math.abs(p.y-i)>.1)&&(p.x=r,p.y=i)}};s([()=>e.value.items,()=>e.value.items.length,()=>e.value.direction,()=>e.value.columnCount,()=>e.value.columnWidth,()=>e.value.itemSize,()=>e.value.gap,()=>e.value.columnGap,()=>e.value.defaultItemSize,()=>e.value.defaultColumnWidth],Z,{immediate:!0}),s(()=>[e.value.container,e.value.hostElement],()=>{Q()});let ae=y(()=>{if(C.value,(!o.value||c.value)&&e.value.ssrRange)return{start:e.value.ssrRange.start,end:e.value.ssrRange.end};let t=e.value.ssrRange&&!a.value?0:e.value.bufferBefore??5,n=e.value.bufferAfter??5;return N({direction:e.value.direction||`vertical`,relativeScrollX:q.value,relativeScrollY:J.value,viewportWidth:d.value,viewportHeight:f.value,itemsLength:e.value.items.length,bufferBefore:t,bufferAfter:n,gap:e.value.gap||0,columnGap:e.value.columnGap||0,fixedSize:V.value,scrollPaddingStart:e.value.scrollPaddingStart,scrollPaddingEnd:e.value.scrollPaddingEnd,findLowerBoundY:e=>v.findLowerBound(e),findLowerBoundX:e=>_.findLowerBound(e),queryY:e=>v.query(e),queryX:e=>_.query(e)})}),oe=y(()=>{C.value;let t=V.value,n=e.value.gap||0,r=e.value.columnGap||0;return e.value.direction===`horizontal`?t===null?_.findLowerBound(q.value):Math.floor(q.value/(t+r)):t===null?v.findLowerBound(J.value):Math.floor(J.value/(t+n))}),se=[],ce=y(()=>{C.value;let{start:t,end:n}=ae.value,r=[],i=V.value,a=e.value.gap||0,s=e.value.columnGap||0,c=U.value,l=W.value,u=new Set;for(let e=t;e<n;e++)u.add(e);if(o.value||!e.value.ssrRange){let e=oe.value,r,i=0,a=c.length-1;for(;i<=a;){let t=i+a>>>1;c[t]<e?(r=c[t],i=t+1):a=t-1}r!==void 0&&u.add(r);for(let e of c)e>=t&&e<n&&u.add(e)}let p=Array.from(u).sort((e,t)=>e-t),m=e.value.ssrRange?.start||0,h=e.value.ssrRange?.colStart||0,g=0,y=0;!o.value&&e.value.ssrRange&&(y=e.value.direction===`vertical`||e.value.direction===`both`?i===null?v.query(m):m*(i+a):0,e.value.direction===`horizontal`?g=i===null?_.query(h):h*(i+s):e.value.direction===`both`&&(g=b.query(h)));let x=new Map(se.map(e=>[e.index,e]));for(let t of p){let n=e.value.items[t];if(n===void 0)continue;let{x:i,y:a,width:o,height:s}=I({index:t,direction:e.value.direction||`vertical`,fixedSize:V.value,gap:e.value.gap||0,columnGap:e.value.columnGap||0,viewportWidth:d.value,viewportHeight:f.value,totalWidth:G.value,queryY:e=>v.query(e),queryX:e=>_.query(e),getSizeY:e=>v.get(e),getSizeX:e=>_.get(e)}),u=l.has(t),p=i,m=a,{isStickyActive:h,stickyOffset:b}=F({index:t,isSticky:u,direction:e.value.direction||`vertical`,relativeScrollX:q.value,relativeScrollY:J.value,originalX:p,originalY:m,width:o,height:s,stickyIndices:c,fixedSize:V.value,fixedWidth:H.value,gap:e.value.gap||0,columnGap:e.value.columnGap||0,getItemQueryY:e=>v.query(e),getItemQueryX:e=>_.query(e)}),S=p-g,C=m-y,w=x.get(t);w&&w.item===n&&w.offset.x===S&&w.offset.y===C&&w.size.width===o&&w.size.height===s&&w.isSticky===u&&w.isStickyActive===h&&w.stickyOffset.x===b.x&&w.stickyOffset.y===b.y?r.push(w):r.push({item:n,index:t,offset:{x:S,y:C},size:{width:o,height:s},originalX:p,originalY:m,isSticky:u,isStickyActive:h,stickyOffset:b})}return se=r,r}),le=y(()=>{C.value;let t=e.value.columnCount||0;if(!t)return{start:0,end:0,padStart:0,padEnd:0};if((!o.value||c.value)&&e.value.ssrRange){let{colStart:n=0,colEnd:r=0}=e.value.ssrRange;return{start:Math.max(0,n),end:Math.min(t,r||t),padStart:0,padEnd:0}}let n=e.value.ssrRange&&!a.value?0:2;return P({columnCount:t,relativeScrollX:q.value,viewportWidth:d.value,colBuffer:n,fixedWidth:H.value,columnGap:e.value.columnGap||0,findLowerBound:e=>b.findLowerBound(e),query:e=>b.query(e),totalColsQuery:()=>b.query(t)})}),ue=y(()=>{C.value;let t=V.value,n=e.value.columnGap||0,r=0;return e.value.direction===`horizontal`?r=t===null?_.findLowerBound(q.value):Math.floor(q.value/(t+n)):e.value.direction===`both`&&(r=b.findLowerBound(q.value)),{items:ce.value,currentIndex:oe.value,currentColIndex:r,scrollOffset:{x:q.value,y:J.value},viewportSize:{width:d.value,height:f.value},totalSize:{width:G.value,height:K.value},isScrolling:a.value,isProgrammaticScroll:g.value,range:ae.value,columnRange:le.value}}),de=()=>{g.value=!1,O.value=null},fe=e=>{let t=e.target;typeof window>`u`||(t===window||t===document?(r.value=window.scrollX,i.value=window.scrollY,d.value=document.documentElement.clientWidth,f.value=document.documentElement.clientHeight):k(t)&&(r.value=t.scrollLeft,i.value=t.scrollTop,d.value=t.clientWidth,f.value=t.clientHeight),a.value||=(g.value||(O.value=null),!0),clearTimeout(m),m=setTimeout(()=>{a.value=!1,g.value=!1},250))},$=t=>{let n=!1,r=0,i=0,a=e.value.gap||0,o=e.value.columnGap||0,s=q.value,c=J.value,l=e.value.direction===`horizontal`?V.value===null?_.findLowerBound(s):Math.floor(s/(V.value+o)):V.value===null?v.findLowerBound(c):Math.floor(c/(V.value+a)),u=e.value.direction===`both`?b.findLowerBound(s):e.value.direction===`horizontal`?l:0,d=e.value.direction===`horizontal`,f=e.value.direction===`vertical`,p=e.value.direction===`both`,m=new Set,h=new Set;for(let{index:s,inlineSize:c,blockSize:g,element:y}of t){if(c<=0&&g<=0)continue;let t=z.value||typeof e.value.itemSize==`function`;if(s>=0&&!m.has(s)&&t&&g>0){if(m.add(s),d&&c>0){let e=_.get(s),t=c+o;if(!T[s]||Math.abs(t-e)>.1){let i=t-e;_.update(s,i),T[s]=1,n=!0,s<l&&(r+=i)}}if(f||p){let e=v.get(s),t=g+a;if(!D[s]||Math.abs(t-e)>.1){let r=t-e;v.update(s,r),D[s]=1,n=!0,s<l&&(i+=r)}}}let x=B.value||typeof e.value.columnWidth==`function`;if(p&&y&&e.value.columnCount&&x&&(c>0||y.dataset.colIndex===void 0)){let t=y.dataset.colIndex;if(t!=null){let i=Number.parseInt(t,10);if(i>=0&&i<(e.value.columnCount||0)&&!h.has(i)){h.add(i);let e=b.get(i),t=c+o;if(!w[i]||Math.abs(e-t)>.1){let a=t-e;Math.abs(a)>.1&&(b.update(i,a),n=!0,i<u&&(r+=a)),w[i]=1}}}else{let t=y.dataset.colIndex===void 0?Array.from(y.querySelectorAll(`[data-col-index]`)):[y];for(let i of t){let t=Number.parseInt(i.dataset.colIndex,10);if(t>=0&&t<(e.value.columnCount||0)&&!h.has(t)){h.add(t);let e=i.getBoundingClientRect().width,a=b.get(t),s=e+o;if(!w[t]||Math.abs(a-s)>.1){let e=s-a;Math.abs(e)>.1&&(b.update(t,e),n=!0,t<u&&(r+=e)),w[t]=1}}}}}}n&&(C.value++,!(O.value!==null||g.value)&&(r!==0||i!==0)&&X(r===0?null:s+r,i===0?null:c+i,{behavior:`auto`}))},pe=(e,t,n,r)=>{$([{index:e,inlineSize:t,blockSize:n,element:r}])},me=()=>{if(O.value&&!c.value){let{rowIndex:t,colIndex:n,options:r}=O.value;if(A(r)&&r.behavior===`smooth`&&a.value)return;let{targetX:i,targetY:o}=ne({rowIndex:t,colIndex:n,options:r,itemsLength:e.value.items.length,columnCount:e.value.columnCount||0,direction:e.value.direction||`vertical`,viewportWidth:d.value,viewportHeight:f.value,totalWidth:G.value,totalHeight:K.value,scrollPaddingStart:e.value.scrollPaddingStart,scrollPaddingEnd:e.value.scrollPaddingEnd,gap:e.value.gap||0,columnGap:e.value.columnGap||0,fixedSize:V.value,fixedWidth:H.value,relativeScrollX:q.value,relativeScrollY:J.value,getItemSizeY:e=>v.get(e),getItemSizeX:e=>_.get(e),getItemQueryY:e=>v.query(e),getItemQueryX:e=>_.query(e),getColumnSize:e=>b.get(e),getColumnQuery:e=>b.query(e)}),s=n==null||Math.abs(q.value-i)<1,c=t==null||Math.abs(J.value-o)<1,l=n==null||n===void 0||w[n]===1,u=t==null||t===void 0||D[t]===1;s&&c?l&&u&&(O.value=null):Y(t,n,A(r)?{...r,isCorrection:!0}:{align:r,isCorrection:!0})}};s([C,d,f],me),s(a,e=>{e||me()});let he=null,ge=e=>{if(!e||typeof window>`u`)return;let t=e===window?document:e;if(t.addEventListener(`scroll`,fe,{passive:!0}),e===window){d.value=document.documentElement.clientWidth,f.value=document.documentElement.clientHeight,r.value=window.scrollX,i.value=window.scrollY;let e=()=>{d.value=document.documentElement.clientWidth,f.value=document.documentElement.clientHeight,Q()};return window.addEventListener(`resize`,e),()=>{t.removeEventListener(`scroll`,fe),window.removeEventListener(`resize`,e)}}else return d.value=e.clientWidth,f.value=e.clientHeight,r.value=e.scrollLeft,i.value=e.scrollTop,he=new ResizeObserver(t=>{for(let n of t)n.target===e&&(d.value=e.clientWidth,f.value=e.clientHeight,Q())}),he.observe(e),()=>{t.removeEventListener(`scroll`,fe),he?.disconnect()}},_e;return n()&&(S(()=>{l.value=!0,s(()=>e.value.container,e=>{_e?.(),_e=ge(e||null)},{immediate:!0}),Q(),e.value.ssrRange||e.value.initialScrollIndex!==void 0?u(()=>{Q();let t=e.value.initialScrollIndex===void 0?e.value.ssrRange?.start:e.value.initialScrollIndex,n=e.value.initialScrollAlign||`start`;t!=null&&Y(t,e.value.ssrRange?.colStart,{align:n,behavior:`auto`}),o.value=!0,c.value=!0,u(()=>{c.value=!1})}):o.value=!0}),x(()=>{_e?.()})),{renderedItems:ce,totalWidth:G,totalHeight:K,scrollDetails:ue,scrollToIndex:Y,scrollToOffset:X,stopProgrammaticScroll:de,updateItemSize:pe,updateItemSizes:$,updateHostOffset:Q,columnRange:le,getColumnWidth:ie,refresh:()=>{_.resize(0),v.resize(0),b.resize(0),w.fill(0),T.fill(0),D.fill(0),Z()},isHydrated:o}}var re={key:0,class:`virtual-scroll-debug-info`},U=p({__name:`VirtualScroll`,props:{items:{},itemSize:{},direction:{default:`vertical`},bufferBefore:{default:5},bufferAfter:{default:5},container:{},ssrRange:{},columnCount:{default:0},columnWidth:{},containerTag:{default:`div`},wrapperTag:{default:`div`},itemTag:{default:`div`},scrollPaddingStart:{default:0},scrollPaddingEnd:{default:0},stickyHeader:{type:Boolean,default:!1},stickyFooter:{type:Boolean,default:!1},gap:{default:0},columnGap:{default:0},stickyIndices:{default:()=>[]},loadDistance:{default:200},loading:{type:Boolean,default:!1},restoreScrollOnPrepend:{type:Boolean,default:!1},initialScrollIndex:{},initialScrollAlign:{},defaultItemSize:{},defaultColumnWidth:{},debug:{type:Boolean,default:!1}},emits:[`scroll`,`load`,`visibleRangeChange`],setup(e,{expose:t,emit:n}){let p=e,T=n,E=o(),D=h(null),O=h(null),te=h(null),k=h(null),A=new Map,j=h(0),M=h(0),ne=y(()=>{let e=p.container===void 0?D.value:p.container;return e===D.value||typeof window<`u`&&(e===window||e===null)}),N=y(()=>{let e=p.scrollPaddingStart,t=p.scrollPaddingEnd;p.items.length;let n=typeof e==`object`?e.x||0:(p.direction===`horizontal`||p.direction===`both`)&&e||0,r=typeof e==`object`?e.y||0:(p.direction===`vertical`||p.direction===`both`)&&e||0,i=typeof t==`object`?t.x||0:(p.direction===`horizontal`||p.direction===`both`)&&t||0,a=typeof t==`object`?t.y||0:(p.direction===`vertical`||p.direction===`both`)&&t||0;return{items:p.items,itemSize:p.itemSize,direction:p.direction,bufferBefore:p.bufferBefore,bufferAfter:p.bufferAfter,container:p.container===void 0?D.value:p.container,hostElement:O.value,ssrRange:p.ssrRange,columnCount:p.columnCount,columnWidth:p.columnWidth,scrollPaddingStart:{x:n,y:r+(p.stickyHeader&&ne.value?j.value:0)},scrollPaddingEnd:{x:i,y:a+(p.stickyFooter&&ne.value?M.value:0)},gap:p.gap,columnGap:p.columnGap,stickyIndices:p.stickyIndices,loadDistance:p.loadDistance,loading:p.loading,restoreScrollOnPrepend:p.restoreScrollOnPrepend,initialScrollIndex:p.initialScrollIndex,initialScrollAlign:p.initialScrollAlign,defaultItemSize:p.defaultItemSize,defaultColumnWidth:p.defaultColumnWidth,debug:p.debug}}),{isHydrated:P,columnRange:F,renderedItems:I,scrollDetails:R,totalHeight:z,totalWidth:B,getColumnWidth:V,scrollToIndex:U,scrollToOffset:W,updateHostOffset:G,updateItemSizes:K,refresh:q,stopProgrammaticScroll:J}=H(N);function ie(){q(),u(()=>{let e=[];for(let[t,n]of A.entries())n&&e.push({index:t,inlineSize:n.offsetWidth,blockSize:n.offsetHeight,element:n});e.length>0&&K(e)})}s(R,(e,t)=>{P.value&&(T(`scroll`,e),(!t||e.range.start!==t.range.start||e.range.end!==t.range.end||e.columnRange.start!==t.columnRange.start||e.columnRange.end!==t.columnRange.end)&&T(`visibleRangeChange`,{start:e.range.start,end:e.range.end,colStart:e.columnRange.start,colEnd:e.columnRange.end}),!p.loading&&(p.direction!==`horizontal`&&e.totalSize.height-(e.scrollOffset.y+e.viewportSize.height)<=p.loadDistance&&T(`load`,`vertical`),p.direction!==`vertical`&&e.totalSize.width-(e.scrollOffset.x+e.viewportSize.width)<=p.loadDistance&&T(`load`,`horizontal`)))}),s(P,e=>{e&&T(`visibleRangeChange`,{start:R.value.range.start,end:R.value.range.end,colStart:R.value.columnRange.start,colEnd:R.value.columnRange.end})},{once:!0});let Y=typeof window>`u`?null:new ResizeObserver(G),X=typeof window>`u`?null:new ResizeObserver(e=>{let t=[];for(let n of e){let e=n.target,r=Number(e.dataset.index),i=e.dataset.colIndex,a=n.contentRect.width,o=n.contentRect.height;n.borderBoxSize&&n.borderBoxSize.length>0?(a=n.borderBoxSize[0].inlineSize,o=n.borderBoxSize[0].blockSize):(a=e.offsetWidth,o=e.offsetHeight),i===void 0?Number.isNaN(r)||t.push({index:r,inlineSize:a,blockSize:o,element:e}):t.push({index:-1,inlineSize:a,blockSize:o,element:e})}t.length>0&&K(t)}),Z=typeof window>`u`?null:new ResizeObserver(()=>{j.value=te.value?.offsetHeight||0,M.value=k.value?.offsetHeight||0,G()});s(te,(e,t)=>{t&&Z?.unobserve(t),e&&Z?.observe(e)},{immediate:!0}),s(k,(e,t)=>{t&&Z?.unobserve(t),e&&Z?.observe(e)},{immediate:!0}),S(()=>{D.value&&Y?.observe(D.value);for(let e of A.values())X?.observe(e),p.direction===`both`&&e.querySelectorAll(`[data-col-index]`).forEach(e=>X?.observe(e))}),s([D,O],([e],[t])=>{t&&Y?.unobserve(t),e&&Y?.observe(e)});function Q(e,t){if(e)A.set(t,e),X?.observe(e),p.direction===`both`&&e.querySelectorAll(`[data-col-index]`).forEach(e=>X?.observe(e));else{let e=A.get(t);e&&(X?.unobserve(e),p.direction===`both`&&e.querySelectorAll(`[data-col-index]`).forEach(e=>X?.unobserve(e)),A.delete(t))}}function ae(e){let{viewportSize:t,scrollOffset:n}=R.value,r=p.direction!==`vertical`,i=p.direction!==`horizontal`;switch(e.key){case`Home`:e.preventDefault(),J(),U(0,0,`start`);break;case`End`:{e.preventDefault(),J();let t=p.items.length-1,n=(p.columnCount||0)>0?p.columnCount-1:0;r?i?U(t,n,`end`):U(0,t,`end`):U(t,0,`end`);break}case`ArrowUp`:e.preventDefault(),J(),W(null,n.y-40);break;case`ArrowDown`:e.preventDefault(),J(),W(null,n.y+40);break;case`ArrowLeft`:e.preventDefault(),J(),W(n.x-40,null);break;case`ArrowRight`:e.preventDefault(),J(),W(n.x+40,null);break;case`PageUp`:e.preventDefault(),J(),W(!i&&r?n.x-t.width:null,i?n.y-t.height:null);break;case`PageDown`:e.preventDefault(),J(),W(!i&&r?n.x+t.width:null,i?n.y+t.height:null);break}}x(()=>{Y?.disconnect(),X?.disconnect(),Z?.disconnect()});let oe=y(()=>ee(p.container)),se=y(()=>oe.value?{...p.direction===`vertical`?{}:{whiteSpace:`nowrap`}}:p.containerTag===`table`?{minInlineSize:p.direction===`vertical`?`100%`:`auto`}:{...p.direction===`vertical`?{}:{whiteSpace:`nowrap`}}),ce=y(()=>({inlineSize:p.direction===`vertical`?`100%`:`${B.value}px`,blockSize:p.direction===`horizontal`?`100%`:`${z.value}px`})),le=y(()=>{let e=p.direction===`horizontal`;return{display:e?`inline-block`:`block`,...e?{blockSize:`100%`,verticalAlign:`top`}:{inlineSize:`100%`}}}),ue=y(()=>({inlineSize:p.direction===`vertical`?`1px`:`${B.value}px`,blockSize:p.direction===`horizontal`?`1px`:`${z.value}px`}));function de(e){return L({containerTag:p.containerTag,direction:p.direction,isHydrated:P.value,item:e,itemSize:p.itemSize,scrollPaddingStart:N.value.scrollPaddingStart})}let fe=y(()=>p.debug),$=y(()=>p.containerTag===`table`),pe=y(()=>$.value?`thead`:`div`),me=y(()=>$.value?`tfoot`:`div`);return t({scrollDetails:R,columnRange:F,getColumnWidth:V,scrollToIndex:U,scrollToOffset:W,refresh:ie,stopProgrammaticScroll:J}),(t,n)=>(c(),C(r(e.containerTag),{ref_key:`hostRef`,ref:D,class:m([`virtual-scroll-container`,[`virtual-scroll--${e.direction}`,{"virtual-scroll--hydrated":a(P),"virtual-scroll--window":oe.value,"virtual-scroll--table":$.value}]]),style:g(se.value),tabindex:`0`,onKeydown:ae,onWheelPassive:a(J),onPointerdownPassive:a(J),onTouchstartPassive:a(J)},{default:f(()=>[E.header?(c(),C(r(pe.value),{key:0,ref_key:`headerRef`,ref:te,class:m([`virtual-scroll-header`,{"virtual-scroll--sticky":e.stickyHeader}])},{default:f(()=>[d(t.$slots,`header`,{},void 0,!0)]),_:3},8,[`class`])):w(`v-if`,!0),(c(),C(r(e.wrapperTag),{ref_key:`wrapperRef`,ref:O,class:`virtual-scroll-wrapper`,style:g(ce.value)},{default:f(()=>[w(` Phantom element to push scroll height `),$.value?(c(),C(r(e.itemTag),{key:0,class:`virtual-scroll-spacer`,style:g(ue.value)},{default:f(()=>[...n[0]||=[_(`td`,{style:{padding:`0`,border:`none`,"block-size":`inherit`}},null,-1)]]),_:1},8,[`style`])):w(`v-if`,!0),(c(!0),v(b,null,l(a(I),n=>(c(),C(r(e.itemTag),{key:n.index,ref_for:!0,ref:e=>Q(e,n.index),"data-index":n.index,class:m([`virtual-scroll-item`,{"virtual-scroll--sticky":n.isStickyActive,"virtual-scroll--debug":fe.value}]),style:g(de(n))},{default:f(()=>[d(t.$slots,`item`,{item:n.item,index:n.index,columnRange:a(F),getColumnWidth:a(V),isSticky:n.isSticky,isStickyActive:n.isStickyActive},void 0,!0),fe.value?(c(),v(`div`,re,` #`+i(n.index)+` (`+i(Math.round(n.offset.x))+`, `+i(Math.round(n.offset.y))+`) `,1)):w(`v-if`,!0)]),_:2},1032,[`data-index`,`class`,`style`]))),128))]),_:3},8,[`style`])),e.loading&&E.loading?(c(),v(`div`,{key:1,class:`virtual-scroll-loading`,style:g(le.value)},[d(t.$slots,`loading`,{},void 0,!0)],4)):w(`v-if`,!0),E.footer?(c(),C(r(me.value),{key:2,ref_key:`footerRef`,ref:k,class:m([`virtual-scroll-footer`,{"virtual-scroll--sticky":e.stickyFooter}])},{default:f(()=>[d(t.$slots,`footer`,{},void 0,!0)]),_:3},8,[`class`])):w(`v-if`,!0)]),_:3},40,[`class`,`style`,`onWheelPassive`,`onPointerdownPassive`,`onTouchstartPassive`]))}}),W=(e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n},G=W(U,[[`__scopeId`,`data-v-fb769115`]]),K=[`innerHTML`],q=W(p({__name:`CodeBlock`,props:{code:{default:``},lang:{default:`vue`},lineNumbers:{type:Boolean,default:!1}},setup(t){let n=t,r=h(``),i=null;async function a(){if(i)return i;let{getHighlighter:e}=await T(async()=>{let{getHighlighter:e}=await import(`./chunk-BGmI8Zh4.js`);return{getHighlighter:e}},__vite__mapDeps([0,1])),{createCssVariablesTheme:t}=await T(async()=>{let{createCssVariablesTheme:e}=await import(`./chunk-B7GTa7wy.js`);return{createCssVariablesTheme:e}},[]);return i=await e({themes:[t({name:`css-variables`,variablePrefix:`--shiki-`,variableDefaults:{}})],langs:[`vue`,`bash`,`ts`,`js`,`python`,`cpp`]}),i}function o(e){if(!e)return``;let t=e.split(`
`);for(;t.length>0&&t[0].trim()===``;)t.shift();for(;t.length>0&&t[t.length-1].trim()===``;)t.pop();if(t.length===0)return``;let n=t.reduce((e,t)=>{if(t.trim()===``)return e;let n=t.match(/^\\s*/)?.[0].length??0;return Math.min(e,n)},1/0);return t.map(e=>e.slice(n===1/0?0:n)).join(`
`)}function l(e){return e.replace(/&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`).replace(/"/g,`&quot;`).replace(/'/g,`&#039;`)}let u=y(()=>r.value?r.value:`<pre class="shiki px-6 py-3"><code>${l(o(n.code))}</code></pre>`);async function d(){let e=o(n.code);if(!e){r.value=``;return}try{r.value=(await a()).codeToHtml(e,{lang:n.lang,theme:`css-variables`})}catch(t){console.error(`Shikiji highlighting failed:`,t),r.value=`<pre class="shiki px-6 py-3"><code>${l(e)}</code></pre>`}}return e(d),S(()=>{r.value||d()}),s(()=>n.code,d),(e,n)=>(c(),v(`div`,{class:m([`code-block text-sm overflow-auto`,{"has-line-numbers":t.lineNumbers,"is-bash":t.lang===`bash`}]),"data-theme":`dark`},[_(`div`,{class:`shiki-container`,innerHTML:u.value},null,8,K)],2))}}),[[`__scopeId`,`data-v-866f94f3`]]);export{z as a,B as i,G as n,V as r,q as t};