const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/chunk-hqhFuCVY.js","assets/chunks/chunk-Bm8CIiu7.js"])))=>i.map(i=>d[i]);
import{A as e,B as t,C as n,E as r,F as i,H as a,I as o,L as s,M as c,N as l,O as u,P as d,R as f,T as p,U as m,V as h,_ as g,b as _,c as v,f as y,g as b,h as x,i as S,j as C,k as w,r as T,v as E,y as D,z as O}from"./chunk-CDbjmS3T.js";import{t as k}from"./chunk-Bm8CIiu7.js";var A=class{tree;values;constructor(e){this.tree=new Float64Array(e+1),this.values=new Float64Array(e)}update(e,t){if(!(e<0||e>=this.values.length))for(this.values[e]=this.values[e]+t,e++;e<this.tree.length;)this.tree[e]=this.tree[e]+t,e+=e&-e}query(e){let t=0;for(;e>0;)t+=this.tree[e]||0,e-=e&-e;return t}set(e,t){e<0||e>=this.values.length||(this.values[e]=t)}get length(){return this.values.length}get(e){return this.values[e]||0}getValues(){return this.values}findLowerBound(e){let t=0,n=this.tree.length,r=1<<Math.floor(Math.log2(n-1));for(;r>0;){let i=t+r;if(i<n){let n=this.tree[i]||0;n<=e&&(t=i,e-=n)}r>>=1}return t}rebuild(){this.tree.fill(0);for(let e=0;e<this.values.length;e++)this.tree[e+1]=this.values[e]||0;for(let e=1;e<this.tree.length;e++){let t=e+(e&-e);t<this.tree.length&&(this.tree[t]=this.tree[t]+this.tree[e])}}resize(e){if(e===this.values.length)return;let t=new Float64Array(e);t.set(this.values.subarray(0,Math.min(e,this.values.length))),this.values=t,this.tree=new Float64Array(e+1),this.rebuild()}shift(e){if(e===0)return;let t=this.values.length,n=new Float64Array(t);e>0?n.set(this.values.subarray(0,Math.min(t-e,this.values.length)),e):n.set(this.values.subarray(-e)),this.values=n,this.rebuild()}};function ee(e){return!!e&&`getBoundingClientRect`in e}function te(e){return!!e&&`scrollLeft`in e}function ne(e){return typeof e==`object`&&!!e&&(`align`in e||`behavior`in e||`isCorrection`in e)}function j(e,t){return typeof e==`object`&&e?e.x||0:t===`horizontal`&&e||0}function M(e,t){return typeof e==`object`&&e?e.y||0:(t===`vertical`||t===`both`)&&e||0}function N(t){let n=O(0),a=O(0),o=O(!1),s=O(!1),c=O(!1),l=O(!1),d=O(0),p=O(0),m=f({x:0,y:0}),h,g=O(!1),_=new A(t.value.items.length),v=new A(t.value.items.length),y=new A(t.value.columnCount||0),x=O(0),S=new Uint8Array,C=new Uint8Array,T=new Uint8Array,E=O(null),D=O(0),k=O(0),N=O(!1),P=[],F=b(()=>t.value.itemSize===void 0||t.value.itemSize===null||t.value.itemSize===0),I=b(()=>t.value.columnWidth===void 0||t.value.columnWidth===null||t.value.columnWidth===0),L=b(()=>typeof t.value.itemSize==`number`&&t.value.itemSize>0?t.value.itemSize:null),R=b(()=>L.value||t.value.defaultItemSize||50),z=b(()=>[...t.value.stickyIndices||[]].sort((e,t)=>e-t)),B=b(()=>{if(x.value,!s.value&&t.value.ssrRange&&!l.value){let{start:e=0,end:n=0,colStart:r=0,colEnd:i=0}=t.value.ssrRange,a=t.value.columnCount||0;if(t.value.direction===`both`&&a>0)return y.query(i||a)-y.query(r);if(t.value.direction===`horizontal`)return L.value===null?_.query(n)-_.query(e):(n-e)*(L.value+(t.value.columnGap||0))}return t.value.direction===`both`&&t.value.columnCount?y.query(t.value.columnCount):t.value.direction===`vertical`?0:L.value===null?_.query(t.value.items.length):t.value.items.length*(L.value+(t.value.columnGap||0))}),V=b(()=>{if(x.value,!s.value&&t.value.ssrRange&&!l.value){let{start:e,end:n}=t.value.ssrRange;if(t.value.direction===`vertical`||t.value.direction===`both`)return L.value===null?v.query(n)-v.query(e):(n-e)*(L.value+(t.value.gap||0))}return t.value.direction===`horizontal`?0:L.value===null?v.query(t.value.items.length):t.value.items.length*(L.value+(t.value.gap||0))}),H=b(()=>{let e=t.value.direction===`horizontal`||t.value.direction===`both`?j(t.value.scrollPaddingStart,t.value.direction):0;return Math.max(0,n.value+e-m.x)}),U=b(()=>{let e=t.value.direction===`vertical`||t.value.direction===`both`?M(t.value.scrollPaddingStart,t.value.direction):0;return Math.max(0,a.value+e-m.y)}),W=e=>{x.value;let n=t.value.columnWidth;return typeof n==`number`&&n>0?n:Array.isArray(n)&&n.length>0?n[e%n.length]||150:typeof n==`function`?n(e):y.get(e)||t.value.defaultColumnWidth||150},G=(e,r,i)=>{let s=typeof i==`object`&&i&&`isCorrection`in i?i.isCorrection:!1;s||(E.value={rowIndex:e,colIndex:r,options:i});let c=t.value.container||window,l=L.value,u=t.value.gap||0,f=t.value.columnGap||0,h,b;ne(i)?(h=i.align,b=i.behavior):h=i;let x=(typeof h==`object`?h.x:h)||`auto`,S=(typeof h==`object`?h.y:h)||`auto`,C=j(t.value.scrollPaddingStart,t.value.direction),w=j(t.value.scrollPaddingEnd,t.value.direction),T=M(t.value.scrollPaddingStart,t.value.direction),D=M(t.value.scrollPaddingEnd,t.value.direction),O=t.value.direction===`vertical`||t.value.direction===`both`,k=t.value.direction===`horizontal`||t.value.direction===`both`,A=d.value-(k?C+w:0),N=p.value-(O?T+D:0),P=H.value,F=U.value,I=0,R=0;if(e!=null&&(e>=t.value.items.length?(F=V.value,R=0):(F=l===null?v.query(e):e*(l+u),R=l===null?v.get(e)-u:l),S===`start`||(S===`center`?F-=(N-R)/2:S===`end`?F-=N-R:F>=U.value&&F+R<=U.value+N||F<U.value||(F-=N-R))),r!=null){let e=t.value.columnCount||0;r>=e&&e>0?(P=B.value,I=0):t.value.direction===`horizontal`?(P=l===null?_.query(r):r*(l+f),I=l===null?_.get(r)-f:l):(P=y.query(r),I=y.get(r)),x===`start`||(x===`center`?P-=(A-I)/2:x===`end`?P-=A-I:P>=H.value&&P+I<=H.value+A||P<H.value||(P-=A-I))}P=Math.max(0,Math.min(P,Math.max(0,B.value-A))),F=Math.max(0,Math.min(F,Math.max(0,V.value-N)));let z=P+m.x-(k?C:0),W=F+m.y-(O?T:0),G=r==null||Math.abs(H.value-P)<1,K=e==null||Math.abs(U.value-F)<1;if(!G||!K){let t=0,n=0,i=0,a=0,o=0,s=0;if(typeof window<`u`){if(c===window?(t=window.scrollX,n=window.scrollY,i=document.documentElement.scrollWidth,a=document.documentElement.scrollHeight,o=window.innerWidth,s=window.innerHeight):ee(c)&&(t=c.scrollLeft,n=c.scrollTop,i=c.scrollWidth,a=c.scrollHeight,o=c.clientWidth,s=c.clientHeight),!G&&r!=null){let e=t<=1&&z<=1,n=t>=i-o-1&&z>=i-o-1;(e||n)&&(G=!0)}if(!K&&e!=null){let e=n<=1&&W<=1,t=n>=a-s-1&&W>=a-s-1;(e||t)&&(K=!0)}}}let q=s?`auto`:b||`smooth`;if(g.value=!0,typeof window<`u`&&c===window)window.scrollTo({left:r==null?void 0:Math.max(0,z),top:e==null?void 0:Math.max(0,W),behavior:q});else if(te(c)){let t={behavior:q};r!=null&&(t.left=Math.max(0,z)),e!=null&&(t.top=Math.max(0,W)),typeof c.scrollTo==`function`?c.scrollTo(t):(t.left!==void 0&&(c.scrollLeft=t.left),t.top!==void 0&&(c.scrollTop=t.top))}(q===`auto`||q===void 0)&&(r!=null&&(n.value=Math.max(0,z)),e!=null&&(a.value=Math.max(0,W))),G&&K&&!o.value&&(E.value=null)},K=(e,r,i)=>{let o=t.value.container||window;g.value=!0;let s=t.value.direction===`vertical`||t.value.direction===`both`,c=t.value.direction===`horizontal`||t.value.direction===`both`,l=j(t.value.scrollPaddingStart,t.value.direction),u=M(t.value.scrollPaddingStart,t.value.direction),d=typeof window<`u`&&o===window?window.scrollX:o.scrollLeft,f=typeof window<`u`&&o===window?window.scrollY:o.scrollTop,p=e==null?d:e+m.x-(c?l:0),h=r==null?f:r+m.y-(s?u:0);if(typeof window<`u`&&o===window)window.scrollTo({left:e==null?void 0:p,top:r==null?void 0:h,behavior:i?.behavior||`auto`});else if(te(o)){let t={behavior:i?.behavior||`auto`};e!=null&&(t.left=p),r!=null&&(t.top=h),typeof o.scrollTo==`function`?o.scrollTo(t):(t.left!==void 0&&(o.scrollLeft=t.left),t.top!==void 0&&(o.scrollTop=t.top))}(i?.behavior===`auto`||i?.behavior===void 0)&&(e!=null&&(n.value=p),r!=null&&(a.value=h))},q=()=>{let e=t.value.items,n=e.length,r=t.value.columnCount||0;if(_.resize(n),v.resize(n),y.resize(r),C.length!==n){let e=new Uint8Array(n);e.set(C.subarray(0,Math.min(n,C.length))),C=e}if(T.length!==n){let e=new Uint8Array(n);e.set(T.subarray(0,Math.min(n,T.length))),T=e}if(S.length!==r){let e=new Uint8Array(r);e.set(S.subarray(0,Math.min(r,S.length))),S=e}let i=0;if(t.value.restoreScrollOnPrepend&&P.length>0&&n>P.length){let t=P[0];if(t!==void 0){for(let r=1;r<=n-P.length;r++)if(e[r]===t){i=r;break}}}if(i>0){_.shift(i),v.shift(i),E.value&&E.value.rowIndex!==null&&E.value.rowIndex!==void 0&&(E.value.rowIndex+=i);let r=new Uint8Array(n),a=new Uint8Array(n);r.set(C.subarray(0,Math.min(n-i,C.length)),i),a.set(T.subarray(0,Math.min(n-i,T.length)),i),C=r,T=a;let o=t.value.gap||0,s=t.value.columnGap||0,c=0,l=0;for(let n=0;n<i;n++){let r=typeof t.value.itemSize==`function`?t.value.itemSize(e[n],n):R.value;t.value.direction===`horizontal`?c+=r+s:l+=r+o}(c>0||l>0)&&u(()=>{K(c>0?H.value+c:null,l>0?U.value+l:null,{behavior:`auto`})})}if(r>0){let e=t.value.columnGap||0,n=!1;for(let t=0;t<r;t++){let r=W(t),i=y.get(t);if(!I.value||i===0){let a=r+e;Math.abs(i-a)>.5&&(y.set(t,a),n=!0)}}n&&y.rebuild()}let a=t.value.gap||0,o=t.value.columnGap||0,s=!1;for(let e=0;e<n;e++){let n=t.value.items[e],r=_.get(e),i=v.get(e);if(F.value&&(r>0||i>0))continue;let c=typeof t.value.itemSize==`function`?t.value.itemSize(n,e):R.value,l=t.value.direction===`vertical`,u=t.value.direction===`horizontal`,f=t.value.direction===`both`,p=u?c+o:0,m=l||f?c+a:0;Math.abs(r-p)>.5&&(_.set(e,p),s=!0),Math.abs(i-m)>.5&&(v.set(e,m),s=!0);let h=u?c:f?Math.max(c,d.value):0,g=l||f?c:0;h>D.value&&(D.value=h),g>k.value&&(k.value=g)}s&&(_.rebuild(),v.rebuild()),P=[...e],N.value=!0,x.value++},J=()=>{if(t.value.hostElement&&typeof window<`u`){let e=t.value.hostElement.getBoundingClientRect(),n=t.value.container||window,r=0,i=0;if(n===window)r=e.left+window.scrollX,i=e.top+window.scrollY;else if(n===t.value.hostElement)r=0,i=0;else if(ee(n)){let t=n.getBoundingClientRect();r=e.left-t.left+n.scrollLeft,i=e.top-t.top+n.scrollTop}(Math.abs(m.x-r)>.1||Math.abs(m.y-i)>.1)&&(m.x=r,m.y=i)}};i([()=>t.value.items.length,()=>t.value.columnCount,()=>t.value.columnWidth,()=>t.value.itemSize,()=>t.value.gap,()=>t.value.columnGap],q,{immediate:!0}),i(()=>[t.value.container,t.value.hostElement],()=>{J()});let Y=b(()=>{if(x.value,(!s.value||c.value)&&t.value.ssrRange)return{start:t.value.ssrRange.start,end:t.value.ssrRange.end};let e=t.value.direction||`vertical`,n=t.value.ssrRange&&!o.value?0:t.value.bufferBefore??5,r=t.value.bufferAfter??5,i=t.value.gap||0,a=t.value.columnGap||0,l=L.value,u=j(t.value.scrollPaddingStart,e),f=j(t.value.scrollPaddingEnd,e),m=M(t.value.scrollPaddingStart,e),h=M(t.value.scrollPaddingEnd,e),g=e===`vertical`||e===`both`,y=e===`horizontal`||e===`both`,b=d.value-(y?u+f:0),S=p.value-(g?m+h:0),C=0,w=t.value.items.length;if(g)if(l!==null)C=Math.floor(U.value/(l+i)),w=Math.ceil((U.value+S)/(l+i));else{C=v.findLowerBound(U.value);let e=v.query(C),n=C;for(;n<t.value.items.length&&e<U.value+S;)e=v.query(++n);w=n}else if(l!==null)C=Math.floor(H.value/(l+a)),w=Math.ceil((H.value+b)/(l+a));else{C=_.findLowerBound(H.value);let e=_.query(C),n=C;for(;n<t.value.items.length&&e<H.value+b;)e=_.query(++n);w=n}return{start:Math.max(0,C-n),end:Math.min(t.value.items.length,w+r)}}),re=b(()=>{x.value;let e=L.value,n=t.value.gap||0,r=t.value.columnGap||0;return t.value.direction===`horizontal`?e===null?_.findLowerBound(H.value):Math.floor(H.value/(e+r)):e===null?v.findLowerBound(U.value):Math.floor(U.value/(e+n))}),ie=b(()=>{x.value;let{start:e,end:n}=Y.value,r=[],i=L.value,a=t.value.gap||0,o=t.value.columnGap||0,c=z.value,l=new Set;for(let t=e;t<n;t++)l.add(t);if(s.value||!t.value.ssrRange){let t=re.value,r,i=0,a=c.length-1;for(;i<=a;){let e=i+a>>>1;c[e]<t?(r=c[e],i=e+1):a=e-1}r!==void 0&&l.add(r);for(let t of c)t>=e&&t<n&&l.add(t)}let u=Array.from(l).sort((e,t)=>e-t),f=t.value.ssrRange?.start||0,m=t.value.ssrRange?.colStart||0,h=0,g=0;!s.value&&t.value.ssrRange&&(g=t.value.direction===`vertical`||t.value.direction===`both`?i===null?v.query(f):f*(i+a):0,t.value.direction===`horizontal`?h=i===null?_.query(m):m*(i+o):t.value.direction===`both`&&(h=y.query(m)));for(let e of u){let n=t.value.items[e];if(n===void 0)continue;let s=0,l=0,u=0,f=0;t.value.direction===`horizontal`?(s=i===null?_.query(e):e*(i+o),u=i===null?_.get(e)-o:i,f=p.value):(l=(t.value.direction===`vertical`||t.value.direction===`both`)&&i!==null?e*(i+a):v.query(e),f=i===null?v.get(e)-a:i,u=t.value.direction===`both`?B.value:d.value);let m=c.includes(e),y=s,b=l,x=!1,S={x:0,y:0};if(m){if(t.value.direction===`vertical`||t.value.direction===`both`){if(U.value>b){x=!0;let t,n=0,r=c.length-1;for(;n<=r;){let i=n+r>>>1;c[i]>e?(t=c[i],r=i-1):n=i+1}if(t!==void 0){let e=(i===null?v.query(t):t*(i+a))-U.value;e<f&&(S.y=-(f-e))}}}else if(t.value.direction===`horizontal`&&H.value>y){x=!0;let t,n=0,r=c.length-1;for(;n<=r;){let i=n+r>>>1;c[i]>e?(t=c[i],r=i-1):n=i+1}if(t!==void 0){let e=(i===null?_.query(t):t*(i+o))-H.value;e<u&&(S.x=-(u-e))}}}r.push({item:n,index:e,offset:{x:y-h,y:b-g},size:{width:u,height:f},originalX:y,originalY:b,isSticky:m,isStickyActive:x,stickyOffset:S})}return r}),ae=b(()=>{x.value;let e=t.value.columnCount||0;if(!e)return{start:0,end:0,padStart:0,padEnd:0};if((!s.value||c.value)&&t.value.ssrRange){let{colStart:n=0,colEnd:r=0}=t.value.ssrRange;return{start:Math.max(0,n),end:Math.min(e,r||e),padStart:0,padEnd:0}}let n=y.findLowerBound(H.value),r=y.query(n),i=n;for(;i<e&&r<H.value+d.value;)r=y.query(++i);let a=t.value.ssrRange&&!o.value?0:2,l=Math.max(0,n-a),u=Math.min(e,i+a);return{start:l,end:u,padStart:y.query(l),padEnd:y.query(e)-y.query(u)}}),oe=b(()=>{x.value;let e=L.value,n=t.value.columnGap||0,r=0;return(t.value.direction===`horizontal`||t.value.direction===`both`)&&(r=e===null?_.findLowerBound(H.value):Math.floor(H.value/(e+n))),{items:ie.value,currentIndex:re.value,currentColIndex:r,scrollOffset:{x:H.value,y:U.value},viewportSize:{width:d.value,height:p.value},totalSize:{width:B.value,height:V.value},isScrolling:o.value,isProgrammaticScroll:g.value,range:Y.value,columnRange:ae.value}}),X=()=>{g.value=!1,E.value=null},Z=e=>{let t=e.target;typeof window>`u`||(t===window||t===document?(n.value=window.scrollX,a.value=window.scrollY):te(t)&&(n.value=t.scrollLeft,a.value=t.scrollTop),o.value||=(g.value||(E.value=null),!0),clearTimeout(h),h=setTimeout(()=>{o.value=!1,g.value=!1},250))},se=e=>{let n=!1,r=t.value.gap||0,i=t.value.columnGap||0;for(let{index:a,inlineSize:o,blockSize:s,element:c}of e){if(F.value){if(o>D.value&&(D.value=o),s>k.value&&(k.value=s),t.value.direction===`horizontal`){let e=_.get(a),t=o+i;Math.abs(e-t)>.5&&(t>e||!C[a])&&(_.update(a,t-e),C[a]=1,n=!0)}if(t.value.direction===`vertical`||t.value.direction===`both`){let e=v.get(a),i=s+r;t.value.direction===`both`?(i>e||!T[a])&&(v.update(a,i-e),T[a]=1,n=!0):Math.abs(e-i)>.5&&(i>e||!T[a])&&(v.update(a,i-e),T[a]=1,n=!0)}}if(t.value.direction===`both`&&c&&t.value.columnCount&&I.value){let e=c.dataset.colIndex===void 0?Array.from(c.querySelectorAll(`[data-col-index]`)):[c];for(let r of e){let e=Number.parseInt(r.dataset.colIndex,10);if(e>=0&&e<(t.value.columnCount||0)){let t=r.offsetWidth,a=y.get(e),o=t+i;(o>a||!S[e])&&(y.update(e,o-a),S[e]=1,n=!0)}}}}n&&x.value++},ce=(e,t,n,r)=>{se([{index:e,inlineSize:t,blockSize:n,element:r}])},le=()=>{if(E.value&&!c.value){let{rowIndex:e,colIndex:t,options:n}=E.value;G(e,t,ne(n)?{...n,isCorrection:!0}:{align:n,isCorrection:!0})}};i(x,le),i(o,e=>{e||le()});let Q=null,ue=e=>{if(!e||typeof window>`u`)return;let t=e===window?document:e;if(t.addEventListener(`scroll`,Z,{passive:!0}),e===window){d.value=window.innerWidth,p.value=window.innerHeight,n.value=window.scrollX,a.value=window.scrollY;let e=()=>{d.value=window.innerWidth,p.value=window.innerHeight,J()};return window.addEventListener(`resize`,e),()=>{t.removeEventListener(`scroll`,Z),window.removeEventListener(`resize`,e)}}else return d.value=e.clientWidth,p.value=e.clientHeight,n.value=e.scrollLeft,a.value=e.scrollTop,Q=new ResizeObserver(t=>{for(let n of t)n.target===e&&(d.value=e.clientWidth,p.value=e.clientHeight,J())}),Q.observe(e),()=>{t.removeEventListener(`scroll`,Z),Q?.disconnect()}},$;return r()&&(w(()=>{l.value=!0,i(()=>t.value.container,e=>{$?.(),$=ue(e||null)},{immediate:!0}),J(),t.value.ssrRange||t.value.initialScrollIndex!==void 0?u(()=>{J();let e=t.value.initialScrollIndex===void 0?t.value.ssrRange?.start:t.value.initialScrollIndex,n=t.value.initialScrollAlign||`start`;e!=null&&G(e,t.value.ssrRange?.colStart,{align:n,behavior:`auto`}),s.value=!0,c.value=!0,u(()=>{c.value=!1})}):s.value=!0}),e(()=>{$?.()})),{renderedItems:ie,totalWidth:B,totalHeight:V,scrollDetails:oe,scrollToIndex:G,scrollToOffset:K,stopProgrammaticScroll:X,updateItemSize:ce,updateItemSizes:se,updateHostOffset:J,columnRange:ae,getColumnWidth:W,refresh:()=>{_.resize(0),v.resize(0),y.resize(0),S.fill(0),C.fill(0),T.fill(0),D.value=0,k.value=0,q()},isHydrated:s}}var P={key:0,class:`virtual-scroll-debug-info`},F=p({__name:`VirtualScroll`,props:{items:{},itemSize:{},direction:{default:`vertical`},bufferBefore:{default:5},bufferAfter:{default:5},container:{},ssrRange:{},columnCount:{default:0},columnWidth:{},containerTag:{default:`div`},wrapperTag:{default:`div`},itemTag:{default:`div`},scrollPaddingStart:{default:0},scrollPaddingEnd:{default:0},stickyHeader:{type:Boolean,default:!1},stickyFooter:{type:Boolean,default:!1},gap:{default:0},columnGap:{default:0},stickyIndices:{default:()=>[]},loadDistance:{default:50},loading:{type:Boolean,default:!1},restoreScrollOnPrepend:{type:Boolean,default:!1},initialScrollIndex:{},initialScrollAlign:{},defaultItemSize:{},defaultColumnWidth:{},debug:{type:Boolean,default:!1}},emits:[`scroll`,`load`,`visibleRangeChange`],setup(n,{expose:r,emit:s}){let u=n,f=s,p=b(()=>u.debug),v=O(null),y=O(null),S=O(null),T=O(null),k=new Map,A=O(0),ee=O(0),te=b(()=>{let e=u.container===void 0?v.value:u.container;return e===v.value||typeof window<`u`&&(e===window||e===null)}),{isHydrated:ne,columnRange:F,renderedItems:I,scrollDetails:L,totalHeight:R,totalWidth:z,getColumnWidth:B,scrollToIndex:V,scrollToOffset:H,updateHostOffset:U,updateItemSizes:W,refresh:G,stopProgrammaticScroll:K}=N(b(()=>{let e=u.scrollPaddingStart,t=u.scrollPaddingEnd,n=typeof e==`object`?e.x||0:u.direction===`horizontal`&&e||0,r=typeof e==`object`?e.y||0:u.direction===`horizontal`?0:e||0,i=typeof t==`object`?t.x||0:u.direction===`horizontal`&&t||0,a=typeof t==`object`?t.y||0:u.direction===`horizontal`?0:t||0;return{items:u.items,itemSize:u.itemSize,direction:u.direction,bufferBefore:u.bufferBefore,bufferAfter:u.bufferAfter,container:u.container===void 0?v.value:u.container,hostElement:y.value,ssrRange:u.ssrRange,columnCount:u.columnCount,columnWidth:u.columnWidth,scrollPaddingStart:{x:n,y:r+(u.stickyHeader&&te.value?A.value:0)},scrollPaddingEnd:{x:i,y:a+(u.stickyFooter&&te.value?ee.value:0)},gap:u.gap,columnGap:u.columnGap,stickyIndices:u.stickyIndices,loadDistance:u.loadDistance,loading:u.loading,restoreScrollOnPrepend:u.restoreScrollOnPrepend,initialScrollIndex:u.initialScrollIndex,initialScrollAlign:u.initialScrollAlign,defaultItemSize:u.defaultItemSize,defaultColumnWidth:u.defaultColumnWidth,debug:p.value}}));i(L,(e,t)=>{ne.value&&(f(`scroll`,e),(!t||e.range.start!==t.range.start||e.range.end!==t.range.end||e.columnRange.start!==t.columnRange.start||e.columnRange.end!==t.columnRange.end)&&f(`visibleRangeChange`,{start:e.range.start,end:e.range.end,colStart:e.columnRange.start,colEnd:e.columnRange.end}),!u.loading&&(u.direction!==`horizontal`&&e.totalSize.height-(e.scrollOffset.y+e.viewportSize.height)<=u.loadDistance&&f(`load`,`vertical`),u.direction!==`vertical`&&e.totalSize.width-(e.scrollOffset.x+e.viewportSize.width)<=u.loadDistance&&f(`load`,`horizontal`)))}),i(ne,e=>{e&&f(`visibleRangeChange`,{start:L.value.range.start,end:L.value.range.end,colStart:L.value.columnRange.start,colEnd:L.value.columnRange.end})},{once:!0});let q=typeof window>`u`?null:new ResizeObserver(U),J=typeof window>`u`?null:new ResizeObserver(e=>{let t=[];for(let n of e){let e=n.target,r=Number(e.dataset.index);if(e.dataset.colIndex!==void 0)t.push({index:-1,inlineSize:0,blockSize:0,element:e});else if(!Number.isNaN(r)){let i=n.contentRect.width,a=n.contentRect.height;n.borderBoxSize&&n.borderBoxSize.length>0?(i=n.borderBoxSize[0].inlineSize,a=n.borderBoxSize[0].blockSize):(i=e.offsetWidth,a=e.offsetHeight),t.push({index:r,inlineSize:i,blockSize:a,element:e})}}t.length>0&&W(t)}),Y=typeof window>`u`?null:new ResizeObserver(()=>{A.value=S.value?.offsetHeight||0,ee.value=T.value?.offsetHeight||0,U()});i(S,(e,t)=>{t&&Y?.unobserve(t),e&&Y?.observe(e)},{immediate:!0}),i(T,(e,t)=>{t&&Y?.unobserve(t),e&&Y?.observe(e)},{immediate:!0});let re=b(()=>I.value[0]?.index);i(re,(e,t)=>{if(u.direction===`both`){if(t!==void 0){let e=k.get(t);e&&e.querySelectorAll(`[data-col-index]`).forEach(e=>J?.unobserve(e))}if(e!==void 0){let t=k.get(e);t&&t.querySelectorAll(`[data-col-index]`).forEach(e=>J?.observe(e))}}},{flush:`post`}),w(()=>{v.value&&q?.observe(v.value);for(let e of k.values())J?.observe(e);if(re.value!==void 0){let e=k.get(re.value);e&&e.querySelectorAll(`[data-col-index]`).forEach(e=>J?.observe(e))}}),i([v,y],([e],[t])=>{t&&q?.unobserve(t),e&&q?.observe(e)});function ie(e,t){if(e)k.set(t,e),J?.observe(e);else{let e=k.get(t);e&&(J?.unobserve(e),k.delete(t))}}function ae(e){K();let{viewportSize:t,scrollOffset:n}=L.value,r=u.direction!==`vertical`,i=u.direction!==`horizontal`;if(e.key===`Home`){e.preventDefault(),V(0,0,`start`);return}if(e.key===`End`){e.preventDefault();let t=u.items.length-1,n=(u.columnCount||0)>0?u.columnCount-1:0;r&&i?V(t,n,`end`):V(0,t,`end`);return}if(e.key===`ArrowUp`){e.preventDefault(),H(null,n.y-40);return}if(e.key===`ArrowDown`){e.preventDefault(),H(null,n.y+40);return}if(e.key===`ArrowLeft`){e.preventDefault(),H(n.x-40,null);return}if(e.key===`ArrowRight`){e.preventDefault(),H(n.x+40,null);return}if(e.key===`PageUp`){e.preventDefault(),H(r?n.x-t.width:null,i?n.y-t.height:null);return}e.key===`PageDown`&&(e.preventDefault(),H(r?n.x+t.width:null,i?n.y+t.height:null))}e(()=>{q?.disconnect(),J?.disconnect(),Y?.disconnect()});let oe=b(()=>{let e=u.container;return e===null||typeof window<`u`&&e===window?!0:e&&typeof e==`object`&&`tagName`in e?e.tagName===`BODY`:!1}),X=b(()=>oe.value?{...u.direction===`vertical`?{}:{whiteSpace:`nowrap`}}:u.containerTag===`table`?{minInlineSize:u.direction===`vertical`?`100%`:`auto`}:{...u.direction===`vertical`?{}:{whiteSpace:`nowrap`}}),Z=b(()=>({inlineSize:u.direction===`vertical`?`100%`:`${z.value}px`,blockSize:u.direction===`horizontal`?`100%`:`${R.value}px`})),se=b(()=>{let e=u.direction===`horizontal`;return{display:e?`inline-block`:`block`,...e?{blockSize:`100%`,verticalAlign:`top`}:{inlineSize:`100%`}}}),ce=b(()=>({inlineSize:u.direction===`vertical`?`1px`:`${z.value}px`,blockSize:u.direction===`horizontal`?`1px`:`${R.value}px`}));function le(e){let t=u.direction===`vertical`,n=u.direction===`horizontal`,r=u.direction===`both`,i=u.itemSize===void 0||u.itemSize===null||u.itemSize===0,a={blockSize:n?`100%`:i?`auto`:`${e.size.height}px`};return t&&u.containerTag===`table`?a.minInlineSize=`100%`:a.inlineSize=t?`100%`:i?`auto`:`${e.size.width}px`,i&&(t||(a.minInlineSize=`${e.size.width}px`),n||(a.minBlockSize=`${e.size.height}px`)),ne.value&&(e.isStickyActive?((t||r)&&(a.insetBlockStart=`${M(u.scrollPaddingStart,u.direction)}px`),(n||r)&&(a.insetInlineStart=`${j(u.scrollPaddingStart,u.direction)}px`),a.transform=`translate(${e.stickyOffset.x}px, ${e.stickyOffset.y}px)`):a.transform=`translate(${e.offset.x}px, ${e.offset.y}px)`),a}return r({scrollDetails:L,columnRange:F,getColumnWidth:B,scrollToIndex:V,scrollToOffset:H,refresh:G,stopProgrammaticScroll:K}),(e,r)=>(C(),E(d(n.containerTag),{ref_key:`hostRef`,ref:v,class:h([`virtual-scroll-container`,[`virtual-scroll--${n.direction}`,{"virtual-scroll--hydrated":t(ne),"virtual-scroll--window":oe.value,"virtual-scroll--table":n.containerTag===`table`}]]),style:a(X.value),tabindex:`0`,onKeydown:ae,onWheelPassive:t(K),onPointerdownPassive:t(K),onTouchstartPassive:t(K)},{default:o(()=>[e.$slots.header?(C(),E(d(n.containerTag===`table`?`thead`:`div`),{key:0,ref_key:`headerRef`,ref:S,class:h([`virtual-scroll-header`,{"virtual-scroll--sticky":n.stickyHeader}])},{default:o(()=>[l(e.$slots,`header`,{},void 0,!0)]),_:3},8,[`class`])):D(`v-if`,!0),(C(),E(d(n.wrapperTag),{ref_key:`wrapperRef`,ref:y,class:`virtual-scroll-wrapper`,style:a(Z.value)},{default:o(()=>[D(` Phantom element to push scroll height `),n.containerTag===`table`?(C(),E(d(n.itemTag),{key:0,class:`virtual-scroll-spacer`,style:a(ce.value)},{default:o(()=>[...r[0]||=[g(`td`,{style:{padding:`0`,border:`none`,"block-size":`inherit`}},null,-1)]]),_:1},8,[`style`])):D(`v-if`,!0),(C(!0),_(x,null,c(t(I),r=>(C(),E(d(n.itemTag),{key:r.index,ref_for:!0,ref:e=>ie(e,r.index),"data-index":r.index,class:h([`virtual-scroll-item`,{"virtual-scroll--sticky":r.isStickyActive,"virtual-scroll--debug":p.value}]),style:a(le(r))},{default:o(()=>[l(e.$slots,`item`,{item:r.item,index:r.index,columnRange:t(F),getColumnWidth:t(B),isSticky:r.isSticky,isStickyActive:r.isStickyActive},void 0,!0),p.value?(C(),_(`div`,P,` #`+m(r.index)+` (`+m(Math.round(r.offset.x))+`, `+m(Math.round(r.offset.y))+`) `,1)):D(`v-if`,!0)]),_:2},1032,[`data-index`,`class`,`style`]))),128))]),_:3},8,[`style`])),n.loading&&e.$slots.loading?(C(),_(`div`,{key:1,class:`virtual-scroll-loading`,style:a(se.value)},[l(e.$slots,`loading`,{},void 0,!0)],4)):D(`v-if`,!0),e.$slots.footer?(C(),E(d(n.containerTag===`table`?`tfoot`:`div`),{key:2,ref_key:`footerRef`,ref:T,class:h([`virtual-scroll-footer`,{"virtual-scroll--sticky":n.stickyFooter}])},{default:o(()=>[l(e.$slots,`footer`,{},void 0,!0)]),_:3},8,[`class`])):D(`v-if`,!0)]),_:3},40,[`class`,`style`,`onWheelPassive`,`onPointerdownPassive`,`onTouchstartPassive`]))}}),I=(e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n},L=I(F,[[`__scopeId`,`data-v-fe16dc39`]]),R={class:`space-y-2 md:space-y-4`},z={key:0,class:`prose max-w-none`},B={class:`card card-side bg-base-300 shadow-sm border border-base-300`},V={key:0,class:`shrink-0 flex items-start justify-center pt-5.5 ps-4`},H={class:`card-body p-4`},U={class:`flex items-center justify-between`},W={key:0,class:`text-lg m-0`},G={key:0,class:`opacity-70 m-0`},K={class:`flex items-center justify-between px-4 py-2`},q={class:`tabs tabs-boxed bg-transparent p-0`},J={key:0,xmlns:`http://www.w3.org/2000/svg`,fill:`none`,viewBox:`0 0 24 24`,"stroke-width":`1.5`,stroke:`currentColor`,class:`size-4`},Y={key:1,xmlns:`http://www.w3.org/2000/svg`,fill:`none`,viewBox:`0 0 24 24`,"stroke-width":`1.5`,stroke:`currentColor`,class:`size-4 text-success`},re={class:`flex-1 mx-4 mb-4 overflow-auto rounded-box`},ie=[`innerHTML`],ae={key:1},oe=I(p({__name:`ExampleContainer`,props:{height:{default:`min(50dvh, 600px)`},minHeight:{default:`min(10dvh, 50px)`},minWidth:{default:`min(10vw, 50px)`},code:{}},setup(e){let r=e,o=O(`preview`),c=O(!1),u=O(``),d={blockSize:r.height,minBlockSize:r.minHeight,minInlineSize:r.minWidth};async function f(){r.code&&(await navigator.clipboard.writeText(r.code),c.value=!0,setTimeout(()=>{c.value=!1},2e3))}let p=v(),x=b(()=>T(`/`,p.urlPathname)||T(`/index`,p.urlPathname)),E=null,A=!1;async function ee(){if(!(!r.code||A)){A=!0;try{let{getHighlighter:e}=await k(async()=>{let{getHighlighter:e}=await import(`./chunk-hqhFuCVY.js`);return{getHighlighter:e}},__vite__mapDeps([0,1])),{createCssVariablesTheme:t}=await k(async()=>{let{createCssVariablesTheme:e}=await import(`./chunk-DjMhfOEH.js`);return{createCssVariablesTheme:e}},[]);E||=await e({themes:[t({name:`css-variables`,variablePrefix:`--shiki-`,variableDefaults:{}})],langs:[`vue`]}),u.value=E.codeToHtml(r.code,{lang:`vue`,theme:`css-variables`})}catch(e){console.error(`Shikiji highlighting failed:`,e),u.value=`<pre><code>${r.code}</code></pre>`}finally{A=!1}}}return w(ee),i(()=>r.code,ee),(r,i)=>(C(),_(`div`,R,[r.$slots.title||r.$slots.description?(C(),_(`div`,z,[g(`div`,B,[r.$slots.icon?(C(),_(`figure`,V,[l(r.$slots,`icon`,{},void 0,!0)])):D(`v-if`,!0),g(`div`,H,[g(`div`,U,[r.$slots.title?(C(),_(`h1`,W,[l(r.$slots,`title`,{},void 0,!0),l(r.$slots,`subtitle`,{},void 0,!0)])):D(`v-if`,!0),x.value?D(`v-if`,!0):(C(),_(`button`,{key:1,class:`btn btn-xs btn-ghost gap-1 opacity-50 hover:opacity-100`,onClick:i[0]||=e=>t(S)(`/`,`back`)},[...i[3]||=[g(`svg`,{xmlns:`http://www.w3.org/2000/svg`,fill:`none`,viewBox:`0 0 24 24`,"stroke-width":`1.5`,stroke:`currentColor`,class:`size-3`},[g(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,d:`M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3`})],-1),g(`span`,{class:`max-sm:hidden`},`Back to Welcome`,-1)]]))]),r.$slots.description?(C(),_(`div`,G,[l(r.$slots,`description`,{},void 0,!0)])):D(`v-if`,!0)])])])):D(`v-if`,!0),l(r.$slots,`controls`,{},void 0,!0),g(`div`,{class:`flex flex-col border border-base-300 rounded-box overflow-auto bg-base-300 resize`,style:d},[g(`div`,K,[g(`div`,q,[g(`button`,{class:h([`tab tab-sm`,{"tab-active":o.value===`preview`}]),onClick:i[1]||=e=>o.value=`preview`},` Preview `,2),g(`button`,{class:h([`tab tab-sm`,{"tab-active":o.value===`code`}]),onClick:i[2]||=e=>o.value=`code`},` Code `,2)]),o.value===`code`&&e.code?(C(),_(`button`,{key:0,class:`btn btn-ghost btn-xs gap-2`,onClick:f},[c.value?(C(),_(`svg`,Y,[...i[5]||=[g(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,d:`m4.5 12.75 6 6 9-13.5`},null,-1)]])):(C(),_(`svg`,J,[...i[4]||=[g(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,d:`M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-2.013.447-2.725 1.212L4.435 7.763a2.25 2.25 0 0 0-.593 1.51V18a2.25 2.25 0 0 0 2.25 2.25h11.25A2.25 2.25 0 0 0 19.5 18v-4.5m-3-10.5 3 3m-3-3h-1.5a2.25 2.25 0 0 0-2.25 2.25v1.5m3-3 3 3m-9-3h2.25A2.25 2.25 0 0 1 15 11.25V18`},null,-1)]])),n(` `+m(c.value?`Copied!`:`Copy`),1)])):D(`v-if`,!0)]),s(g(`div`,re,[l(r.$slots,`default`,{},void 0,!0)],512),[[y,o.value===`preview`]]),o.value===`code`?(C(),_(`div`,{key:0,"data-theme":`dark`,class:`flex-1 mx-4 mb-4 p-4 bg-base-100 text-base-content overflow-auto font-mono text-sm leading-relaxed rounded-box shiki-container`,style:a({blockSize:d.blockSize})},[u.value?(C(),_(`div`,{key:0,innerHTML:u.value},null,8,ie)):(C(),_(`pre`,ae,[g(`code`,null,m(e.code),1)]))],4)):D(`v-if`,!0)])]))}}),[[`__scopeId`,`data-v-18012cad`]]),X=[],Z=[],se=60,ce=!0,le=0,Q=null;const ue=O(0),$=O(null),de=b(()=>!$.value||$.value===0?0:Math.min(100,Math.round(ue.value/$.value*100)));function fe(e){if(le!==0){let t=e-le;if(ce&&(Z.push(t),Z.length>=se)){let e=[...Z].sort((e,t)=>e-t),t=e[Math.floor(e.length/4)],n=Math.round(1e3/t);$.value=[60,75,90,120,144,165,240,360].reduce((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e),ce=!1}if(X.push(t),X.length>20&&X.shift(),X.length>=5){let e=X.reduce((e,t)=>e+t,0)/X.length,t=Math.round(1e3/e);Math.abs(ue.value-t)>.5&&(ue.value=t)}}le=e,Q=requestAnimationFrame(fe)}function pe(){Q=requestAnimationFrame(fe)}function me(){Q&&cancelAnimationFrame(Q)}var he={class:`max-sm:w-full min-w-84 list bg-base-300 rounded-box shadow-md text-sm pointer-events-auto`},ge={class:`list-row py-4 items-center`},_e={class:`grid *:[grid-area:1/1]`},ve={key:0,class:`font-bold flex items-center gap-2`},ye={class:`list-row py-1.5 items-center`},be={class:`uppercase font-semibold`},xe={class:`list-row py-1.5 items-center`},Se={class:`font-semibold`},Ce={class:`list-row py-1.5 items-center`},we={class:`font-semibold`},Te={class:`list-row py-1.5 items-center`},Ee={class:`font-semibold`},De={class:`list-row py-1.5 items-center`},Oe={class:`font-semibold`},ke={class:`list-row py-1.5 items-center`},Ae={class:`font-semibold`},je=p({__name:`ScrollStatus`,props:{scrollDetails:{},direction:{},columnRange:{}},setup(r){let i=r,a=b(()=>({start:i.scrollDetails?.items[0]?.index??0,end:i.scrollDetails?.items[i.scrollDetails?.items.length-1]?.index??0})),o=b(()=>{let e=de.value;return e>90?`status-success`:e>60?`status-warning`:`status-error`});return w(pe),e(me),(e,i)=>(C(),_(`ul`,he,[g(`li`,ge,[i[0]||=g(`div`,{class:`opacity-60 tracking-wide uppercase`},`Scroll Status`,-1),g(`div`,_e,[r.scrollDetails?.isScrolling?(C(),_(`div`,{key:0,class:h([`status status-lg animate-ping`,o.value])},null,2)):D(`v-if`,!0),g(`div`,{class:h([`status status-lg`,o.value])},null,2)]),i[1]||=g(`div`,null,null,-1),t($)?(C(),_(`div`,ve,m(t(ue))+` / `+m(t($))+` fps `,1)):D(`v-if`,!0)]),g(`li`,ye,[i[2]||=g(`div`,{class:`opacity-60`},`Direction`,-1),i[3]||=g(`div`,null,null,-1),g(`div`,be,m(r.direction||`vertical`),1)]),g(`li`,xe,[i[4]||=g(`div`,{class:`opacity-60`},`Total Size (px)`,-1),i[5]||=g(`div`,null,null,-1),g(`div`,Se,[r.direction===`vertical`?D(`v-if`,!0):(C(),_(x,{key:0},[n(m(Math.round(r.scrollDetails?.totalSize.width||0)),1)],64)),r.direction===`both`?(C(),_(x,{key:1},[n(` × `)],64)):D(`v-if`,!0),r.direction===`horizontal`?D(`v-if`,!0):(C(),_(x,{key:2},[n(m(Math.round(r.scrollDetails?.totalSize.height||0)),1)],64))])]),g(`li`,Ce,[i[6]||=g(`div`,{class:`opacity-60`},`Viewport Size (px)`,-1),i[7]||=g(`div`,null,null,-1),g(`div`,we,[r.direction===`vertical`?D(`v-if`,!0):(C(),_(x,{key:0},[n(m(Math.round(r.scrollDetails?.viewportSize.width||0)),1)],64)),r.direction===`both`?(C(),_(x,{key:1},[n(` × `)],64)):D(`v-if`,!0),r.direction===`horizontal`?D(`v-if`,!0):(C(),_(x,{key:2},[n(m(Math.round(r.scrollDetails?.viewportSize.height||0)),1)],64))])]),g(`li`,Te,[i[8]||=g(`div`,{class:`opacity-60`},`Scroll Offset (px)`,-1),i[9]||=g(`div`,null,null,-1),g(`div`,Ee,[r.direction===`vertical`?D(`v-if`,!0):(C(),_(x,{key:0},[n(m(Math.round(r.scrollDetails?.scrollOffset.x||0)),1)],64)),r.direction===`both`?(C(),_(x,{key:1},[n(` × `)],64)):D(`v-if`,!0),r.direction===`horizontal`?D(`v-if`,!0):(C(),_(x,{key:2},[n(m(Math.round(r.scrollDetails?.scrollOffset.y||0)),1)],64))])]),g(`li`,De,[i[10]||=g(`div`,{class:`opacity-60`},`Current Item #`,-1),i[11]||=g(`div`,null,null,-1),g(`div`,Oe,[n(m(r.scrollDetails?.currentIndex)+` `,1),r.direction===`both`?(C(),_(x,{key:0},[n(` × `+m(r.scrollDetails?.currentColIndex),1)],64)):D(`v-if`,!0)])]),g(`li`,ke,[i[12]||=g(`div`,{class:`opacity-60`},`Rendered Range #`,-1),i[13]||=g(`div`,null,null,-1),g(`div`,Ae,[n(m(a.value.start)+`:`+m(a.value.end)+` `,1),r.columnRange?(C(),_(x,{key:0},[n(` × `+m(r.columnRange.start)+`:`+m(r.columnRange.end),1)],64)):D(`v-if`,!0)])])]))}});export{I as i,oe as n,L as r,je as t};