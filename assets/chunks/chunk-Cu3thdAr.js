const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/chunk-ZUmFetjb.js","assets/chunks/chunk-DR3HwT-S.js"])))=>i.map(i=>d[i]);
import{r as W,J as zt,h as E,H as de,K as kt,j as pe,m as nt,k as ut,d as ct,l as He,o as S,L as We,u as fe,B as Oe,x as Re,w as De,p as P,c as T,M as we,a as f,C as xt,y as q,F as ce,N as dt,O as Rt,s as Ct,e as ie,P as Mt,G as Tt}from"./chunk-LBZudith.js";/* empty css              */import{_ as vt}from"./chunk-DR3HwT-S.js";/* empty css              */class at{tree;values;constructor(a){this.tree=new Float64Array(a+1),this.values=new Float64Array(a)}update(a,u){if(!(a<0||a>=this.values.length))for(this.values[a]=this.values[a]+u,a++;a<this.tree.length;)this.tree[a]=this.tree[a]+u,a+=a&-a}query(a){let u=0;for(;a>0;)u+=this.tree[a]||0,a-=a&-a;return u}set(a,u){a<0||a>=this.values.length||(this.values[a]=u)}get length(){return this.values.length}get(a){return this.values[a]||0}getValues(){return this.values}findLowerBound(a){let u=0;const n=this.tree.length;let y=1<<Math.floor(Math.log2(n-1));for(;y>0;){const c=u+y;if(c<n){const Y=this.tree[c]||0;Y<=a&&(u=c,a-=Y)}y>>=1}return u}rebuild(){this.tree.fill(0);for(let a=0;a<this.values.length;a++)this.tree[a+1]=this.values[a]||0;for(let a=1;a<this.tree.length;a++){const u=a+(a&-a);u<this.tree.length&&(this.tree[u]=this.tree[u]+this.tree[a])}}resize(a){if(a===this.values.length)return;const u=new Float64Array(a);u.set(this.values.subarray(0,Math.min(a,this.values.length))),this.values=u,this.tree=new Float64Array(a+1),this.rebuild()}shift(a){if(a===0)return;const u=this.values.length,n=new Float64Array(u);a>0?n.set(this.values.subarray(0,Math.min(u-a,this.values.length)),a):n.set(this.values.subarray(-a)),this.values=n,this.rebuild()}}function ft(e){return!!e&&"getBoundingClientRect"in e}function ot(e){return!!e&&"scrollLeft"in e}function ht(e){return typeof e=="object"&&e!==null&&("align"in e||"behavior"in e||"isCorrection"in e)}function Me(e,a){return typeof e=="object"&&e!==null?e.x||0:a==="horizontal"&&e||0}function Te(e,a){return typeof e=="object"&&e!==null?e.y||0:(a==="vertical"||a==="both")&&e||0}const $t=50,gt=150,mt=5;function At(e){const a=W(0),u=W(0),n=W(!1),y=W(!1),c=W(!1),Y=W(!1),O=W(0),te=W(0),L=zt({x:0,y:0});let ne;const H=W(!1),m=new at(e.value.items.length),z=new at(e.value.items.length),X=new at(e.value.columnCount||0),K=W(0);let he=new Uint8Array(0),ae=new Uint8Array(0),I=new Uint8Array(0);const oe=W(null),be=W(0),Se=W(0),$e=W(!1);let se=[];const Ye=E(()=>e.value.itemSize===void 0||e.value.itemSize===null||e.value.itemSize===0),qe=E(()=>e.value.columnWidth===void 0||e.value.columnWidth===null||e.value.columnWidth===0),J=E(()=>typeof e.value.itemSize=="number"&&e.value.itemSize>0?e.value.itemSize:null),ze=E(()=>J.value||e.value.defaultItemSize||$t),Ae=E(()=>[...e.value.stickyIndices||[]].sort((l,t)=>l-t)),re=E(()=>{if(K.value,!y.value&&e.value.ssrRange&&!Y.value){const{start:l=0,end:t=0,colStart:s=0,colEnd:o=0}=e.value.ssrRange,v=e.value.columnCount||0;if(e.value.direction==="both"&&v>0)return X.query(o||v)-X.query(s);if(e.value.direction==="horizontal")return J.value!==null?(t-l)*(J.value+(e.value.columnGap||0)):m.query(t)-m.query(l)}return e.value.direction==="both"&&e.value.columnCount?X.query(e.value.columnCount):e.value.direction==="vertical"?0:J.value!==null?e.value.items.length*(J.value+(e.value.columnGap||0)):m.query(e.value.items.length)}),ge=E(()=>{if(K.value,!y.value&&e.value.ssrRange&&!Y.value){const{start:l,end:t}=e.value.ssrRange;if(e.value.direction==="vertical"||e.value.direction==="both")return J.value!==null?(t-l)*(J.value+(e.value.gap||0)):z.query(t)-z.query(l)}return e.value.direction==="horizontal"?0:J.value!==null?e.value.items.length*(J.value+(e.value.gap||0)):z.query(e.value.items.length)}),D=E(()=>{const t=e.value.direction==="horizontal"||e.value.direction==="both"?Me(e.value.scrollPaddingStart,e.value.direction):0;return Math.max(0,a.value+t-L.x)}),j=E(()=>{const t=e.value.direction==="vertical"||e.value.direction==="both"?Te(e.value.scrollPaddingStart,e.value.direction):0;return Math.max(0,u.value+t-L.y)}),Le=l=>{K.value;const t=e.value.columnWidth;return typeof t=="number"&&t>0?t:Array.isArray(t)&&t.length>0?t[l%t.length]||gt:typeof t=="function"?t(l):X.get(l)||e.value.defaultColumnWidth||gt},Ee=(l,t,s)=>{const o=typeof s=="object"&&s!==null&&"isCorrection"in s?s.isCorrection:!1;o||(oe.value={rowIndex:l,colIndex:t,options:s});const v=e.value.container||window,k=J.value,C=e.value.gap||0,h=e.value.columnGap||0;let g,w;ht(s)?(g=s.align,w=s.behavior):g=s;const x=(typeof g=="object"?g.x:g)||"auto",M=(typeof g=="object"?g.y:g)||"auto",R=Me(e.value.scrollPaddingStart,e.value.direction),b=Me(e.value.scrollPaddingEnd,e.value.direction),$=Te(e.value.scrollPaddingStart,e.value.direction),U=Te(e.value.scrollPaddingEnd,e.value.direction),F=e.value.direction==="vertical"||e.value.direction==="both",A=e.value.direction==="horizontal"||e.value.direction==="both",le=O.value-(A?R+b:0),xe=te.value-(F?$+U:0);let N=D.value,Q=j.value,ve=0,me=0;if(l!=null&&(l>=e.value.items.length?(Q=ge.value,me=0):(Q=k!==null?l*(k+C):z.query(l),me=k!==null?k:z.get(l)-C),M==="start"||(M==="center"?Q-=(xe-me)/2:M==="end"?Q-=xe-me:Q>=j.value&&Q+me<=j.value+xe||Q<j.value||(Q-=xe-me))),t!=null){const p=e.value.columnCount||0;t>=p&&p>0?(N=re.value,ve=0):e.value.direction==="horizontal"?(N=k!==null?t*(k+h):m.query(t),ve=k!==null?k:m.get(t)-h):(N=X.query(t),ve=X.get(t)),x==="start"||(x==="center"?N-=(le-ve)/2:x==="end"?N-=le-ve:N>=D.value&&N+ve<=D.value+le||N<D.value||(N-=le-ve))}N=Math.max(0,Math.min(N,Math.max(0,re.value-le))),Q=Math.max(0,Math.min(Q,Math.max(0,ge.value-xe)));const ee=N+L.x-(A?R:0),ue=Q+L.y-(F?$:0),G=1;let _=t==null||Math.abs(D.value-N)<G,ye=l==null||Math.abs(j.value-Q)<G;if(!_||!ye){let p=0,Ie=0,Ne=0,Ke=0,Je=0,Ze=0;if(typeof window<"u"){if(v===window?(p=window.scrollX,Ie=window.scrollY,Ne=document.documentElement.scrollWidth,Ke=document.documentElement.scrollHeight,Je=window.innerWidth,Ze=window.innerHeight):ft(v)&&(p=v.scrollLeft,Ie=v.scrollTop,Ne=v.scrollWidth,Ke=v.scrollHeight,Je=v.clientWidth,Ze=v.clientHeight),!_&&t!==null&&t!==void 0){const lt=p<=G&&ee<=G,it=p>=Ne-Je-G&&ee>=Ne-Je-G;(lt||it)&&(_=!0)}if(!ye&&l!==null&&l!==void 0){const lt=Ie<=G&&ue<=G,it=Ie>=Ke-Ze-G&&ue>=Ke-Ze-G;(lt||it)&&(ye=!0)}}}const Ue=o?"auto":w||"smooth";if(H.value=!0,typeof window<"u"&&v===window)window.scrollTo({left:t==null?void 0:Math.max(0,ee),top:l==null?void 0:Math.max(0,ue),behavior:Ue});else if(ot(v)){const p={behavior:Ue};t!=null&&(p.left=Math.max(0,ee)),l!=null&&(p.top=Math.max(0,ue)),typeof v.scrollTo=="function"?v.scrollTo(p):(p.left!==void 0&&(v.scrollLeft=p.left),p.top!==void 0&&(v.scrollTop=p.top))}(Ue==="auto"||Ue===void 0)&&(t!=null&&(a.value=Math.max(0,ee)),l!=null&&(u.value=Math.max(0,ue))),_&&ye&&!n.value&&(oe.value=null)},Ve=(l,t,s)=>{const o=e.value.container||window;H.value=!0;const v=e.value.direction==="vertical"||e.value.direction==="both",k=e.value.direction==="horizontal"||e.value.direction==="both",C=Me(e.value.scrollPaddingStart,e.value.direction),h=Te(e.value.scrollPaddingStart,e.value.direction),g=typeof window<"u"&&o===window?window.scrollX:o.scrollLeft,w=typeof window<"u"&&o===window?window.scrollY:o.scrollTop,x=l!=null?l+L.x-(k?C:0):g,M=t!=null?t+L.y-(v?h:0):w;if(typeof window<"u"&&o===window)window.scrollTo({left:l!=null?x:void 0,top:t!=null?M:void 0,behavior:s?.behavior||"auto"});else if(ot(o)){const R={behavior:s?.behavior||"auto"};l!=null&&(R.left=x),t!=null&&(R.top=M),typeof o.scrollTo=="function"?o.scrollTo(R):(R.left!==void 0&&(o.scrollLeft=R.left),R.top!==void 0&&(o.scrollTop=R.top))}(s?.behavior==="auto"||s?.behavior===void 0)&&(l!=null&&(a.value=x),t!=null&&(u.value=M))},Fe=()=>{const l=e.value.items,t=l.length,s=e.value.columnCount||0;if(m.resize(t),z.resize(t),X.resize(s),ae.length!==t){const h=new Uint8Array(t);h.set(ae.subarray(0,Math.min(t,ae.length))),ae=h}if(I.length!==t){const h=new Uint8Array(t);h.set(I.subarray(0,Math.min(t,I.length))),I=h}if(he.length!==s){const h=new Uint8Array(s);h.set(he.subarray(0,Math.min(s,he.length))),he=h}let o=0;if(e.value.restoreScrollOnPrepend&&se.length>0&&t>se.length){const h=se[0];if(h!==void 0){for(let g=1;g<=t-se.length;g++)if(l[g]===h){o=g;break}}}if(o>0){m.shift(o),z.shift(o),oe.value&&oe.value.rowIndex!==null&&oe.value.rowIndex!==void 0&&(oe.value.rowIndex+=o);const h=new Uint8Array(t),g=new Uint8Array(t);h.set(ae.subarray(0,Math.min(t-o,ae.length)),o),g.set(I.subarray(0,Math.min(t-o,I.length)),o),ae=h,I=g;const w=e.value.gap||0,x=e.value.columnGap||0;let M=0,R=0;for(let b=0;b<o;b++){const $=typeof e.value.itemSize=="function"?e.value.itemSize(l[b],b):ze.value;e.value.direction==="horizontal"?M+=$+x:R+=$+w}(M>0||R>0)&&nt(()=>{Ve(M>0?D.value+M:null,R>0?j.value+R:null,{behavior:"auto"})})}if(s>0){const h=e.value.columnGap||0;let g=!1;for(let w=0;w<s;w++){const x=Le(w),M=X.get(w);if(!qe.value||M===0){const R=x+h;Math.abs(M-R)>.5&&(X.set(w,R),g=!0)}}g&&X.rebuild()}const v=e.value.gap||0,k=e.value.columnGap||0;let C=!1;for(let h=0;h<t;h++){const g=e.value.items[h],w=m.get(h),x=z.get(h);if(Ye.value&&(w>0||x>0))continue;const M=typeof e.value.itemSize=="function"?e.value.itemSize(g,h):ze.value,R=e.value.direction==="vertical",b=e.value.direction==="horizontal",$=e.value.direction==="both",U=b?M+k:0,F=R||$?M+v:0;Math.abs(w-U)>.5&&(m.set(h,U),C=!0),Math.abs(x-F)>.5&&(z.set(h,F),C=!0);const A=b?M:$?Math.max(M,O.value):0,le=R||$?M:0;A>be.value&&(be.value=A),le>Se.value&&(Se.value=le)}C&&(m.rebuild(),z.rebuild()),se=[...l],$e.value=!0,K.value++},ke=()=>{if(e.value.hostElement&&typeof window<"u"){const l=e.value.hostElement.getBoundingClientRect(),t=e.value.container||window;let s=0,o=0;if(t===window)s=l.left+window.scrollX,o=l.top+window.scrollY;else if(t===e.value.hostElement)s=0,o=0;else if(ft(t)){const v=t.getBoundingClientRect();s=l.left-v.left+t.scrollLeft,o=l.top-v.top+t.scrollTop}(Math.abs(L.x-s)>.1||Math.abs(L.y-o)>.1)&&(L.x=s,L.y=o)}};de([()=>e.value.items.length,()=>e.value.columnCount,()=>e.value.columnWidth,()=>e.value.itemSize,()=>e.value.gap,()=>e.value.columnGap],Fe,{immediate:!0}),de(()=>[e.value.container,e.value.hostElement],()=>{ke()});const Ge=E(()=>{if(K.value,(!y.value||c.value)&&e.value.ssrRange)return{start:e.value.ssrRange.start,end:e.value.ssrRange.end};const l=e.value.direction||"vertical",t=e.value.ssrRange&&!n.value?0:e.value.bufferBefore??mt,s=e.value.bufferAfter??mt,o=e.value.gap||0,v=e.value.columnGap||0,k=J.value,C=Me(e.value.scrollPaddingStart,l),h=Me(e.value.scrollPaddingEnd,l),g=Te(e.value.scrollPaddingStart,l),w=Te(e.value.scrollPaddingEnd,l),x=l==="vertical"||l==="both",M=l==="horizontal"||l==="both",R=O.value-(M?C+h:0),b=te.value-(x?g+w:0);let $=0,U=e.value.items.length;if(x)if(k!==null)$=Math.floor(j.value/(k+o)),U=Math.ceil((j.value+b)/(k+o));else{$=z.findLowerBound(j.value);let F=z.query($),A=$;for(;A<e.value.items.length&&F<j.value+b;)F=z.query(++A);U=A}else if(k!==null)$=Math.floor(D.value/(k+v)),U=Math.ceil((D.value+R)/(k+v));else{$=m.findLowerBound(D.value);let F=m.query($),A=$;for(;A<e.value.items.length&&F<D.value+R;)F=m.query(++A);U=A}return{start:Math.max(0,$-t),end:Math.min(e.value.items.length,U+s)}}),je=E(()=>{K.value;const l=J.value,t=e.value.gap||0,s=e.value.columnGap||0;return e.value.direction==="horizontal"?l!==null?Math.floor(D.value/(l+s)):m.findLowerBound(D.value):l!==null?Math.floor(j.value/(l+t)):z.findLowerBound(j.value)}),i=E(()=>{K.value;const{start:l,end:t}=Ge.value,s=[],o=J.value,v=e.value.gap||0,k=e.value.columnGap||0,C=Ae.value,h=new Set;for(let b=l;b<t;b++)h.add(b);if(y.value||!e.value.ssrRange){const b=je.value;let $,U=0,F=C.length-1;for(;U<=F;){const A=U+F>>>1;C[A]<b?($=C[A],U=A+1):F=A-1}$!==void 0&&h.add($);for(const A of C)A>=l&&A<t&&h.add(A)}const g=Array.from(h).sort((b,$)=>b-$),w=e.value.ssrRange?.start||0,x=e.value.ssrRange?.colStart||0;let M=0,R=0;!y.value&&e.value.ssrRange&&(R=e.value.direction==="vertical"||e.value.direction==="both"?o!==null?w*(o+v):z.query(w):0,e.value.direction==="horizontal"?M=o!==null?x*(o+k):m.query(x):e.value.direction==="both"&&(M=X.query(x)));for(const b of g){const $=e.value.items[b];if($===void 0)continue;let U=0,F=0,A=0,le=0;e.value.direction==="horizontal"?(U=o!==null?b*(o+k):m.query(b),A=o!==null?o:m.get(b)-k,le=te.value):(F=(e.value.direction==="vertical"||e.value.direction==="both")&&o!==null?b*(o+v):z.query(b),le=o!==null?o:z.get(b)-v,A=e.value.direction==="both"?re.value:O.value);const xe=C.includes(b),N=U,Q=F;let ve=!1;const me={x:0,y:0};if(xe){if(e.value.direction==="vertical"||e.value.direction==="both"){if(j.value>Q){ve=!0;let ee,ue=0,G=C.length-1;for(;ue<=G;){const _=ue+G>>>1;C[_]>b?(ee=C[_],G=_-1):ue=_+1}if(ee!==void 0){const ye=(o!==null?ee*(o+v):z.query(ee))-j.value;ye<le&&(me.y=-(le-ye))}}}else if(e.value.direction==="horizontal"&&D.value>N){ve=!0;let ee,ue=0,G=C.length-1;for(;ue<=G;){const _=ue+G>>>1;C[_]>b?(ee=C[_],G=_-1):ue=_+1}if(ee!==void 0){const ye=(o!==null?ee*(o+k):m.query(ee))-D.value;ye<A&&(me.x=-(A-ye))}}}s.push({item:$,index:b,offset:{x:N-M,y:Q-R},size:{width:A,height:le},originalX:N,originalY:Q,isSticky:xe,isStickyActive:ve,stickyOffset:me})}return s}),r=E(()=>{K.value;const l=e.value.columnCount||0;if(!l)return{start:0,end:0,padStart:0,padEnd:0};if((!y.value||c.value)&&e.value.ssrRange){const{colStart:h=0,colEnd:g=0}=e.value.ssrRange,w=Math.max(0,h),x=Math.min(l,g||l);return{start:w,end:x,padStart:0,padEnd:0}}const t=X.findLowerBound(D.value);let s=X.query(t),o=t;for(;o<l&&s<D.value+O.value;)s=X.query(++o);const v=e.value.ssrRange&&!n.value?0:2,k=Math.max(0,t-v),C=Math.min(l,o+v);return{start:k,end:C,padStart:X.query(k),padEnd:X.query(l)-X.query(C)}}),d=E(()=>{K.value;const l=J.value,t=e.value.columnGap||0;let s=0;return(e.value.direction==="horizontal"||e.value.direction==="both")&&(l!==null?s=Math.floor(D.value/(l+t)):s=m.findLowerBound(D.value)),{items:i.value,currentIndex:je.value,currentColIndex:s,scrollOffset:{x:D.value,y:j.value},viewportSize:{width:O.value,height:te.value},totalSize:{width:re.value,height:ge.value},isScrolling:n.value,isProgrammaticScroll:H.value,range:Ge.value,columnRange:r.value}}),B=()=>{H.value=!1,oe.value=null},Z=l=>{const t=l.target;typeof window>"u"||(t===window||t===document?(a.value=window.scrollX,u.value=window.scrollY):ot(t)&&(a.value=t.scrollLeft,u.value=t.scrollTop),n.value||(H.value||(oe.value=null),n.value=!0),clearTimeout(ne),ne=setTimeout(()=>{n.value=!1,H.value=!1},250))},V=l=>{let t=!1;const s=e.value.gap||0,o=e.value.columnGap||0;for(const{index:v,inlineSize:k,blockSize:C,element:h}of l){if(Ye.value){if(k>be.value&&(be.value=k),C>Se.value&&(Se.value=C),e.value.direction==="horizontal"){const g=m.get(v),w=k+o;Math.abs(g-w)>.5&&(w>g||!ae[v])&&(m.update(v,w-g),ae[v]=1,t=!0)}if(e.value.direction==="vertical"||e.value.direction==="both"){const g=z.get(v),w=C+s;e.value.direction==="both"?(w>g||!I[v])&&(z.update(v,w-g),I[v]=1,t=!0):Math.abs(g-w)>.5&&(w>g||!I[v])&&(z.update(v,w-g),I[v]=1,t=!0)}}if(e.value.direction==="both"&&h&&e.value.columnCount&&qe.value){const g=h.dataset.colIndex!==void 0?[h]:Array.from(h.querySelectorAll("[data-col-index]"));for(const w of g){const x=Number.parseInt(w.dataset.colIndex,10);if(x>=0&&x<(e.value.columnCount||0)){const M=w.offsetWidth,R=X.get(x),b=M+o;(b>R||!he[x])&&(X.update(x,b-R),he[x]=1,t=!0)}}}}t&&K.value++},Ce=(l,t,s,o)=>{V([{index:l,inlineSize:t,blockSize:s,element:o}])},Pe=()=>{if(oe.value&&!c.value){const{rowIndex:l,colIndex:t,options:s}=oe.value,o=ht(s)?{...s,isCorrection:!0}:{align:s,isCorrection:!0};Ee(l,t,o)}};de(K,Pe),de(n,l=>{l||Pe()});let et=null;const St=l=>{if(!l||typeof window>"u")return;const t=l===window?document:l;if(t.addEventListener("scroll",Z,{passive:!0}),l===window){O.value=window.innerWidth,te.value=window.innerHeight,a.value=window.scrollX,u.value=window.scrollY;const s=()=>{O.value=window.innerWidth,te.value=window.innerHeight,ke()};return window.addEventListener("resize",s),()=>{t.removeEventListener("scroll",Z),window.removeEventListener("resize",s)}}else return O.value=l.clientWidth,te.value=l.clientHeight,a.value=l.scrollLeft,u.value=l.scrollTop,et=new ResizeObserver(s=>{for(const o of s)o.target===l&&(O.value=l.clientWidth,te.value=l.clientHeight,ke())}),et.observe(l),()=>{t.removeEventListener("scroll",Z),et?.disconnect()}};let tt;return kt()&&(pe(()=>{Y.value=!0,de(()=>e.value.container,l=>{tt?.(),tt=St(l||null)},{immediate:!0}),ke(),e.value.ssrRange||e.value.initialScrollIndex!==void 0?nt(()=>{ke();const l=e.value.initialScrollIndex!==void 0?e.value.initialScrollIndex:e.value.ssrRange?.start,t=e.value.initialScrollAlign||"start";l!=null&&Ee(l,e.value.ssrRange?.colStart,{align:t,behavior:"auto"}),y.value=!0,c.value=!0,nt(()=>{c.value=!1})}):y.value=!0}),ut(()=>{tt?.()})),{renderedItems:i,totalWidth:re,totalHeight:ge,scrollDetails:d,scrollToIndex:Ee,scrollToOffset:Ve,stopProgrammaticScroll:B,updateItemSize:Ce,updateItemSizes:V,updateHostOffset:ke,columnRange:r,getColumnWidth:Le,refresh:()=>{m.resize(0),z.resize(0),X.resize(0),he.fill(0),ae.fill(0),I.fill(0),be.value=0,Se.value=0,Fe()},isHydrated:y}}const Et={key:0,class:"virtual-scroll-debug-info"},Pt=ct({__name:"VirtualScroll",props:{items:{},itemSize:{},direction:{default:"vertical"},bufferBefore:{default:5},bufferAfter:{default:5},container:{},ssrRange:{},columnCount:{default:0},columnWidth:{},containerTag:{default:"div"},wrapperTag:{default:"div"},itemTag:{default:"div"},scrollPaddingStart:{default:0},scrollPaddingEnd:{default:0},stickyHeader:{type:Boolean,default:!1},stickyFooter:{type:Boolean,default:!1},gap:{default:0},columnGap:{default:0},stickyIndices:{default:()=>[]},loadDistance:{default:50},loading:{type:Boolean,default:!1},restoreScrollOnPrepend:{type:Boolean,default:!1},initialScrollIndex:{},initialScrollAlign:{},defaultItemSize:{},defaultColumnWidth:{},debug:{type:Boolean,default:!1}},emits:["scroll","load","visibleRangeChange"],setup(e,{expose:a,emit:u}){const n=e,y=u,c=E(()=>n.debug),Y=W(null),O=W(null),te=W(null),L=W(null),ne=new Map,H=W(0),m=W(0),z=E(()=>{const i=n.container===void 0?Y.value:n.container;return i===Y.value||typeof window<"u"&&(i===window||i===null)}),X=E(()=>{const i=n.scrollPaddingStart,r=n.scrollPaddingEnd,d=typeof i=="object"?i.x||0:n.direction==="horizontal"&&i||0,B=typeof i=="object"?i.y||0:n.direction!=="horizontal"&&i||0,Z=typeof r=="object"?r.x||0:n.direction==="horizontal"&&r||0,V=typeof r=="object"?r.y||0:n.direction!=="horizontal"&&r||0;return{items:n.items,itemSize:n.itemSize,direction:n.direction,bufferBefore:n.bufferBefore,bufferAfter:n.bufferAfter,container:n.container===void 0?Y.value:n.container,hostElement:O.value,ssrRange:n.ssrRange,columnCount:n.columnCount,columnWidth:n.columnWidth,scrollPaddingStart:{x:d,y:B+(n.stickyHeader&&z.value?H.value:0)},scrollPaddingEnd:{x:Z,y:V+(n.stickyFooter&&z.value?m.value:0)},gap:n.gap,columnGap:n.columnGap,stickyIndices:n.stickyIndices,loadDistance:n.loadDistance,loading:n.loading,restoreScrollOnPrepend:n.restoreScrollOnPrepend,initialScrollIndex:n.initialScrollIndex,initialScrollAlign:n.initialScrollAlign,defaultItemSize:n.defaultItemSize,defaultColumnWidth:n.defaultColumnWidth,debug:c.value}}),{isHydrated:K,columnRange:he,renderedItems:ae,scrollDetails:I,totalHeight:oe,totalWidth:be,getColumnWidth:Se,scrollToIndex:$e,scrollToOffset:se,updateHostOffset:Ye,updateItemSizes:qe,refresh:J,stopProgrammaticScroll:ze}=At(X);de(I,(i,r)=>{K.value&&(y("scroll",i),(!r||i.range.start!==r.range.start||i.range.end!==r.range.end||i.columnRange.start!==r.columnRange.start||i.columnRange.end!==r.columnRange.end)&&y("visibleRangeChange",{start:i.range.start,end:i.range.end,colStart:i.columnRange.start,colEnd:i.columnRange.end}),!n.loading&&(n.direction!=="horizontal"&&i.totalSize.height-(i.scrollOffset.y+i.viewportSize.height)<=n.loadDistance&&y("load","vertical"),n.direction!=="vertical"&&i.totalSize.width-(i.scrollOffset.x+i.viewportSize.width)<=n.loadDistance&&y("load","horizontal")))}),de(K,i=>{i&&y("visibleRangeChange",{start:I.value.range.start,end:I.value.range.end,colStart:I.value.columnRange.start,colEnd:I.value.columnRange.end})},{once:!0});const Ae=typeof window>"u"?null:new ResizeObserver(Ye),re=typeof window>"u"?null:new ResizeObserver(i=>{const r=[];for(const d of i){const B=d.target,Z=Number(B.dataset.index);if(B.dataset.colIndex!==void 0)r.push({index:-1,inlineSize:0,blockSize:0,element:B});else if(!Number.isNaN(Z)){let Ce=d.contentRect.width,Pe=d.contentRect.height;d.borderBoxSize&&d.borderBoxSize.length>0?(Ce=d.borderBoxSize[0].inlineSize,Pe=d.borderBoxSize[0].blockSize):(Ce=B.offsetWidth,Pe=B.offsetHeight),r.push({index:Z,inlineSize:Ce,blockSize:Pe,element:B})}}r.length>0&&qe(r)}),ge=typeof window>"u"?null:new ResizeObserver(()=>{H.value=te.value?.offsetHeight||0,m.value=L.value?.offsetHeight||0,Ye()});de(te,(i,r)=>{r&&ge?.unobserve(r),i&&ge?.observe(i)},{immediate:!0}),de(L,(i,r)=>{r&&ge?.unobserve(r),i&&ge?.observe(i)},{immediate:!0});const D=E(()=>ae.value[0]?.index);de(D,(i,r)=>{if(n.direction==="both"){if(r!==void 0){const d=ne.get(r);d&&d.querySelectorAll("[data-col-index]").forEach(B=>re?.unobserve(B))}if(i!==void 0){const d=ne.get(i);d&&d.querySelectorAll("[data-col-index]").forEach(B=>re?.observe(B))}}},{flush:"post"}),pe(()=>{Y.value&&Ae?.observe(Y.value);for(const i of ne.values())re?.observe(i);if(D.value!==void 0){const i=ne.get(D.value);i&&i.querySelectorAll("[data-col-index]").forEach(r=>re?.observe(r))}}),de([Y,O],([i],[r])=>{r&&Ae?.unobserve(r),i&&Ae?.observe(i)});function j(i,r){if(i)ne.set(r,i),re?.observe(i);else{const d=ne.get(r);d&&(re?.unobserve(d),ne.delete(r))}}function Le(i){ze();const{viewportSize:r,scrollOffset:d}=I.value,B=n.direction!=="vertical",Z=n.direction!=="horizontal";if(i.key==="Home"){i.preventDefault(),$e(0,0,"start");return}if(i.key==="End"){i.preventDefault();const V=n.items.length-1,Ce=(n.columnCount||0)>0?n.columnCount-1:0;B&&Z?$e(V,Ce,"end"):$e(0,V,"end");return}if(i.key==="ArrowUp"){i.preventDefault(),se(null,d.y-40);return}if(i.key==="ArrowDown"){i.preventDefault(),se(null,d.y+40);return}if(i.key==="ArrowLeft"){i.preventDefault(),se(d.x-40,null);return}if(i.key==="ArrowRight"){i.preventDefault(),se(d.x+40,null);return}if(i.key==="PageUp"){i.preventDefault(),se(B?d.x-r.width:null,Z?d.y-r.height:null);return}i.key==="PageDown"&&(i.preventDefault(),se(B?d.x+r.width:null,Z?d.y+r.height:null))}ut(()=>{Ae?.disconnect(),re?.disconnect(),ge?.disconnect()});const Ee=E(()=>{const i=n.container;return i===null||typeof window<"u"&&i===window?!0:i&&typeof i=="object"&&"tagName"in i?i.tagName==="BODY":!1}),Ve=E(()=>Ee.value?{...n.direction!=="vertical"?{whiteSpace:"nowrap"}:{}}:n.containerTag==="table"?{minInlineSize:n.direction==="vertical"?"100%":"auto"}:{...n.direction!=="vertical"?{whiteSpace:"nowrap"}:{}}),Fe=E(()=>({inlineSize:n.direction==="vertical"?"100%":`${be.value}px`,blockSize:n.direction==="horizontal"?"100%":`${oe.value}px`})),ke=E(()=>{const i=n.direction==="horizontal";return{display:i?"inline-block":"block",...i?{blockSize:"100%",verticalAlign:"top"}:{inlineSize:"100%"}}}),Ge=E(()=>({inlineSize:n.direction==="vertical"?"1px":`${be.value}px`,blockSize:n.direction==="horizontal"?"1px":`${oe.value}px`}));function je(i){const r=n.direction==="vertical",d=n.direction==="horizontal",B=n.direction==="both",Z=n.itemSize===void 0||n.itemSize===null||n.itemSize===0,V={blockSize:d?"100%":Z?"auto":`${i.size.height}px`};return r&&n.containerTag==="table"?V.minInlineSize="100%":V.inlineSize=r?"100%":Z?"auto":`${i.size.width}px`,Z&&(r||(V.minInlineSize=`${i.size.width}px`),d||(V.minBlockSize=`${i.size.height}px`)),K.value&&(i.isStickyActive?((r||B)&&(V.insetBlockStart=`${Te(n.scrollPaddingStart,n.direction)}px`),(d||B)&&(V.insetInlineStart=`${Me(n.scrollPaddingStart,n.direction)}px`),V.transform=`translate(${i.stickyOffset.x}px, ${i.stickyOffset.y}px)`):V.transform=`translate(${i.offset.x}px, ${i.offset.y}px)`),V}return a({scrollDetails:I,columnRange:he,getColumnWidth:Se,scrollToIndex:$e,scrollToOffset:se,refresh:J,stopProgrammaticScroll:ze}),(i,r)=>(S(),He(We(e.containerTag),{ref_key:"hostRef",ref:Y,class:Re(["virtual-scroll-container",[`virtual-scroll--${e.direction}`,{"virtual-scroll--hydrated":fe(K),"virtual-scroll--window":Ee.value,"virtual-scroll--table":e.containerTag==="table"}]]),style:Oe(Ve.value),tabindex:"0",onKeydown:Le,onWheelPassive:fe(ze),onPointerdownPassive:fe(ze),onTouchstartPassive:fe(ze)},{default:De(()=>[i.$slots.header?(S(),He(We(e.containerTag==="table"?"thead":"div"),{key:0,ref_key:"headerRef",ref:te,class:Re(["virtual-scroll-header",{"virtual-scroll--sticky":e.stickyHeader}])},{default:De(()=>[we(i.$slots,"header",{},void 0,!0)]),_:3},8,["class"])):P("v-if",!0),(S(),He(We(e.wrapperTag),{ref_key:"wrapperRef",ref:O,class:"virtual-scroll-wrapper",style:Oe(Fe.value)},{default:De(()=>[P(" Phantom element to push scroll height "),e.containerTag==="table"?(S(),He(We(e.itemTag),{key:0,class:"virtual-scroll-spacer",style:Oe(Ge.value)},{default:De(()=>[...r[0]||(r[0]=[f("td",{style:{padding:"0",border:"none","block-size":"inherit"}},null,-1)])]),_:1},8,["style"])):P("v-if",!0),(S(!0),T(ce,null,xt(fe(ae),d=>(S(),He(We(e.itemTag),{key:d.index,ref_for:!0,ref:B=>j(B,d.index),"data-index":d.index,class:Re(["virtual-scroll-item",{"virtual-scroll--sticky":d.isStickyActive,"virtual-scroll--debug":c.value}]),style:Oe(je(d))},{default:De(()=>[we(i.$slots,"item",{item:d.item,index:d.index,columnRange:fe(he),getColumnWidth:fe(Se),isSticky:d.isSticky,isStickyActive:d.isStickyActive},void 0,!0),c.value?(S(),T("div",Et," #"+q(d.index)+" ("+q(Math.round(d.offset.x))+", "+q(Math.round(d.offset.y))+") ",1)):P("v-if",!0)]),_:2},1032,["data-index","class","style"]))),128))]),_:3},8,["style"])),e.loading&&i.$slots.loading?(S(),T("div",{key:1,class:"virtual-scroll-loading",style:Oe(ke.value)},[we(i.$slots,"loading",{},void 0,!0)],4)):P("v-if",!0),i.$slots.footer?(S(),He(We(e.containerTag==="table"?"tfoot":"div"),{key:2,ref_key:"footerRef",ref:L,class:Re(["virtual-scroll-footer",{"virtual-scroll--sticky":e.stickyFooter}])},{default:De(()=>[we(i.$slots,"footer",{},void 0,!0)]),_:3},8,["class"])):P("v-if",!0)]),_:3},40,["class","style","onWheelPassive","onPointerdownPassive","onTouchstartPassive"]))}}),wt=(e,a)=>{const u=e.__vccOpts||e;for(const[n,y]of a)u[n]=y;return u},bl=wt(Pt,[["__scopeId","data-v-52f5b60b"]]),Ht={class:"space-y-2 md:space-y-4"},Wt={key:0,class:"prose max-w-none"},Dt={class:"card card-side bg-base-300 shadow-sm border border-base-300"},Bt={key:0,class:"shrink-0 flex items-center justify-center ps-4"},Ot={class:"card-body p-4"},Xt={class:"flex items-center justify-between"},Yt={key:0,class:"text-lg m-0"},It={key:0,class:"opacity-70 m-0"},qt={class:"flex items-center justify-between px-4 py-2"},Lt={class:"tabs tabs-boxed bg-transparent p-0"},Vt={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-4"},Ft={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-4 text-success"},Gt={class:"flex-1 mx-4 mb-4 overflow-auto rounded-box"},jt=["innerHTML"],Ut={key:1},Nt=ct({__name:"ExampleContainer",props:{height:{default:"min(50dvh, 600px)"},minHeight:{default:"min(10dvh, 50px)"},minWidth:{default:"min(10vw, 50px)"},code:{}},setup(e){const a=e,u=W("preview"),n=W(!1),y=W(""),c={blockSize:a.height,minBlockSize:a.minHeight,minInlineSize:a.minWidth};async function Y(){a.code&&(await navigator.clipboard.writeText(a.code),n.value=!0,setTimeout(()=>{n.value=!1},2e3))}const O=Rt(),te=E(()=>dt("/",O.urlPathname)||dt("/index",O.urlPathname));let L=null;async function ne(){if(!a.code){y.value="";return}try{const{getHighlighter:H}=await vt(async()=>{const{getHighlighter:z}=await import("./chunk-ZUmFetjb.js");return{getHighlighter:z}},__vite__mapDeps([0,1])),{createCssVariablesTheme:m}=await vt(async()=>{const{createCssVariablesTheme:z}=await import("./chunk-AoYOzXb8.js");return{createCssVariablesTheme:z}},[]);L||(L=await H({themes:[m({name:"css-variables",variablePrefix:"--shiki-",variableDefaults:{}})],langs:["vue"]})),y.value=L.codeToHtml(a.code,{lang:"vue",theme:"css-variables"})}catch(H){console.error("Shikiji highlighting failed:",H),y.value=`<pre><code>${a.code}</code></pre>`}}return pe(ne),de(()=>a.code,ne),(H,m)=>(S(),T("div",Ht,[H.$slots.title||H.$slots.description?(S(),T("div",Wt,[f("div",Dt,[H.$slots.icon?(S(),T("figure",Bt,[we(H.$slots,"icon",{},void 0,!0)])):P("v-if",!0),f("div",Ot,[f("div",Xt,[H.$slots.title?(S(),T("h1",Yt,[we(H.$slots,"title",{},void 0,!0),we(H.$slots,"subtitle",{},void 0,!0)])):P("v-if",!0),te.value?P("v-if",!0):(S(),T("button",{key:1,class:"btn btn-xs btn-ghost gap-1 opacity-50 hover:opacity-100",onClick:m[0]||(m[0]=z=>fe(Tt)("/","back"))},[...m[3]||(m[3]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-3"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"})],-1),f("span",{class:"max-sm:hidden"},"Back to Welcome",-1)])]))]),H.$slots.description?(S(),T("div",It,[we(H.$slots,"description",{},void 0,!0)])):P("v-if",!0)])])])):P("v-if",!0),we(H.$slots,"controls",{},void 0,!0),f("div",{class:"flex flex-col border border-base-300 rounded-box overflow-auto bg-base-300 resize",style:c},[f("div",qt,[f("div",Lt,[f("button",{class:Re(["tab tab-sm",{"tab-active":u.value==="preview"}]),onClick:m[1]||(m[1]=z=>u.value="preview")}," Preview ",2),f("button",{class:Re(["tab tab-sm",{"tab-active":u.value==="code"}]),onClick:m[2]||(m[2]=z=>u.value="code")}," Code ",2)]),u.value==="code"&&e.code?(S(),T("button",{key:0,class:"btn btn-ghost btn-xs gap-2",onClick:Y},[n.value?(S(),T("svg",Ft,[...m[5]||(m[5]=[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"},null,-1)])])):(S(),T("svg",Vt,[...m[4]||(m[4]=[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-2.013.447-2.725 1.212L4.435 7.763a2.25 2.25 0 0 0-.593 1.51V18a2.25 2.25 0 0 0 2.25 2.25h11.25A2.25 2.25 0 0 0 19.5 18v-4.5m-3-10.5 3 3m-3-3h-1.5a2.25 2.25 0 0 0-2.25 2.25v1.5m3-3 3 3m-9-3h2.25A2.25 2.25 0 0 1 15 11.25V18"},null,-1)])])),ie(" "+q(n.value?"Copied!":"Copy"),1)])):P("v-if",!0)]),Ct(f("div",Gt,[we(H.$slots,"default",{},void 0,!0)],512),[[Mt,u.value==="preview"]]),u.value==="code"?(S(),T("div",{key:0,"data-theme":"dark",class:"flex-1 mx-4 mb-4 p-4 bg-base-100 text-base-content overflow-auto font-mono text-sm leading-relaxed rounded-box shiki-container",style:Oe({blockSize:c.blockSize})},[y.value?(S(),T("div",{key:0,innerHTML:y.value},null,8,jt)):(S(),T("pre",Ut,[f("code",null,q(e.code),1)]))],4)):P("v-if",!0)])]))}}),Sl=wt(Nt,[["__scopeId","data-v-08eff38a"]]),Be=[],st=[],Kt=60;let yt=!0,rt=0,Qe=null;const _e=W(0),Xe=W(null),Jt=E(()=>!Xe.value||Xe.value===0?0:Math.min(100,Math.round(_e.value/Xe.value*100)));function bt(e){if(rt!==0){const a=e-rt;if(yt&&(st.push(a),st.length>=Kt)){const u=[...st].sort((Y,O)=>Y-O),n=u[Math.floor(u.length/4)],y=Math.round(1e3/n),c=[60,75,90,120,144,165,240,360];Xe.value=c.reduce((Y,O)=>Math.abs(O-y)<Math.abs(Y-y)?O:Y),yt=!1}if(Be.push(a),Be.length>20&&Be.shift(),Be.length>=5){const u=Be.reduce((y,c)=>y+c,0)/Be.length,n=Math.round(1e3/u);Math.abs(_e.value-n)>.5&&(_e.value=n)}}rt=e,Qe=requestAnimationFrame(bt)}function Zt(){Qe=requestAnimationFrame(bt)}function Qt(){Qe&&cancelAnimationFrame(Qe)}const _t={class:"max-sm:w-full min-w-84 list bg-base-300 rounded-box shadow-md text-sm pointer-events-auto"},pt={class:"list-row py-4 items-center"},el={class:"grid *:[grid-area:1/1]"},tl={key:0,class:"font-bold flex items-center gap-2"},ll={class:"list-row py-1.5 items-center"},il={class:"uppercase font-semibold"},nl={class:"list-row py-1.5 items-center"},al={class:"font-semibold"},ol={class:"list-row py-1.5 items-center"},sl={class:"font-semibold"},rl={class:"list-row py-1.5 items-center"},ul={class:"font-semibold"},cl={class:"list-row py-1.5 items-center"},dl={class:"font-semibold"},vl={class:"list-row py-1.5 items-center"},fl={class:"font-semibold"},zl=ct({__name:"ScrollStatus",props:{scrollDetails:{},direction:{},columnRange:{}},setup(e){const a=e,u=E(()=>({start:a.scrollDetails?.items[0]?.index??0,end:a.scrollDetails?.items[a.scrollDetails?.items.length-1]?.index??0})),n=E(()=>{const y=Jt.value;return y>90?"status-success":y>60?"status-warning":"status-error"});return pe(Zt),ut(Qt),(y,c)=>(S(),T("ul",_t,[f("li",pt,[c[0]||(c[0]=f("div",{class:"opacity-60 tracking-wide uppercase"},"Scroll Status",-1)),f("div",el,[e.scrollDetails?.isScrolling?(S(),T("div",{key:0,class:Re(["status status-lg animate-ping",n.value])},null,2)):P("v-if",!0),f("div",{class:Re(["status status-lg",n.value])},null,2)]),c[1]||(c[1]=f("div",null,null,-1)),fe(Xe)?(S(),T("div",tl,q(fe(_e))+" / "+q(fe(Xe))+" fps ",1)):P("v-if",!0)]),f("li",ll,[c[2]||(c[2]=f("div",{class:"opacity-60"},"Direction",-1)),c[3]||(c[3]=f("div",null,null,-1)),f("div",il,q(e.direction||"vertical"),1)]),f("li",nl,[c[4]||(c[4]=f("div",{class:"opacity-60"},"Total Size (px)",-1)),c[5]||(c[5]=f("div",null,null,-1)),f("div",al,[e.direction!=="vertical"?(S(),T(ce,{key:0},[ie(q(e.scrollDetails?.totalSize.width)+"px ",1)],64)):P("v-if",!0),e.direction==="both"?(S(),T(ce,{key:1},[ie(" × ")],64)):P("v-if",!0),e.direction!=="horizontal"?(S(),T(ce,{key:2},[ie(q(e.scrollDetails?.totalSize.height)+"px ",1)],64)):P("v-if",!0)])]),f("li",ol,[c[6]||(c[6]=f("div",{class:"opacity-60"},"Viewport Size (px)",-1)),c[7]||(c[7]=f("div",null,null,-1)),f("div",sl,[e.direction!=="vertical"?(S(),T(ce,{key:0},[ie(q(e.scrollDetails?.viewportSize.width)+"px ",1)],64)):P("v-if",!0),e.direction==="both"?(S(),T(ce,{key:1},[ie(" × ")],64)):P("v-if",!0),e.direction!=="horizontal"?(S(),T(ce,{key:2},[ie(q(e.scrollDetails?.viewportSize.height)+"px ",1)],64)):P("v-if",!0)])]),f("li",rl,[c[8]||(c[8]=f("div",{class:"opacity-60"},"Scroll Offset (px)",-1)),c[9]||(c[9]=f("div",null,null,-1)),f("div",ul,[e.direction!=="vertical"?(S(),T(ce,{key:0},[ie(q(e.scrollDetails?.scrollOffset.x)+"px ",1)],64)):P("v-if",!0),e.direction==="both"?(S(),T(ce,{key:1},[ie(" × ")],64)):P("v-if",!0),e.direction!=="horizontal"?(S(),T(ce,{key:2},[ie(q(e.scrollDetails?.scrollOffset.y)+"px ",1)],64)):P("v-if",!0)])]),f("li",cl,[c[10]||(c[10]=f("div",{class:"opacity-60"},"Current Item #",-1)),c[11]||(c[11]=f("div",null,null,-1)),f("div",dl,[ie(q(e.scrollDetails?.currentIndex)+" ",1),e.direction==="both"?(S(),T(ce,{key:0},[ie(" × "+q(e.scrollDetails?.currentColIndex),1)],64)):P("v-if",!0)])]),f("li",vl,[c[12]||(c[12]=f("div",{class:"opacity-60"},"Rendered Range #",-1)),c[13]||(c[13]=f("div",null,null,-1)),f("div",fl,[ie(q(u.value.start)+":"+q(u.value.end)+" ",1),e.columnRange?(S(),T(ce,{key:0},[ie(" × "+q(e.columnRange.start)+":"+q(e.columnRange.end),1)],64)):P("v-if",!0)])])]))}});export{Sl as E,bl as V,zl as _};
